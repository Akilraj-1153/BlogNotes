function sE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Ou(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fy={exports:{}},Pu={},zy={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Symbol.for("react.element"),aE=Symbol.for("react.portal"),lE=Symbol.for("react.fragment"),cE=Symbol.for("react.strict_mode"),uE=Symbol.for("react.profiler"),dE=Symbol.for("react.provider"),hE=Symbol.for("react.context"),fE=Symbol.for("react.forward_ref"),pE=Symbol.for("react.suspense"),mE=Symbol.for("react.memo"),gE=Symbol.for("react.lazy"),Sv=Symbol.iterator;function vE(t){return t===null||typeof t!="object"?null:(t=Sv&&t[Sv]||t["@@iterator"],typeof t=="function"?t:null)}var Hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vy=Object.assign,Wy={};function as(t,e,n){this.props=t,this.context=e,this.refs=Wy,this.updater=n||Hy}as.prototype.isReactComponent={};as.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};as.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qy(){}qy.prototype=as.prototype;function Ap(t,e,n){this.props=t,this.context=e,this.refs=Wy,this.updater=n||Hy}var Op=Ap.prototype=new qy;Op.constructor=Ap;Vy(Op,as.prototype);Op.isPureReactComponent=!0;var Ev=Array.isArray,Ky=Object.prototype.hasOwnProperty,Pp={current:null},Gy={key:!0,ref:!0,__self:!0,__source:!0};function Yy(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Ky.call(e,r)&&!Gy.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Ka,type:t,key:i,ref:s,props:o,_owner:Pp.current}}function yE(t,e){return{$$typeof:Ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ka}function bE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cv=/\/+/g;function Dd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bE(""+t.key):e.toString(36)}function Ql(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ka:case aE:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+Dd(s,0):r,Ev(o)?(n="",t!=null&&(n=t.replace(Cv,"$&/")+"/"),Ql(o,e,n,"",function(c){return c})):o!=null&&(Bp(o)&&(o=yE(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Cv,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",Ev(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Dd(i,a);s+=Ql(i,e,n,l,o)}else if(l=vE(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Dd(i,a++),s+=Ql(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function El(t,e,n){if(t==null)return t;var r=[],o=0;return Ql(t,r,"","",function(i){return e.call(n,i,o++)}),r}function wE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zt={current:null},ec={transition:null},xE={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:ec,ReactCurrentOwner:Pp};function Xy(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:El,forEach:function(t,e,n){El(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return El(t,function(){e++}),e},toArray:function(t){return El(t,function(e){return e})||[]},only:function(t){if(!Bp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=as;Ie.Fragment=lE;Ie.Profiler=uE;Ie.PureComponent=Ap;Ie.StrictMode=cE;Ie.Suspense=pE;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xE;Ie.act=Xy;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Vy({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Pp.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ky.call(e,l)&&!Gy.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ka,type:t.type,key:o,ref:i,props:r,_owner:s}};Ie.createContext=function(t){return t={$$typeof:hE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dE,_context:t},t.Consumer=t};Ie.createElement=Yy;Ie.createFactory=function(t){var e=Yy.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:fE,render:t}};Ie.isValidElement=Bp;Ie.lazy=function(t){return{$$typeof:gE,_payload:{_status:-1,_result:t},_init:wE}};Ie.memo=function(t,e){return{$$typeof:mE,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=ec.transition;ec.transition={};try{t()}finally{ec.transition=e}};Ie.unstable_act=Xy;Ie.useCallback=function(t,e){return zt.current.useCallback(t,e)};Ie.useContext=function(t){return zt.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return zt.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return zt.current.useEffect(t,e)};Ie.useId=function(){return zt.current.useId()};Ie.useImperativeHandle=function(t,e,n){return zt.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return zt.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return zt.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return zt.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return zt.current.useReducer(t,e,n)};Ie.useRef=function(t){return zt.current.useRef(t)};Ie.useState=function(t){return zt.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return zt.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return zt.current.useTransition()};Ie.version="18.3.1";zy.exports=Ie;var R=zy.exports;const xe=Ou(R),kE=sE({__proto__:null,default:xe},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E=R,SE=Symbol.for("react.element"),EE=Symbol.for("react.fragment"),CE=Object.prototype.hasOwnProperty,TE=_E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NE={key:!0,ref:!0,__self:!0,__source:!0};function Jy(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)CE.call(e,r)&&!NE.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:SE,type:t,key:i,ref:s,props:o,_owner:TE.current}}Pu.Fragment=EE;Pu.jsx=Jy;Pu.jsxs=Jy;Fy.exports=Pu;var h=Fy.exports,Zy={exports:{}},dn={},Qy={exports:{}},eb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Q){var U=$.length;$.push(Q);e:for(;0<U;){var ee=U-1>>>1,I=$[ee];if(0<o(I,Q))$[ee]=Q,$[U]=I,U=ee;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],U=$.pop();if(U!==Q){$[0]=U;e:for(var ee=0,I=$.length,V=I>>>1;ee<V;){var K=2*(ee+1)-1,oe=$[K],G=K+1,he=$[G];if(0>o(oe,U))G<I&&0>o(he,oe)?($[ee]=he,$[G]=U,ee=G):($[ee]=oe,$[K]=U,ee=K);else if(G<I&&0>o(he,U))$[ee]=he,$[G]=U,ee=G;else break e}}return Q}function o($,Q){var U=$.sortIndex-Q.sortIndex;return U!==0?U:$.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,u=null,p=3,w=!1,f=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m($){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=$)r(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function x($){if(b=!1,m($),!f)if(n(l)!==null)f=!0,X(k);else{var Q=n(c);Q!==null&&ue(x,Q.startTime-$)}}function k($,Q){f=!1,b&&(b=!1,v(S),S=-1),w=!0;var U=p;try{for(m(Q),u=n(l);u!==null&&(!(u.expirationTime>Q)||$&&!z());){var ee=u.callback;if(typeof ee=="function"){u.callback=null,p=u.priorityLevel;var I=ee(u.expirationTime<=Q);Q=t.unstable_now(),typeof I=="function"?u.callback=I:u===n(l)&&r(l),m(Q)}else r(l);u=n(l)}if(u!==null)var V=!0;else{var K=n(c);K!==null&&ue(x,K.startTime-Q),V=!1}return V}finally{u=null,p=U,w=!1}}var _=!1,E=null,S=-1,T=5,N=-1;function z(){return!(t.unstable_now()-N<T)}function D(){if(E!==null){var $=t.unstable_now();N=$;var Q=!0;try{Q=E(!0,$)}finally{Q?A():(_=!1,E=null)}}else _=!1}var A;if(typeof g=="function")A=function(){g(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,H=j.port2;j.port1.onmessage=D,A=function(){H.postMessage(null)}}else A=function(){y(D,0)};function X($){E=$,_||(_=!0,A())}function ue($,Q){S=y(function(){$(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){f||w||(f=!0,X(k))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var U=p;p=Q;try{return $()}finally{p=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var U=p;p=$;try{return Q()}finally{p=U}},t.unstable_scheduleCallback=function($,Q,U){var ee=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ee+U:ee):U=ee,$){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=U+I,$={id:d++,callback:Q,priorityLevel:$,startTime:U,expirationTime:I,sortIndex:-1},U>ee?($.sortIndex=U,e(c,$),n(l)===null&&$===n(c)&&(b?(v(S),S=-1):b=!0,ue(x,U-ee))):($.sortIndex=I,e(l,$),f||w||(f=!0,X(k))),$},t.unstable_shouldYield=z,t.unstable_wrapCallback=function($){var Q=p;return function(){var U=p;p=Q;try{return $.apply(this,arguments)}finally{p=U}}}})(eb);Qy.exports=eb;var RE=Qy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE=R,un=RE;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tb=new Set,xa={};function ti(t,e){qi(t,e),qi(t+"Capture",e)}function qi(t,e){for(xa[t]=e,t=0;t<e.length;t++)tb.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kh=Object.prototype.hasOwnProperty,LE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tv={},Nv={};function AE(t){return Kh.call(Nv,t)?!0:Kh.call(Tv,t)?!1:LE.test(t)?Nv[t]=!0:(Tv[t]=!0,!1)}function OE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PE(t,e,n,r){if(e===null||typeof e>"u"||OE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mp=/[\-:]([a-z])/g;function jp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mp,jp);Nt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mp,jp);Nt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mp,jp);Nt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dp(t,e,n,r){var o=Nt.hasOwnProperty(e)?Nt[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PE(e,n,o,r)&&(n=null),r||o===null?AE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Rr=IE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cl=Symbol.for("react.element"),wi=Symbol.for("react.portal"),xi=Symbol.for("react.fragment"),$p=Symbol.for("react.strict_mode"),Gh=Symbol.for("react.profiler"),nb=Symbol.for("react.provider"),rb=Symbol.for("react.context"),Up=Symbol.for("react.forward_ref"),Yh=Symbol.for("react.suspense"),Xh=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),ob=Symbol.for("react.offscreen"),Rv=Symbol.iterator;function Rs(t){return t===null||typeof t!="object"?null:(t=Rv&&t[Rv]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,$d;function Gs(t){if($d===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$d=e&&e[1]||""}return`
`+$d+t}var Ud=!1;function Fd(t,e){if(!t||Ud)return"";Ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ud=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gs(t):""}function BE(t){switch(t.tag){case 5:return Gs(t.type);case 16:return Gs("Lazy");case 13:return Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 2:case 15:return t=Fd(t.type,!1),t;case 11:return t=Fd(t.type.render,!1),t;case 1:return t=Fd(t.type,!0),t;default:return""}}function Jh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xi:return"Fragment";case wi:return"Portal";case Gh:return"Profiler";case $p:return"StrictMode";case Yh:return"Suspense";case Xh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rb:return(t.displayName||"Context")+".Consumer";case nb:return(t._context.displayName||"Context")+".Provider";case Up:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fp:return e=t.displayName||null,e!==null?e:Jh(t.type)||"Memo";case Ur:e=t._payload,t=t._init;try{return Jh(t(e))}catch{}}return null}function ME(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jh(e);case 8:return e===$p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ib(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jE(t){var e=ib(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tl(t){t._valueTracker||(t._valueTracker=jE(t))}function sb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ib(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zh(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Iv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(t,e){e=e.checked,e!=null&&Dp(t,"checked",e,!1)}function Qh(t,e){ab(t,e);var n=fo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ef(t,e.type,n):e.hasOwnProperty("defaultValue")&&ef(t,e.type,fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ef(t,e,n){(e!=="number"||Lc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ys=Array.isArray;function Pi(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fo(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function tf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Av(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Ys(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fo(n)}}function lb(t,e){var n=fo(e.value),r=fo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ov(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nl,ub=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nl=Nl||document.createElement("div"),Nl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ka(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DE=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(t){DE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ia[e]=ia[t]})});function db(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ia.hasOwnProperty(t)&&ia[t]?(""+e).trim():e+"px"}function hb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=db(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var $E=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rf(t,e){if(e){if($E[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function of(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=null;function zp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var af=null,Bi=null,Mi=null;function Pv(t){if(t=Xa(t)){if(typeof af!="function")throw Error(q(280));var e=t.stateNode;e&&(e=$u(e),af(t.stateNode,t.type,e))}}function fb(t){Bi?Mi?Mi.push(t):Mi=[t]:Bi=t}function pb(){if(Bi){var t=Bi,e=Mi;if(Mi=Bi=null,Pv(t),e)for(t=0;t<e.length;t++)Pv(e[t])}}function mb(t,e){return t(e)}function gb(){}var zd=!1;function vb(t,e,n){if(zd)return t(e,n);zd=!0;try{return mb(t,e,n)}finally{zd=!1,(Bi!==null||Mi!==null)&&(gb(),pb())}}function _a(t,e){var n=t.stateNode;if(n===null)return null;var r=$u(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var lf=!1;if(kr)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){lf=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{lf=!1}function UE(t,e,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var sa=!1,Ac=null,Oc=!1,cf=null,FE={onError:function(t){sa=!0,Ac=t}};function zE(t,e,n,r,o,i,s,a,l){sa=!1,Ac=null,UE.apply(FE,arguments)}function HE(t,e,n,r,o,i,s,a,l){if(zE.apply(this,arguments),sa){if(sa){var c=Ac;sa=!1,Ac=null}else throw Error(q(198));Oc||(Oc=!0,cf=c)}}function ni(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bv(t){if(ni(t)!==t)throw Error(q(188))}function VE(t){var e=t.alternate;if(!e){if(e=ni(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Bv(o),t;if(i===r)return Bv(o),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function bb(t){return t=VE(t),t!==null?wb(t):null}function wb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wb(t);if(e!==null)return e;t=t.sibling}return null}var xb=un.unstable_scheduleCallback,Mv=un.unstable_cancelCallback,WE=un.unstable_shouldYield,qE=un.unstable_requestPaint,lt=un.unstable_now,KE=un.unstable_getCurrentPriorityLevel,Hp=un.unstable_ImmediatePriority,kb=un.unstable_UserBlockingPriority,Pc=un.unstable_NormalPriority,GE=un.unstable_LowPriority,_b=un.unstable_IdlePriority,Bu=null,Gn=null;function YE(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Bu,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:ZE,XE=Math.log,JE=Math.LN2;function ZE(t){return t>>>=0,t===0?32:31-(XE(t)/JE|0)|0}var Rl=64,Il=4194304;function Xs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Xs(a):(i&=s,i!==0&&(r=Xs(i)))}else s=n&~o,s!==0?r=Xs(s):i!==0&&(r=Xs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-On(e),o=1<<n,r|=t[n],e&=~o;return r}function QE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-On(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=QE(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function uf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sb(){var t=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),t}function Hd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ga(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=n}function tC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-On(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function Vp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-On(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var je=0;function Eb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cb,Wp,Tb,Nb,Rb,df=!1,Ll=[],eo=null,to=null,no=null,Sa=new Map,Ea=new Map,Hr=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jv(t,e){switch(t){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Sa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(e.pointerId)}}function Ls(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Xa(e),e!==null&&Wp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function rC(t,e,n,r,o){switch(e){case"focusin":return eo=Ls(eo,t,e,n,r,o),!0;case"dragenter":return to=Ls(to,t,e,n,r,o),!0;case"mouseover":return no=Ls(no,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Sa.set(i,Ls(Sa.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ea.set(i,Ls(Ea.get(i)||null,t,e,n,r,o)),!0}return!1}function Ib(t){var e=Ro(t.target);if(e!==null){var n=ni(e);if(n!==null){if(e=n.tag,e===13){if(e=yb(n),e!==null){t.blockedOn=e,Rb(t.priority,function(){Tb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sf=r,n.target.dispatchEvent(r),sf=null}else return e=Xa(n),e!==null&&Wp(e),t.blockedOn=n,!1;e.shift()}return!0}function Dv(t,e,n){tc(t)&&n.delete(e)}function oC(){df=!1,eo!==null&&tc(eo)&&(eo=null),to!==null&&tc(to)&&(to=null),no!==null&&tc(no)&&(no=null),Sa.forEach(Dv),Ea.forEach(Dv)}function As(t,e){t.blockedOn===e&&(t.blockedOn=null,df||(df=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,oC)))}function Ca(t){function e(o){return As(o,t)}if(0<Ll.length){As(Ll[0],t);for(var n=1;n<Ll.length;n++){var r=Ll[n];r.blockedOn===t&&(r.blockedOn=null)}}for(eo!==null&&As(eo,t),to!==null&&As(to,t),no!==null&&As(no,t),Sa.forEach(e),Ea.forEach(e),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)Ib(n),n.blockedOn===null&&Hr.shift()}var ji=Rr.ReactCurrentBatchConfig,Mc=!0;function iC(t,e,n,r){var o=je,i=ji.transition;ji.transition=null;try{je=1,qp(t,e,n,r)}finally{je=o,ji.transition=i}}function sC(t,e,n,r){var o=je,i=ji.transition;ji.transition=null;try{je=4,qp(t,e,n,r)}finally{je=o,ji.transition=i}}function qp(t,e,n,r){if(Mc){var o=hf(t,e,n,r);if(o===null)Qd(t,e,r,jc,n),jv(t,r);else if(rC(o,t,e,n,r))r.stopPropagation();else if(jv(t,r),e&4&&-1<nC.indexOf(t)){for(;o!==null;){var i=Xa(o);if(i!==null&&Cb(i),i=hf(t,e,n,r),i===null&&Qd(t,e,r,jc,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Qd(t,e,r,null,n)}}var jc=null;function hf(t,e,n,r){if(jc=null,t=zp(r),t=Ro(t),t!==null)if(e=ni(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jc=t,null}function Lb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KE()){case Hp:return 1;case kb:return 4;case Pc:case GE:return 16;case _b:return 536870912;default:return 16}default:return 16}}var Jr=null,Kp=null,nc=null;function Ab(){if(nc)return nc;var t,e=Kp,n=e.length,r,o="value"in Jr?Jr.value:Jr.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return nc=o.slice(t,1<r?1-r:void 0)}function rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Al(){return!0}function $v(){return!1}function hn(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Al:$v,this.isPropagationStopped=$v,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Al)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Al)},persist:function(){},isPersistent:Al}),e}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gp=hn(ls),Ya=tt({},ls,{view:0,detail:0}),aC=hn(Ya),Vd,Wd,Os,Mu=tt({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Os&&(Os&&t.type==="mousemove"?(Vd=t.screenX-Os.screenX,Wd=t.screenY-Os.screenY):Wd=Vd=0,Os=t),Vd)},movementY:function(t){return"movementY"in t?t.movementY:Wd}}),Uv=hn(Mu),lC=tt({},Mu,{dataTransfer:0}),cC=hn(lC),uC=tt({},Ya,{relatedTarget:0}),qd=hn(uC),dC=tt({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),hC=hn(dC),fC=tt({},ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pC=hn(fC),mC=tt({},ls,{data:0}),Fv=hn(mC),gC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yC[t])?!!e[t]:!1}function Yp(){return bC}var wC=tt({},Ya,{key:function(t){if(t.key){var e=gC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yp,charCode:function(t){return t.type==="keypress"?rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xC=hn(wC),kC=tt({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zv=hn(kC),_C=tt({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yp}),SC=hn(_C),EC=tt({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),CC=hn(EC),TC=tt({},Mu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NC=hn(TC),RC=[9,13,27,32],Xp=kr&&"CompositionEvent"in window,aa=null;kr&&"documentMode"in document&&(aa=document.documentMode);var IC=kr&&"TextEvent"in window&&!aa,Ob=kr&&(!Xp||aa&&8<aa&&11>=aa),Hv=" ",Vv=!1;function Pb(t,e){switch(t){case"keyup":return RC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ki=!1;function LC(t,e){switch(t){case"compositionend":return Bb(e);case"keypress":return e.which!==32?null:(Vv=!0,Hv);case"textInput":return t=e.data,t===Hv&&Vv?null:t;default:return null}}function AC(t,e){if(ki)return t==="compositionend"||!Xp&&Pb(t,e)?(t=Ab(),nc=Kp=Jr=null,ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ob&&e.locale!=="ko"?null:e.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OC[t.type]:e==="textarea"}function Mb(t,e,n,r){fb(r),e=Dc(e,"onChange"),0<e.length&&(n=new Gp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var la=null,Ta=null;function PC(t){Kb(t,0)}function ju(t){var e=Ei(t);if(sb(e))return t}function BC(t,e){if(t==="change")return e}var jb=!1;if(kr){var Kd;if(kr){var Gd="oninput"in document;if(!Gd){var qv=document.createElement("div");qv.setAttribute("oninput","return;"),Gd=typeof qv.oninput=="function"}Kd=Gd}else Kd=!1;jb=Kd&&(!document.documentMode||9<document.documentMode)}function Kv(){la&&(la.detachEvent("onpropertychange",Db),Ta=la=null)}function Db(t){if(t.propertyName==="value"&&ju(Ta)){var e=[];Mb(e,Ta,t,zp(t)),vb(PC,e)}}function MC(t,e,n){t==="focusin"?(Kv(),la=e,Ta=n,la.attachEvent("onpropertychange",Db)):t==="focusout"&&Kv()}function jC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Ta)}function DC(t,e){if(t==="click")return ju(e)}function $C(t,e){if(t==="input"||t==="change")return ju(e)}function UC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:UC;function Na(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Kh.call(e,o)||!jn(t[o],e[o]))return!1}return!0}function Gv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yv(t,e){var n=Gv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gv(n)}}function $b(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$b(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ub(){for(var t=window,e=Lc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lc(t.document)}return e}function Jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FC(t){var e=Ub(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$b(n.ownerDocument.documentElement,n)){if(r!==null&&Jp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Yv(n,i);var s=Yv(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zC=kr&&"documentMode"in document&&11>=document.documentMode,_i=null,ff=null,ca=null,pf=!1;function Xv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pf||_i==null||_i!==Lc(r)||(r=_i,"selectionStart"in r&&Jp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ca&&Na(ca,r)||(ca=r,r=Dc(ff,"onSelect"),0<r.length&&(e=new Gp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_i)))}function Ol(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Si={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionend:Ol("Transition","TransitionEnd")},Yd={},Fb={};kr&&(Fb=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Du(t){if(Yd[t])return Yd[t];if(!Si[t])return t;var e=Si[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fb)return Yd[t]=e[n];return t}var zb=Du("animationend"),Hb=Du("animationiteration"),Vb=Du("animationstart"),Wb=Du("transitionend"),qb=new Map,Jv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(t,e){qb.set(t,e),ti(e,[t])}for(var Xd=0;Xd<Jv.length;Xd++){var Jd=Jv[Xd],HC=Jd.toLowerCase(),VC=Jd[0].toUpperCase()+Jd.slice(1);go(HC,"on"+VC)}go(zb,"onAnimationEnd");go(Hb,"onAnimationIteration");go(Vb,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go(Wb,"onTransitionEnd");qi("onMouseEnter",["mouseout","mouseover"]);qi("onMouseLeave",["mouseout","mouseover"]);qi("onPointerEnter",["pointerout","pointerover"]);qi("onPointerLeave",["pointerout","pointerover"]);ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function Zv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HE(r,e,void 0,t),t.currentTarget=null}function Kb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Zv(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Zv(o,a,c),i=l}}}if(Oc)throw t=cf,Oc=!1,cf=null,t}function ze(t,e){var n=e[bf];n===void 0&&(n=e[bf]=new Set);var r=t+"__bubble";n.has(r)||(Gb(e,t,2,!1),n.add(r))}function Zd(t,e,n){var r=0;e&&(r|=4),Gb(n,t,r,e)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Ra(t){if(!t[Pl]){t[Pl]=!0,tb.forEach(function(n){n!=="selectionchange"&&(WC.has(n)||Zd(n,!1,t),Zd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pl]||(e[Pl]=!0,Zd("selectionchange",!1,e))}}function Gb(t,e,n,r){switch(Lb(e)){case 1:var o=iC;break;case 4:o=sC;break;default:o=qp}n=o.bind(null,e,n,t),o=void 0,!lf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Qd(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Ro(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}vb(function(){var c=i,d=zp(n),u=[];e:{var p=qb.get(t);if(p!==void 0){var w=Gp,f=t;switch(t){case"keypress":if(rc(n)===0)break e;case"keydown":case"keyup":w=xC;break;case"focusin":f="focus",w=qd;break;case"focusout":f="blur",w=qd;break;case"beforeblur":case"afterblur":w=qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Uv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=cC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=SC;break;case zb:case Hb:case Vb:w=hC;break;case Wb:w=CC;break;case"scroll":w=aC;break;case"wheel":w=NC;break;case"copy":case"cut":case"paste":w=pC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=zv}var b=(e&4)!==0,y=!b&&t==="scroll",v=b?p!==null?p+"Capture":null:p;b=[];for(var g=c,m;g!==null;){m=g;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,v!==null&&(x=_a(g,v),x!=null&&b.push(Ia(g,x,m)))),y)break;g=g.return}0<b.length&&(p=new w(p,f,null,n,d),u.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",p&&n!==sf&&(f=n.relatedTarget||n.fromElement)&&(Ro(f)||f[_r]))break e;if((w||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,w?(f=n.relatedTarget||n.toElement,w=c,f=f?Ro(f):null,f!==null&&(y=ni(f),f!==y||f.tag!==5&&f.tag!==6)&&(f=null)):(w=null,f=c),w!==f)){if(b=Uv,x="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(b=zv,x="onPointerLeave",v="onPointerEnter",g="pointer"),y=w==null?p:Ei(w),m=f==null?p:Ei(f),p=new b(x,g+"leave",w,n,d),p.target=y,p.relatedTarget=m,x=null,Ro(d)===c&&(b=new b(v,g+"enter",f,n,d),b.target=m,b.relatedTarget=y,x=b),y=x,w&&f)t:{for(b=w,v=f,g=0,m=b;m;m=ci(m))g++;for(m=0,x=v;x;x=ci(x))m++;for(;0<g-m;)b=ci(b),g--;for(;0<m-g;)v=ci(v),m--;for(;g--;){if(b===v||v!==null&&b===v.alternate)break t;b=ci(b),v=ci(v)}b=null}else b=null;w!==null&&Qv(u,p,w,b,!1),f!==null&&y!==null&&Qv(u,y,f,b,!0)}}e:{if(p=c?Ei(c):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var k=BC;else if(Wv(p))if(jb)k=$C;else{k=jC;var _=MC}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=DC);if(k&&(k=k(t,c))){Mb(u,k,n,d);break e}_&&_(t,p,c),t==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&ef(p,"number",p.value)}switch(_=c?Ei(c):window,t){case"focusin":(Wv(_)||_.contentEditable==="true")&&(_i=_,ff=c,ca=null);break;case"focusout":ca=ff=_i=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,Xv(u,n,d);break;case"selectionchange":if(zC)break;case"keydown":case"keyup":Xv(u,n,d)}var E;if(Xp)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ki?Pb(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Ob&&n.locale!=="ko"&&(ki||S!=="onCompositionStart"?S==="onCompositionEnd"&&ki&&(E=Ab()):(Jr=d,Kp="value"in Jr?Jr.value:Jr.textContent,ki=!0)),_=Dc(c,S),0<_.length&&(S=new Fv(S,t,null,n,d),u.push({event:S,listeners:_}),E?S.data=E:(E=Bb(n),E!==null&&(S.data=E)))),(E=IC?LC(t,n):AC(t,n))&&(c=Dc(c,"onBeforeInput"),0<c.length&&(d=new Fv("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=E))}Kb(u,e)})}function Ia(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dc(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=_a(t,n),i!=null&&r.unshift(Ia(t,i,o)),i=_a(t,e),i!=null&&r.push(Ia(t,i,o))),t=t.return}return r}function ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qv(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=_a(n,i),l!=null&&s.unshift(Ia(n,l,a))):o||(l=_a(n,i),l!=null&&s.push(Ia(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var qC=/\r\n?/g,KC=/\u0000|\uFFFD/g;function e0(t){return(typeof t=="string"?t:""+t).replace(qC,`
`).replace(KC,"")}function Bl(t,e,n){if(e=e0(e),e0(t)!==e&&n)throw Error(q(425))}function $c(){}var mf=null,gf=null;function vf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yf=typeof setTimeout=="function"?setTimeout:void 0,GC=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,YC=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(t){return t0.resolve(null).then(t).catch(XC)}:yf;function XC(t){setTimeout(function(){throw t})}function eh(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Ca(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ca(e)}function ro(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function n0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cs=Math.random().toString(36).slice(2),Vn="__reactFiber$"+cs,La="__reactProps$"+cs,_r="__reactContainer$"+cs,bf="__reactEvents$"+cs,JC="__reactListeners$"+cs,ZC="__reactHandles$"+cs;function Ro(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=n0(t);t!==null;){if(n=t[Vn])return n;t=n0(t)}return e}t=n,n=t.parentNode}return null}function Xa(t){return t=t[Vn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ei(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function $u(t){return t[La]||null}var wf=[],Ci=-1;function vo(t){return{current:t}}function We(t){0>Ci||(t.current=wf[Ci],wf[Ci]=null,Ci--)}function Fe(t,e){Ci++,wf[Ci]=t.current,t.current=e}var po={},Ot=vo(po),Yt=vo(!1),zo=po;function Ki(t,e){var n=t.type.contextTypes;if(!n)return po;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Xt(t){return t=t.childContextTypes,t!=null}function Uc(){We(Yt),We(Ot)}function r0(t,e,n){if(Ot.current!==po)throw Error(q(168));Fe(Ot,e),Fe(Yt,n)}function Yb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(q(108,ME(t)||"Unknown",o));return tt({},n,r)}function Fc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||po,zo=Ot.current,Fe(Ot,t),Fe(Yt,Yt.current),!0}function o0(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=Yb(t,e,zo),r.__reactInternalMemoizedMergedChildContext=t,We(Yt),We(Ot),Fe(Ot,t)):We(Yt),Fe(Yt,n)}var cr=null,Uu=!1,th=!1;function Xb(t){cr===null?cr=[t]:cr.push(t)}function QC(t){Uu=!0,Xb(t)}function yo(){if(!th&&cr!==null){th=!0;var t=0,e=je;try{var n=cr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cr=null,Uu=!1}catch(o){throw cr!==null&&(cr=cr.slice(t+1)),xb(Hp,yo),o}finally{je=e,th=!1}}return null}var Ti=[],Ni=0,zc=null,Hc=0,mn=[],gn=0,Ho=null,hr=1,fr="";function So(t,e){Ti[Ni++]=Hc,Ti[Ni++]=zc,zc=t,Hc=e}function Jb(t,e,n){mn[gn++]=hr,mn[gn++]=fr,mn[gn++]=Ho,Ho=t;var r=hr;t=fr;var o=32-On(r)-1;r&=~(1<<o),n+=1;var i=32-On(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,hr=1<<32-On(e)+o|n<<o|r,fr=i+t}else hr=1<<i|n<<o|r,fr=t}function Zp(t){t.return!==null&&(So(t,1),Jb(t,1,0))}function Qp(t){for(;t===zc;)zc=Ti[--Ni],Ti[Ni]=null,Hc=Ti[--Ni],Ti[Ni]=null;for(;t===Ho;)Ho=mn[--gn],mn[gn]=null,fr=mn[--gn],mn[gn]=null,hr=mn[--gn],mn[gn]=null}var ln=null,on=null,Ye=!1,Ln=null;function Zb(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function i0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,on=ro(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ho!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,on=null,!0):!1;default:return!1}}function xf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kf(t){if(Ye){var e=on;if(e){var n=e;if(!i0(t,e)){if(xf(t))throw Error(q(418));e=ro(n.nextSibling);var r=ln;e&&i0(t,e)?Zb(r,n):(t.flags=t.flags&-4097|2,Ye=!1,ln=t)}}else{if(xf(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ye=!1,ln=t}}}function s0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function Ml(t){if(t!==ln)return!1;if(!Ye)return s0(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vf(t.type,t.memoizedProps)),e&&(e=on)){if(xf(t))throw Qb(),Error(q(418));for(;e;)Zb(t,e),e=ro(e.nextSibling)}if(s0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){on=ro(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}on=null}}else on=ln?ro(t.stateNode.nextSibling):null;return!0}function Qb(){for(var t=on;t;)t=ro(t.nextSibling)}function Gi(){on=ln=null,Ye=!1}function em(t){Ln===null?Ln=[t]:Ln.push(t)}var eT=Rr.ReactCurrentBatchConfig;function Ps(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function jl(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function a0(t){var e=t._init;return e(t._payload)}function ew(t){function e(v,g){if(t){var m=v.deletions;m===null?(v.deletions=[g],v.flags|=16):m.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function o(v,g){return v=ao(v,g),v.index=0,v.sibling=null,v}function i(v,g,m){return v.index=m,t?(m=v.alternate,m!==null?(m=m.index,m<g?(v.flags|=2,g):m):(v.flags|=2,g)):(v.flags|=1048576,g)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,m,x){return g===null||g.tag!==6?(g=lh(m,v.mode,x),g.return=v,g):(g=o(g,m),g.return=v,g)}function l(v,g,m,x){var k=m.type;return k===xi?d(v,g,m.props.children,x,m.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ur&&a0(k)===g.type)?(x=o(g,m.props),x.ref=Ps(v,g,m),x.return=v,x):(x=uc(m.type,m.key,m.props,null,v.mode,x),x.ref=Ps(v,g,m),x.return=v,x)}function c(v,g,m,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=ch(m,v.mode,x),g.return=v,g):(g=o(g,m.children||[]),g.return=v,g)}function d(v,g,m,x,k){return g===null||g.tag!==7?(g=jo(m,v.mode,x,k),g.return=v,g):(g=o(g,m),g.return=v,g)}function u(v,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=lh(""+g,v.mode,m),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cl:return m=uc(g.type,g.key,g.props,null,v.mode,m),m.ref=Ps(v,null,g),m.return=v,m;case wi:return g=ch(g,v.mode,m),g.return=v,g;case Ur:var x=g._init;return u(v,x(g._payload),m)}if(Ys(g)||Rs(g))return g=jo(g,v.mode,m,null),g.return=v,g;jl(v,g)}return null}function p(v,g,m,x){var k=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:a(v,g,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Cl:return m.key===k?l(v,g,m,x):null;case wi:return m.key===k?c(v,g,m,x):null;case Ur:return k=m._init,p(v,g,k(m._payload),x)}if(Ys(m)||Rs(m))return k!==null?null:d(v,g,m,x,null);jl(v,m)}return null}function w(v,g,m,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(m)||null,a(g,v,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Cl:return v=v.get(x.key===null?m:x.key)||null,l(g,v,x,k);case wi:return v=v.get(x.key===null?m:x.key)||null,c(g,v,x,k);case Ur:var _=x._init;return w(v,g,m,_(x._payload),k)}if(Ys(x)||Rs(x))return v=v.get(m)||null,d(g,v,x,k,null);jl(g,x)}return null}function f(v,g,m,x){for(var k=null,_=null,E=g,S=g=0,T=null;E!==null&&S<m.length;S++){E.index>S?(T=E,E=null):T=E.sibling;var N=p(v,E,m[S],x);if(N===null){E===null&&(E=T);break}t&&E&&N.alternate===null&&e(v,E),g=i(N,g,S),_===null?k=N:_.sibling=N,_=N,E=T}if(S===m.length)return n(v,E),Ye&&So(v,S),k;if(E===null){for(;S<m.length;S++)E=u(v,m[S],x),E!==null&&(g=i(E,g,S),_===null?k=E:_.sibling=E,_=E);return Ye&&So(v,S),k}for(E=r(v,E);S<m.length;S++)T=w(E,v,S,m[S],x),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?S:T.key),g=i(T,g,S),_===null?k=T:_.sibling=T,_=T);return t&&E.forEach(function(z){return e(v,z)}),Ye&&So(v,S),k}function b(v,g,m,x){var k=Rs(m);if(typeof k!="function")throw Error(q(150));if(m=k.call(m),m==null)throw Error(q(151));for(var _=k=null,E=g,S=g=0,T=null,N=m.next();E!==null&&!N.done;S++,N=m.next()){E.index>S?(T=E,E=null):T=E.sibling;var z=p(v,E,N.value,x);if(z===null){E===null&&(E=T);break}t&&E&&z.alternate===null&&e(v,E),g=i(z,g,S),_===null?k=z:_.sibling=z,_=z,E=T}if(N.done)return n(v,E),Ye&&So(v,S),k;if(E===null){for(;!N.done;S++,N=m.next())N=u(v,N.value,x),N!==null&&(g=i(N,g,S),_===null?k=N:_.sibling=N,_=N);return Ye&&So(v,S),k}for(E=r(v,E);!N.done;S++,N=m.next())N=w(E,v,S,N.value,x),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?S:N.key),g=i(N,g,S),_===null?k=N:_.sibling=N,_=N);return t&&E.forEach(function(D){return e(v,D)}),Ye&&So(v,S),k}function y(v,g,m,x){if(typeof m=="object"&&m!==null&&m.type===xi&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Cl:e:{for(var k=m.key,_=g;_!==null;){if(_.key===k){if(k=m.type,k===xi){if(_.tag===7){n(v,_.sibling),g=o(_,m.props.children),g.return=v,v=g;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ur&&a0(k)===_.type){n(v,_.sibling),g=o(_,m.props),g.ref=Ps(v,_,m),g.return=v,v=g;break e}n(v,_);break}else e(v,_);_=_.sibling}m.type===xi?(g=jo(m.props.children,v.mode,x,m.key),g.return=v,v=g):(x=uc(m.type,m.key,m.props,null,v.mode,x),x.ref=Ps(v,g,m),x.return=v,v=x)}return s(v);case wi:e:{for(_=m.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){n(v,g.sibling),g=o(g,m.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=ch(m,v.mode,x),g.return=v,v=g}return s(v);case Ur:return _=m._init,y(v,g,_(m._payload),x)}if(Ys(m))return f(v,g,m,x);if(Rs(m))return b(v,g,m,x);jl(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(n(v,g.sibling),g=o(g,m),g.return=v,v=g):(n(v,g),g=lh(m,v.mode,x),g.return=v,v=g),s(v)):n(v,g)}return y}var Yi=ew(!0),tw=ew(!1),Vc=vo(null),Wc=null,Ri=null,tm=null;function nm(){tm=Ri=Wc=null}function rm(t){var e=Vc.current;We(Vc),t._currentValue=e}function _f(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Di(t,e){Wc=t,tm=Ri=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(tm!==t)if(t={context:t,memoizedValue:e,next:null},Ri===null){if(Wc===null)throw Error(q(308));Ri=t,Wc.dependencies={lanes:0,firstContext:t}}else Ri=Ri.next=t;return e}var Io=null;function om(t){Io===null?Io=[t]:Io.push(t)}function nw(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,om(e)):(n.next=o.next,o.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function im(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Sr(t,n)}return o=r.interleaved,o===null?(e.next=e,om(r)):(e.next=o.next,o.next=e),r.interleaved=e,Sr(t,n)}function oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vp(t,n)}}function l0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qc(t,e,n,r){var o=t.updateQueue;Fr=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var u=o.baseState;s=0,d=c=l=null,a=i;do{var p=a.lane,w=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=t,b=a;switch(p=e,w=n,b.tag){case 1:if(f=b.payload,typeof f=="function"){u=f.call(w,u,p);break e}u=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=b.payload,p=typeof f=="function"?f.call(w,u,p):f,p==null)break e;u=tt({},u,p);break e;case 2:Fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else w={eventTime:w,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=w,l=u):d=d.next=w,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Wo|=s,t.lanes=s,t.memoizedState=u}}function c0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(q(191,o));o.call(r)}}}var Ja={},Yn=vo(Ja),Aa=vo(Ja),Oa=vo(Ja);function Lo(t){if(t===Ja)throw Error(q(174));return t}function sm(t,e){switch(Fe(Oa,e),Fe(Aa,t),Fe(Yn,Ja),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nf(e,t)}We(Yn),Fe(Yn,e)}function Xi(){We(Yn),We(Aa),We(Oa)}function ow(t){Lo(Oa.current);var e=Lo(Yn.current),n=nf(e,t.type);e!==n&&(Fe(Aa,t),Fe(Yn,n))}function am(t){Aa.current===t&&(We(Yn),We(Aa))}var Ze=vo(0);function Kc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nh=[];function lm(){for(var t=0;t<nh.length;t++)nh[t]._workInProgressVersionPrimary=null;nh.length=0}var ic=Rr.ReactCurrentDispatcher,rh=Rr.ReactCurrentBatchConfig,Vo=0,et=null,vt=null,xt=null,Gc=!1,ua=!1,Pa=0,tT=0;function It(){throw Error(q(321))}function cm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function um(t,e,n,r,o,i){if(Vo=i,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ic.current=t===null||t.memoizedState===null?iT:sT,t=n(r,o),ua){i=0;do{if(ua=!1,Pa=0,25<=i)throw Error(q(301));i+=1,xt=vt=null,e.updateQueue=null,ic.current=aT,t=n(r,o)}while(ua)}if(ic.current=Yc,e=vt!==null&&vt.next!==null,Vo=0,xt=vt=et=null,Gc=!1,e)throw Error(q(300));return t}function dm(){var t=Pa!==0;return Pa=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?et.memoizedState=xt=t:xt=xt.next=t,xt}function xn(){if(vt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=xt===null?et.memoizedState:xt.next;if(e!==null)xt=e,vt=t;else{if(t===null)throw Error(q(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},xt===null?et.memoizedState=xt=t:xt=xt.next=t}return xt}function Ba(t,e){return typeof e=="function"?e(t):e}function oh(t){var e=xn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=vt,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var d=c.lane;if((Vo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,s=r):l=l.next=u,et.lanes|=d,Wo|=d}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,jn(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,et.lanes|=i,Wo|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ih(t){var e=xn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);jn(i,e.memoizedState)||(Gt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function iw(){}function sw(t,e){var n=et,r=xn(),o=e(),i=!jn(r.memoizedState,o);if(i&&(r.memoizedState=o,Gt=!0),r=r.queue,hm(cw.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,Ma(9,lw.bind(null,n,r,o,e),void 0,null),kt===null)throw Error(q(349));Vo&30||aw(n,e,o)}return o}function aw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lw(t,e,n,r){e.value=n,e.getSnapshot=r,uw(e)&&dw(t)}function cw(t,e,n){return n(function(){uw(e)&&dw(t)})}function uw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function dw(t){var e=Sr(t,1);e!==null&&Pn(e,t,1,-1)}function u0(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},e.queue=t,t=t.dispatch=oT.bind(null,et,t),[e.memoizedState,t]}function Ma(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hw(){return xn().memoizedState}function sc(t,e,n,r){var o=Fn();et.flags|=t,o.memoizedState=Ma(1|e,n,void 0,r===void 0?null:r)}function Fu(t,e,n,r){var o=xn();r=r===void 0?null:r;var i=void 0;if(vt!==null){var s=vt.memoizedState;if(i=s.destroy,r!==null&&cm(r,s.deps)){o.memoizedState=Ma(e,n,i,r);return}}et.flags|=t,o.memoizedState=Ma(1|e,n,i,r)}function d0(t,e){return sc(8390656,8,t,e)}function hm(t,e){return Fu(2048,8,t,e)}function fw(t,e){return Fu(4,2,t,e)}function pw(t,e){return Fu(4,4,t,e)}function mw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gw(t,e,n){return n=n!=null?n.concat([t]):null,Fu(4,4,mw.bind(null,e,t),n)}function fm(){}function vw(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yw(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bw(t,e,n){return Vo&21?(jn(n,e)||(n=Sb(),et.lanes|=n,Wo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function nT(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=rh.transition;rh.transition={};try{t(!1),e()}finally{je=n,rh.transition=r}}function ww(){return xn().memoizedState}function rT(t,e,n){var r=so(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xw(t))kw(e,n);else if(n=nw(t,e,n,r),n!==null){var o=Ft();Pn(n,t,r,o),_w(n,e,r)}}function oT(t,e,n){var r=so(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xw(t))kw(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,jn(a,s)){var l=e.interleaved;l===null?(o.next=o,om(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=nw(t,e,o,r),n!==null&&(o=Ft(),Pn(n,t,r,o),_w(n,e,r))}}function xw(t){var e=t.alternate;return t===et||e!==null&&e===et}function kw(t,e){ua=Gc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _w(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vp(t,n)}}var Yc={readContext:wn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},iT={readContext:wn,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:d0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sc(4194308,4,mw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sc(4194308,4,t,e)},useInsertionEffect:function(t,e){return sc(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rT.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:u0,useDebugValue:fm,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=u0(!1),e=t[0];return t=nT.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,o=Fn();if(Ye){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),kt===null)throw Error(q(349));Vo&30||aw(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,d0(cw.bind(null,r,i,t),[t]),r.flags|=2048,Ma(9,lw.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Fn(),e=kt.identifierPrefix;if(Ye){var n=fr,r=hr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sT={readContext:wn,useCallback:vw,useContext:wn,useEffect:hm,useImperativeHandle:gw,useInsertionEffect:fw,useLayoutEffect:pw,useMemo:yw,useReducer:oh,useRef:hw,useState:function(){return oh(Ba)},useDebugValue:fm,useDeferredValue:function(t){var e=xn();return bw(e,vt.memoizedState,t)},useTransition:function(){var t=oh(Ba)[0],e=xn().memoizedState;return[t,e]},useMutableSource:iw,useSyncExternalStore:sw,useId:ww,unstable_isNewReconciler:!1},aT={readContext:wn,useCallback:vw,useContext:wn,useEffect:hm,useImperativeHandle:gw,useInsertionEffect:fw,useLayoutEffect:pw,useMemo:yw,useReducer:ih,useRef:hw,useState:function(){return ih(Ba)},useDebugValue:fm,useDeferredValue:function(t){var e=xn();return vt===null?e.memoizedState=t:bw(e,vt.memoizedState,t)},useTransition:function(){var t=ih(Ba)[0],e=xn().memoizedState;return[t,e]},useMutableSource:iw,useSyncExternalStore:sw,useId:ww,unstable_isNewReconciler:!1};function Rn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zu={isMounted:function(t){return(t=t._reactInternals)?ni(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),o=so(t),i=wr(r,o);i.payload=e,n!=null&&(i.callback=n),e=oo(t,i,o),e!==null&&(Pn(e,t,o,r),oc(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),o=so(t),i=wr(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=oo(t,i,o),e!==null&&(Pn(e,t,o,r),oc(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=so(t),o=wr(n,r);o.tag=2,e!=null&&(o.callback=e),e=oo(t,o,r),e!==null&&(Pn(e,t,r,n),oc(e,t,r))}};function h0(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Na(n,r)||!Na(o,i):!0}function Sw(t,e,n){var r=!1,o=po,i=e.contextType;return typeof i=="object"&&i!==null?i=wn(i):(o=Xt(e)?zo:Ot.current,r=e.contextTypes,i=(r=r!=null)?Ki(t,o):po),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function f0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zu.enqueueReplaceState(e,e.state,null)}function Ef(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},im(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=wn(i):(i=Xt(e)?zo:Ot.current,o.context=Ki(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Sf(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&zu.enqueueReplaceState(o,o.state,null),qc(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Ji(t,e){try{var n="",r=e;do n+=BE(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function sh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lT=typeof WeakMap=="function"?WeakMap:Map;function Ew(t,e,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jc||(Jc=!0,Mf=r),Cf(t,e)},n}function Cw(t,e,n){n=wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Cf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cf(t,e),typeof r!="function"&&(io===null?io=new Set([this]):io.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function p0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lT;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=kT.bind(null,t,e,n),e.then(t,t))}function m0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function g0(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wr(-1,1),e.tag=2,oo(n,e,1))),n.lanes|=1),t)}var cT=Rr.ReactCurrentOwner,Gt=!1;function Dt(t,e,n,r){e.child=t===null?tw(e,null,n,r):Yi(e,t.child,n,r)}function v0(t,e,n,r,o){n=n.render;var i=e.ref;return Di(e,o),r=um(t,e,n,r,i,o),n=dm(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Er(t,e,o)):(Ye&&n&&Zp(e),e.flags|=1,Dt(t,e,r,o),e.child)}function y0(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!xm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Tw(t,e,i,r,o)):(t=uc(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Na,n(s,r)&&t.ref===e.ref)return Er(t,e,o)}return e.flags|=1,t=ao(i,r),t.ref=e.ref,t.return=e,e.child=t}function Tw(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Na(i,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,Er(t,e,o)}return Tf(t,e,n,r,o)}function Nw(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Li,rn),rn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Li,rn),rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Fe(Li,rn),rn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Fe(Li,rn),rn|=r;return Dt(t,e,o,n),e.child}function Rw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tf(t,e,n,r,o){var i=Xt(n)?zo:Ot.current;return i=Ki(e,i),Di(e,o),n=um(t,e,n,r,i,o),r=dm(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Er(t,e,o)):(Ye&&r&&Zp(e),e.flags|=1,Dt(t,e,n,o),e.child)}function b0(t,e,n,r,o){if(Xt(n)){var i=!0;Fc(e)}else i=!1;if(Di(e,o),e.stateNode===null)ac(t,e),Sw(e,n,r),Ef(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=wn(c):(c=Xt(n)?zo:Ot.current,c=Ki(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&f0(e,s,r,c),Fr=!1;var p=e.memoizedState;s.state=p,qc(e,r,s,o),l=e.memoizedState,a!==r||p!==l||Yt.current||Fr?(typeof d=="function"&&(Sf(e,n,d,r),l=e.memoizedState),(a=Fr||h0(e,n,a,r,p,l,c))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,rw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Rn(e.type,a),s.props=c,u=e.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Xt(n)?zo:Ot.current,l=Ki(e,l));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==u||p!==l)&&f0(e,s,r,l),Fr=!1,p=e.memoizedState,s.state=p,qc(e,r,s,o);var f=e.memoizedState;a!==u||p!==f||Yt.current||Fr?(typeof w=="function"&&(Sf(e,n,w,r),f=e.memoizedState),(c=Fr||h0(e,n,c,r,p,f,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,f,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,f,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Nf(t,e,n,r,i,o)}function Nf(t,e,n,r,o,i){Rw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&o0(e,n,!1),Er(t,e,i);r=e.stateNode,cT.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Yi(e,t.child,null,i),e.child=Yi(e,null,a,i)):Dt(t,e,a,i),e.memoizedState=r.state,o&&o0(e,n,!0),e.child}function Iw(t){var e=t.stateNode;e.pendingContext?r0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&r0(t,e.context,!1),sm(t,e.containerInfo)}function w0(t,e,n,r,o){return Gi(),em(o),e.flags|=256,Dt(t,e,n,r),e.child}var Rf={dehydrated:null,treeContext:null,retryLane:0};function If(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lw(t,e,n){var r=e.pendingProps,o=Ze.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Fe(Ze,o&1),t===null)return kf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Wu(s,r,0,null),t=jo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=If(n),e.memoizedState=Rf,t):pm(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return uT(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ao(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=ao(a,i):(i=jo(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?If(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=Rf,r}return i=t.child,t=i.sibling,r=ao(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pm(t,e){return e=Wu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dl(t,e,n,r){return r!==null&&em(r),Yi(e,t.child,null,n),t=pm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uT(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=sh(Error(q(422))),Dl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Wu({mode:"visible",children:r.children},o,0,null),i=jo(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Yi(e,t.child,null,s),e.child.memoizedState=If(s),e.memoizedState=Rf,i);if(!(e.mode&1))return Dl(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=sh(i,r,void 0),Dl(t,e,s,r)}if(a=(s&t.childLanes)!==0,Gt||a){if(r=kt,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Sr(t,o),Pn(r,t,o,-1))}return wm(),r=sh(Error(q(421))),Dl(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=_T.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,on=ro(o.nextSibling),ln=e,Ye=!0,Ln=null,t!==null&&(mn[gn++]=hr,mn[gn++]=fr,mn[gn++]=Ho,hr=t.id,fr=t.overflow,Ho=e),e=pm(e,r.children),e.flags|=4096,e)}function x0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_f(t.return,e,n)}function ah(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Aw(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Dt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x0(t,n,e);else if(t.tag===19)x0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Kc(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),ah(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Kc(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}ah(e,!0,n,null,i);break;case"together":ah(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ac(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=ao(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ao(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dT(t,e,n){switch(e.tag){case 3:Iw(e),Gi();break;case 5:ow(e);break;case 1:Xt(e.type)&&Fc(e);break;case 4:sm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Fe(Vc,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?Lw(t,e,n):(Fe(Ze,Ze.current&1),t=Er(t,e,n),t!==null?t.sibling:null);Fe(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Aw(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Fe(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,Nw(t,e,n)}return Er(t,e,n)}var Ow,Lf,Pw,Bw;Ow=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lf=function(){};Pw=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Lo(Yn.current);var i=null;switch(n){case"input":o=Zh(t,o),r=Zh(t,r),i=[];break;case"select":o=tt({},o,{value:void 0}),r=tt({},r,{value:void 0}),i=[];break;case"textarea":o=tf(t,o),r=tf(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$c)}rf(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xa.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Bw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bs(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hT(t,e,n){var r=e.pendingProps;switch(Qp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return Xt(e.type)&&Uc(),Lt(e),null;case 3:return r=e.stateNode,Xi(),We(Yt),We(Ot),lm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&($f(Ln),Ln=null))),Lf(t,e),Lt(e),null;case 5:am(e);var o=Lo(Oa.current);if(n=e.type,t!==null&&e.stateNode!=null)Pw(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Lt(e),null}if(t=Lo(Yn.current),Ml(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Vn]=e,r[La]=i,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(o=0;o<Js.length;o++)ze(Js[o],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Iv(r,i),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ze("invalid",r);break;case"textarea":Av(r,i),ze("invalid",r)}rf(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Bl(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Bl(r.textContent,a,t),o=["children",""+a]):xa.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ze("scroll",r)}switch(n){case"input":Tl(r),Lv(r,i,!0);break;case"textarea":Tl(r),Ov(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$c)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Vn]=e,t[La]=r,Ow(t,e,!1,!1),e.stateNode=t;e:{switch(s=of(n,r),n){case"dialog":ze("cancel",t),ze("close",t),o=r;break;case"iframe":case"object":case"embed":ze("load",t),o=r;break;case"video":case"audio":for(o=0;o<Js.length;o++)ze(Js[o],t);o=r;break;case"source":ze("error",t),o=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),o=r;break;case"details":ze("toggle",t),o=r;break;case"input":Iv(t,r),o=Zh(t,r),ze("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=tt({},r,{value:void 0}),ze("invalid",t);break;case"textarea":Av(t,r),o=tf(t,r),ze("invalid",t);break;default:o=r}rf(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?hb(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ub(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ka(t,l):typeof l=="number"&&ka(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ze("scroll",t):l!=null&&Dp(t,i,l,s))}switch(n){case"input":Tl(t),Lv(t,r,!1);break;case"textarea":Tl(t),Ov(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=$c)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)Bw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Lo(Oa.current),Lo(Yn.current),Ml(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vn]=e,(i=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:Bl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=e,e.stateNode=r}return Lt(e),null;case 13:if(We(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&on!==null&&e.mode&1&&!(e.flags&128))Qb(),Gi(),e.flags|=98560,i=!1;else if(i=Ml(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Vn]=e}else Gi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),i=!1}else Ln!==null&&($f(Ln),Ln=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?yt===0&&(yt=3):wm())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return Xi(),Lf(t,e),t===null&&Ra(e.stateNode.containerInfo),Lt(e),null;case 10:return rm(e.type._context),Lt(e),null;case 17:return Xt(e.type)&&Uc(),Lt(e),null;case 19:if(We(Ze),i=e.memoizedState,i===null)return Lt(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Bs(i,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Kc(t),s!==null){for(e.flags|=128,Bs(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ze,Ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>Zi&&(e.flags|=128,r=!0,Bs(i,!1),e.lanes=4194304)}else{if(!r)if(t=Kc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ye)return Lt(e),null}else 2*lt()-i.renderingStartTime>Zi&&n!==1073741824&&(e.flags|=128,r=!0,Bs(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,n=Ze.current,Fe(Ze,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return bm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function fT(t,e){switch(Qp(e),e.tag){case 1:return Xt(e.type)&&Uc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xi(),We(Yt),We(Ot),lm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return am(e),null;case 13:if(We(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Gi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ze),null;case 4:return Xi(),null;case 10:return rm(e.type._context),null;case 22:case 23:return bm(),null;case 24:return null;default:return null}}var $l=!1,At=!1,pT=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Ii(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function Af(t,e,n){try{n()}catch(r){it(t,e,r)}}var k0=!1;function mT(t,e){if(mf=Mc,t=Ub(),Jp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,u=t,p=null;t:for(;;){for(var w;u!==n||o!==0&&u.nodeType!==3||(a=s+o),u!==i||r!==0&&u.nodeType!==3||(l=s+r),u.nodeType===3&&(s+=u.nodeValue.length),(w=u.firstChild)!==null;)p=u,u=w;for(;;){if(u===t)break t;if(p===n&&++c===o&&(a=s),p===i&&++d===r&&(l=s),(w=u.nextSibling)!==null)break;u=p,p=u.parentNode}u=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gf={focusedElem:t,selectionRange:n},Mc=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var b=f.memoizedProps,y=f.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:Rn(e.type,b),y);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(x){it(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return f=k0,k0=!1,f}function da(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Af(e,n,i)}o=o.next}while(o!==r)}}function Hu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Of(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Mw(t){var e=t.alternate;e!==null&&(t.alternate=null,Mw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[La],delete e[bf],delete e[JC],delete e[ZC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jw(t){return t.tag===5||t.tag===3||t.tag===4}function _0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$c));else if(r!==4&&(t=t.child,t!==null))for(Pf(t,e,n),t=t.sibling;t!==null;)Pf(t,e,n),t=t.sibling}function Bf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bf(t,e,n),t=t.sibling;t!==null;)Bf(t,e,n),t=t.sibling}var St=null,In=!1;function Br(t,e,n){for(n=n.child;n!==null;)Dw(t,e,n),n=n.sibling}function Dw(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Bu,n)}catch{}switch(n.tag){case 5:At||Ii(n,e);case 6:var r=St,o=In;St=null,Br(t,e,n),St=r,In=o,St!==null&&(In?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(In?(t=St,n=n.stateNode,t.nodeType===8?eh(t.parentNode,n):t.nodeType===1&&eh(t,n),Ca(t)):eh(St,n.stateNode));break;case 4:r=St,o=In,St=n.stateNode.containerInfo,In=!0,Br(t,e,n),St=r,In=o;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Af(n,e,s),o=o.next}while(o!==r)}Br(t,e,n);break;case 1:if(!At&&(Ii(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}Br(t,e,n);break;case 21:Br(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,Br(t,e,n),At=r):Br(t,e,n);break;default:Br(t,e,n)}}function S0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pT),e.forEach(function(r){var o=ST.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,In=!1;break e;case 3:St=a.stateNode.containerInfo,In=!0;break e;case 4:St=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(St===null)throw Error(q(160));Dw(i,s,o),St=null,In=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){it(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$w(e,t),e=e.sibling}function $w(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),$n(t),r&4){try{da(3,t,t.return),Hu(3,t)}catch(b){it(t,t.return,b)}try{da(5,t,t.return)}catch(b){it(t,t.return,b)}}break;case 1:Tn(e,t),$n(t),r&512&&n!==null&&Ii(n,n.return);break;case 5:if(Tn(e,t),$n(t),r&512&&n!==null&&Ii(n,n.return),t.flags&32){var o=t.stateNode;try{ka(o,"")}catch(b){it(t,t.return,b)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ab(o,i),of(a,s);var c=of(a,i);for(s=0;s<l.length;s+=2){var d=l[s],u=l[s+1];d==="style"?hb(o,u):d==="dangerouslySetInnerHTML"?ub(o,u):d==="children"?ka(o,u):Dp(o,d,u,c)}switch(a){case"input":Qh(o,i);break;case"textarea":lb(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Pi(o,!!i.multiple,w,!1):p!==!!i.multiple&&(i.defaultValue!=null?Pi(o,!!i.multiple,i.defaultValue,!0):Pi(o,!!i.multiple,i.multiple?[]:"",!1))}o[La]=i}catch(b){it(t,t.return,b)}}break;case 6:if(Tn(e,t),$n(t),r&4){if(t.stateNode===null)throw Error(q(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(b){it(t,t.return,b)}}break;case 3:if(Tn(e,t),$n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ca(e.containerInfo)}catch(b){it(t,t.return,b)}break;case 4:Tn(e,t),$n(t);break;case 13:Tn(e,t),$n(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(vm=lt())),r&4&&S0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(At=(c=At)||d,Tn(e,t),At=c):Tn(e,t),$n(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ie=t,d=t.child;d!==null;){for(u=ie=d;ie!==null;){switch(p=ie,w=p.child,p.tag){case 0:case 11:case 14:case 15:da(4,p,p.return);break;case 1:Ii(p,p.return);var f=p.stateNode;if(typeof f.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(b){it(r,n,b)}}break;case 5:Ii(p,p.return);break;case 22:if(p.memoizedState!==null){C0(u);continue}}w!==null?(w.return=p,ie=w):C0(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=u.stateNode,l=u.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=db("display",s))}catch(b){it(t,t.return,b)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(b){it(t,t.return,b)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Tn(e,t),$n(t),r&4&&S0(t);break;case 21:break;default:Tn(e,t),$n(t)}}function $n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jw(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ka(o,""),r.flags&=-33);var i=_0(t);Bf(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=_0(t);Pf(t,a,s);break;default:throw Error(q(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gT(t,e,n){ie=t,Uw(t)}function Uw(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var o=ie,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||$l;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||At;a=$l;var c=At;if($l=s,(At=l)&&!c)for(ie=o;ie!==null;)s=ie,l=s.child,s.tag===22&&s.memoizedState!==null?T0(o):l!==null?(l.return=s,ie=l):T0(o);for(;i!==null;)ie=i,Uw(i),i=i.sibling;ie=o,$l=a,At=c}E0(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,ie=i):E0(t)}}function E0(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||Hu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&c0(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}c0(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&Ca(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}At||e.flags&512&&Of(e)}catch(p){it(e,e.return,p)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function C0(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function T0(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hu(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){it(e,o,l)}}var i=e.return;try{Of(e)}catch(l){it(e,i,l)}break;case 5:var s=e.return;try{Of(e)}catch(l){it(e,s,l)}}}catch(l){it(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var vT=Math.ceil,Xc=Rr.ReactCurrentDispatcher,mm=Rr.ReactCurrentOwner,bn=Rr.ReactCurrentBatchConfig,Pe=0,kt=null,ht=null,Ct=0,rn=0,Li=vo(0),yt=0,ja=null,Wo=0,Vu=0,gm=0,ha=null,Kt=null,vm=0,Zi=1/0,ar=null,Jc=!1,Mf=null,io=null,Ul=!1,Zr=null,Zc=0,fa=0,jf=null,lc=-1,cc=0;function Ft(){return Pe&6?lt():lc!==-1?lc:lc=lt()}function so(t){return t.mode&1?Pe&2&&Ct!==0?Ct&-Ct:eT.transition!==null?(cc===0&&(cc=Sb()),cc):(t=je,t!==0||(t=window.event,t=t===void 0?16:Lb(t.type)),t):1}function Pn(t,e,n,r){if(50<fa)throw fa=0,jf=null,Error(q(185));Ga(t,n,r),(!(Pe&2)||t!==kt)&&(t===kt&&(!(Pe&2)&&(Vu|=n),yt===4&&Vr(t,Ct)),Jt(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Zi=lt()+500,Uu&&yo()))}function Jt(t,e){var n=t.callbackNode;eC(t,e);var r=Bc(t,t===kt?Ct:0);if(r===0)n!==null&&Mv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Mv(n),e===1)t.tag===0?QC(N0.bind(null,t)):Xb(N0.bind(null,t)),YC(function(){!(Pe&6)&&yo()}),n=null;else{switch(Eb(r)){case 1:n=Hp;break;case 4:n=kb;break;case 16:n=Pc;break;case 536870912:n=_b;break;default:n=Pc}n=Gw(n,Fw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Fw(t,e){if(lc=-1,cc=0,Pe&6)throw Error(q(327));var n=t.callbackNode;if($i()&&t.callbackNode!==n)return null;var r=Bc(t,t===kt?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qc(t,r);else{e=r;var o=Pe;Pe|=2;var i=Hw();(kt!==t||Ct!==e)&&(ar=null,Zi=lt()+500,Mo(t,e));do try{wT();break}catch(a){zw(t,a)}while(!0);nm(),Xc.current=i,Pe=o,ht!==null?e=0:(kt=null,Ct=0,e=yt)}if(e!==0){if(e===2&&(o=uf(t),o!==0&&(r=o,e=Df(t,o))),e===1)throw n=ja,Mo(t,0),Vr(t,r),Jt(t,lt()),n;if(e===6)Vr(t,r);else{if(o=t.current.alternate,!(r&30)&&!yT(o)&&(e=Qc(t,r),e===2&&(i=uf(t),i!==0&&(r=i,e=Df(t,i))),e===1))throw n=ja,Mo(t,0),Vr(t,r),Jt(t,lt()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Eo(t,Kt,ar);break;case 3:if(Vr(t,r),(r&130023424)===r&&(e=vm+500-lt(),10<e)){if(Bc(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=yf(Eo.bind(null,t,Kt,ar),e);break}Eo(t,Kt,ar);break;case 4:if(Vr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-On(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vT(r/1960))-r,10<r){t.timeoutHandle=yf(Eo.bind(null,t,Kt,ar),r);break}Eo(t,Kt,ar);break;case 5:Eo(t,Kt,ar);break;default:throw Error(q(329))}}}return Jt(t,lt()),t.callbackNode===n?Fw.bind(null,t):null}function Df(t,e){var n=ha;return t.current.memoizedState.isDehydrated&&(Mo(t,e).flags|=256),t=Qc(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&$f(e)),t}function $f(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function yT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!jn(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vr(t,e){for(e&=~gm,e&=~Vu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-On(e),r=1<<n;t[n]=-1,e&=~r}}function N0(t){if(Pe&6)throw Error(q(327));$i();var e=Bc(t,0);if(!(e&1))return Jt(t,lt()),null;var n=Qc(t,e);if(t.tag!==0&&n===2){var r=uf(t);r!==0&&(e=r,n=Df(t,r))}if(n===1)throw n=ja,Mo(t,0),Vr(t,e),Jt(t,lt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Eo(t,Kt,ar),Jt(t,lt()),null}function ym(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Zi=lt()+500,Uu&&yo())}}function qo(t){Zr!==null&&Zr.tag===0&&!(Pe&6)&&$i();var e=Pe;Pe|=1;var n=bn.transition,r=je;try{if(bn.transition=null,je=1,t)return t()}finally{je=r,bn.transition=n,Pe=e,!(Pe&6)&&yo()}}function bm(){rn=Li.current,We(Li)}function Mo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GC(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Qp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uc();break;case 3:Xi(),We(Yt),We(Ot),lm();break;case 5:am(r);break;case 4:Xi();break;case 13:We(Ze);break;case 19:We(Ze);break;case 10:rm(r.type._context);break;case 22:case 23:bm()}n=n.return}if(kt=t,ht=t=ao(t.current,null),Ct=rn=e,yt=0,ja=null,gm=Vu=Wo=0,Kt=ha=null,Io!==null){for(e=0;e<Io.length;e++)if(n=Io[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Io=null}return t}function zw(t,e){do{var n=ht;try{if(nm(),ic.current=Yc,Gc){for(var r=et.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Gc=!1}if(Vo=0,xt=vt=et=null,ua=!1,Pa=0,mm.current=null,n===null||n.return===null){yt=1,ja=e,ht=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=Ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=m0(s);if(w!==null){w.flags&=-257,g0(w,s,a,i,e),w.mode&1&&p0(i,c,e),e=w,l=c;var f=e.updateQueue;if(f===null){var b=new Set;b.add(l),e.updateQueue=b}else f.add(l);break e}else{if(!(e&1)){p0(i,c,e),wm();break e}l=Error(q(426))}}else if(Ye&&a.mode&1){var y=m0(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),g0(y,s,a,i,e),em(Ji(l,a));break e}}i=l=Ji(l,a),yt!==4&&(yt=2),ha===null?ha=[i]:ha.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Ew(i,l,e);l0(i,v);break e;case 1:a=l;var g=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(io===null||!io.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Cw(i,a,e);l0(i,x);break e}}i=i.return}while(i!==null)}Ww(n)}catch(k){e=k,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function Hw(){var t=Xc.current;return Xc.current=Yc,t===null?Yc:t}function wm(){(yt===0||yt===3||yt===2)&&(yt=4),kt===null||!(Wo&268435455)&&!(Vu&268435455)||Vr(kt,Ct)}function Qc(t,e){var n=Pe;Pe|=2;var r=Hw();(kt!==t||Ct!==e)&&(ar=null,Mo(t,e));do try{bT();break}catch(o){zw(t,o)}while(!0);if(nm(),Pe=n,Xc.current=r,ht!==null)throw Error(q(261));return kt=null,Ct=0,yt}function bT(){for(;ht!==null;)Vw(ht)}function wT(){for(;ht!==null&&!WE();)Vw(ht)}function Vw(t){var e=Kw(t.alternate,t,rn);t.memoizedProps=t.pendingProps,e===null?Ww(t):ht=e,mm.current=null}function Ww(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fT(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ht=null;return}}else if(n=hT(n,e,rn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);yt===0&&(yt=5)}function Eo(t,e,n){var r=je,o=bn.transition;try{bn.transition=null,je=1,xT(t,e,n,r)}finally{bn.transition=o,je=r}return null}function xT(t,e,n,r){do $i();while(Zr!==null);if(Pe&6)throw Error(q(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(tC(t,i),t===kt&&(ht=kt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ul||(Ul=!0,Gw(Pc,function(){return $i(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bn.transition,bn.transition=null;var s=je;je=1;var a=Pe;Pe|=4,mm.current=null,mT(t,n),$w(n,t),FC(gf),Mc=!!mf,gf=mf=null,t.current=n,gT(n),qE(),Pe=a,je=s,bn.transition=i}else t.current=n;if(Ul&&(Ul=!1,Zr=t,Zc=o),i=t.pendingLanes,i===0&&(io=null),YE(n.stateNode),Jt(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Jc)throw Jc=!1,t=Mf,Mf=null,t;return Zc&1&&t.tag!==0&&$i(),i=t.pendingLanes,i&1?t===jf?fa++:(fa=0,jf=t):fa=0,yo(),null}function $i(){if(Zr!==null){var t=Eb(Zc),e=bn.transition,n=je;try{if(bn.transition=null,je=16>t?16:t,Zr===null)var r=!1;else{if(t=Zr,Zr=null,Zc=0,Pe&6)throw Error(q(331));var o=Pe;for(Pe|=4,ie=t.current;ie!==null;){var i=ie,s=i.child;if(ie.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:da(8,d,i)}var u=d.child;if(u!==null)u.return=d,ie=u;else for(;ie!==null;){d=ie;var p=d.sibling,w=d.return;if(Mw(d),d===c){ie=null;break}if(p!==null){p.return=w,ie=p;break}ie=w}}}var f=i.alternate;if(f!==null){var b=f.child;if(b!==null){f.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}ie=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,ie=s;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:da(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ie=v;break e}ie=i.return}}var g=t.current;for(ie=g;ie!==null;){s=ie;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,ie=m;else e:for(s=g;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hu(9,a)}}catch(k){it(a,a.return,k)}if(a===s){ie=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,ie=x;break e}ie=a.return}}if(Pe=o,yo(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Bu,t)}catch{}r=!0}return r}finally{je=n,bn.transition=e}}return!1}function R0(t,e,n){e=Ji(n,e),e=Ew(t,e,1),t=oo(t,e,1),e=Ft(),t!==null&&(Ga(t,1,e),Jt(t,e))}function it(t,e,n){if(t.tag===3)R0(t,t,n);else for(;e!==null;){if(e.tag===3){R0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(io===null||!io.has(r))){t=Ji(n,t),t=Cw(e,t,1),e=oo(e,t,1),t=Ft(),e!==null&&(Ga(e,1,t),Jt(e,t));break}}e=e.return}}function kT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Ct&n)===n&&(yt===4||yt===3&&(Ct&130023424)===Ct&&500>lt()-vm?Mo(t,0):gm|=n),Jt(t,e)}function qw(t,e){e===0&&(t.mode&1?(e=Il,Il<<=1,!(Il&130023424)&&(Il=4194304)):e=1);var n=Ft();t=Sr(t,e),t!==null&&(Ga(t,e,n),Jt(t,n))}function _T(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qw(t,n)}function ST(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),qw(t,n)}var Kw;Kw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,dT(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,Ye&&e.flags&1048576&&Jb(e,Hc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ac(t,e),t=e.pendingProps;var o=Ki(e,Ot.current);Di(e,n),o=um(null,e,r,t,o,n);var i=dm();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(r)?(i=!0,Fc(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,im(e),o.updater=zu,e.stateNode=o,o._reactInternals=e,Ef(e,r,t,n),e=Nf(null,e,r,!0,i,n)):(e.tag=0,Ye&&i&&Zp(e),Dt(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ac(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=CT(r),t=Rn(r,t),o){case 0:e=Tf(null,e,r,t,n);break e;case 1:e=b0(null,e,r,t,n);break e;case 11:e=v0(null,e,r,t,n);break e;case 14:e=y0(null,e,r,Rn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Rn(r,o),Tf(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Rn(r,o),b0(t,e,r,o,n);case 3:e:{if(Iw(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,o=i.element,rw(t,e),qc(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Ji(Error(q(423)),e),e=w0(t,e,r,n,o);break e}else if(r!==o){o=Ji(Error(q(424)),e),e=w0(t,e,r,n,o);break e}else for(on=ro(e.stateNode.containerInfo.firstChild),ln=e,Ye=!0,Ln=null,n=tw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gi(),r===o){e=Er(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return ow(e),t===null&&kf(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,vf(r,o)?s=null:i!==null&&vf(r,i)&&(e.flags|=32),Rw(t,e),Dt(t,e,s,n),e.child;case 6:return t===null&&kf(e),null;case 13:return Lw(t,e,n);case 4:return sm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yi(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Rn(r,o),v0(t,e,r,o,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,Fe(Vc,r._currentValue),r._currentValue=s,i!==null)if(jn(i.value,s)){if(i.children===o.children&&!Yt.current){e=Er(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=wr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),_f(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_f(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Dt(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Di(e,n),o=wn(o),r=r(o),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,o=Rn(r,e.pendingProps),o=Rn(r.type,o),y0(t,e,r,o,n);case 15:return Tw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Rn(r,o),ac(t,e),e.tag=1,Xt(r)?(t=!0,Fc(e)):t=!1,Di(e,n),Sw(e,r,o),Ef(e,r,o,n),Nf(null,e,r,!0,t,n);case 19:return Aw(t,e,n);case 22:return Nw(t,e,n)}throw Error(q(156,e.tag))};function Gw(t,e){return xb(t,e)}function ET(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new ET(t,e,n,r)}function xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CT(t){if(typeof t=="function")return xm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Up)return 11;if(t===Fp)return 14}return 2}function ao(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function uc(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")xm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case xi:return jo(n.children,o,i,e);case $p:s=8,o|=8;break;case Gh:return t=yn(12,n,e,o|2),t.elementType=Gh,t.lanes=i,t;case Yh:return t=yn(13,n,e,o),t.elementType=Yh,t.lanes=i,t;case Xh:return t=yn(19,n,e,o),t.elementType=Xh,t.lanes=i,t;case ob:return Wu(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nb:s=10;break e;case rb:s=9;break e;case Up:s=11;break e;case Fp:s=14;break e;case Ur:s=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=yn(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function jo(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function Wu(t,e,n,r){return t=yn(22,t,r,e),t.elementType=ob,t.lanes=n,t.stateNode={isHidden:!1},t}function lh(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function ch(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TT(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hd(0),this.expirationTimes=Hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hd(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function km(t,e,n,r,o,i,s,a,l){return t=new TT(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=yn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},im(i),t}function NT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Yw(t){if(!t)return po;t=t._reactInternals;e:{if(ni(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Xt(n))return Yb(t,n,e)}return e}function Xw(t,e,n,r,o,i,s,a,l){return t=km(n,r,!0,t,o,i,s,a,l),t.context=Yw(null),n=t.current,r=Ft(),o=so(n),i=wr(r,o),i.callback=e??null,oo(n,i,o),t.current.lanes=o,Ga(t,o,r),Jt(t,r),t}function qu(t,e,n,r){var o=e.current,i=Ft(),s=so(o);return n=Yw(n),e.context===null?e.context=n:e.pendingContext=n,e=wr(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oo(o,e,s),t!==null&&(Pn(t,o,s,i),oc(t,o,s)),s}function eu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _m(t,e){I0(t,e),(t=t.alternate)&&I0(t,e)}function RT(){return null}var Jw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sm(t){this._internalRoot=t}Ku.prototype.render=Sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));qu(t,e,null,null)};Ku.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qo(function(){qu(null,t,null,null)}),e[_r]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var e=Nb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hr.length&&e!==0&&e<Hr[n].priority;n++);Hr.splice(n,0,t),n===0&&Ib(t)}};function Em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function L0(){}function IT(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=eu(s);i.call(c)}}var s=Xw(e,r,t,0,null,!1,!1,"",L0);return t._reactRootContainer=s,t[_r]=s.current,Ra(t.nodeType===8?t.parentNode:t),qo(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=eu(l);a.call(c)}}var l=km(t,0,!1,null,null,!1,!1,"",L0);return t._reactRootContainer=l,t[_r]=l.current,Ra(t.nodeType===8?t.parentNode:t),qo(function(){qu(e,l,n,r)}),l}function Yu(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=eu(s);a.call(l)}}qu(e,s,t,o)}else s=IT(n,e,t,o,r);return eu(s)}Cb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xs(e.pendingLanes);n!==0&&(Vp(e,n|1),Jt(e,lt()),!(Pe&6)&&(Zi=lt()+500,yo()))}break;case 13:qo(function(){var r=Sr(t,1);if(r!==null){var o=Ft();Pn(r,t,1,o)}}),_m(t,1)}};Wp=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=Ft();Pn(e,t,134217728,n)}_m(t,134217728)}};Tb=function(t){if(t.tag===13){var e=so(t),n=Sr(t,e);if(n!==null){var r=Ft();Pn(n,t,e,r)}_m(t,e)}};Nb=function(){return je};Rb=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};af=function(t,e,n){switch(e){case"input":if(Qh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=$u(r);if(!o)throw Error(q(90));sb(r),Qh(r,o)}}}break;case"textarea":lb(t,n);break;case"select":e=n.value,e!=null&&Pi(t,!!n.multiple,e,!1)}};mb=ym;gb=qo;var LT={usingClientEntryPoint:!1,Events:[Xa,Ei,$u,fb,pb,ym]},Ms={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AT={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bb(t),t===null?null:t.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||RT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{Bu=Fl.inject(AT),Gn=Fl}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LT;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(e))throw Error(q(200));return NT(t,e,null,n)};dn.createRoot=function(t,e){if(!Em(t))throw Error(q(299));var n=!1,r="",o=Jw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=km(t,1,!1,null,null,n,!1,r,o),t[_r]=e.current,Ra(t.nodeType===8?t.parentNode:t),new Sm(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=bb(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return qo(t)};dn.hydrate=function(t,e,n){if(!Gu(e))throw Error(q(200));return Yu(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!Em(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Jw;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Xw(e,null,t,1,n??null,o,!1,i,s),t[_r]=e.current,Ra(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Ku(e)};dn.render=function(t,e,n){if(!Gu(e))throw Error(q(200));return Yu(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!Gu(t))throw Error(q(40));return t._reactRootContainer?(qo(function(){Yu(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};dn.unstable_batchedUpdates=ym;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gu(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Yu(t,e,n,!1,r)};dn.version="18.3.1-next-f1338f8080-20240426";function Zw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zw)}catch(t){console.error(t)}}Zw(),Zy.exports=dn;var Qw=Zy.exports;const OT=Ou(Qw);var ex,A0=Qw;ex=A0.createRoot,A0.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Da(){return Da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Da.apply(this,arguments)}var Qr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qr||(Qr={}));const O0="popstate";function PT(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return Uf("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:tu(o)}return MT(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BT(){return Math.random().toString(36).substr(2,8)}function P0(t,e){return{usr:t.state,key:t.key,idx:e}}function Uf(t,e,n,r){return n===void 0&&(n=null),Da({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?us(e):e,{state:n,key:e&&e.key||r||BT()})}function tu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function us(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MT(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=Qr.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(Da({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function u(){a=Qr.Pop;let y=d(),v=y==null?null:y-c;c=y,l&&l({action:a,location:b.location,delta:v})}function p(y,v){a=Qr.Push;let g=Uf(b.location,y,v);c=d()+1;let m=P0(g,c),x=b.createHref(g);try{s.pushState(m,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(x)}i&&l&&l({action:a,location:b.location,delta:1})}function w(y,v){a=Qr.Replace;let g=Uf(b.location,y,v);c=d();let m=P0(g,c),x=b.createHref(g);s.replaceState(m,"",x),i&&l&&l({action:a,location:b.location,delta:0})}function f(y){let v=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof y=="string"?y:tu(y);return g=g.replace(/ $/,"%20"),ct(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let b={get action(){return a},get location(){return t(o,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(O0,u),l=y,()=>{o.removeEventListener(O0,u),l=null}},createHref(y){return e(o,y)},createURL:f,encodeLocation(y){let v=f(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:w,go(y){return s.go(y)}};return b}var B0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(B0||(B0={}));function jT(t,e,n){return n===void 0&&(n="/"),DT(t,e,n,!1)}function DT(t,e,n,r){let o=typeof e=="string"?us(e):e,i=Cm(o.pathname||"/",n);if(i==null)return null;let s=nx(t);$T(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=XT(i);a=GT(s[l],c,r)}return a}function nx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=lo([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nx(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:qT(c,i.index),routesMeta:d})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of rx(i.path))o(i,s,l)}),e}function rx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=rx(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $T(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const UT=/^:[\w-]+$/,FT=3,zT=2,HT=1,VT=10,WT=-2,M0=t=>t==="*";function qT(t,e){let n=t.split("/"),r=n.length;return n.some(M0)&&(r+=WT),e&&(r+=zT),n.filter(o=>!M0(o)).reduce((o,i)=>o+(UT.test(i)?FT:i===""?HT:VT),r)}function KT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function GT(t,e,n){let{routesMeta:r}=t,o={},i="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",u=j0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=j0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:lo([i,u.pathname]),pathnameBase:e4(lo([i,u.pathnameBase])),route:p}),u.pathnameBase!=="/"&&(i=lo([i,u.pathnameBase]))}return s}function j0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YT(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,d,u)=>{let{paramName:p,isOptional:w}=d;if(p==="*"){let b=a[u]||"";s=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const f=a[u];return w&&!f?c[p]=void 0:c[p]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:t}}function YT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function XT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?us(t):t;return{pathname:n?n.startsWith("/")?n:ZT(n,e):e,search:t4(r),hash:n4(o)}}function ZT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function uh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tm(t,e){let n=QT(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nm(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=us(t):(o=Da({},t),ct(!o.pathname||!o.pathname.includes("?"),uh("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),uh("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),uh("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let u=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),u-=1;o.pathname=p.join("/")}a=u>=0?e[u]:"/"}let l=JT(o,a),c=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const lo=t=>t.join("/").replace(/\/\/+/g,"/"),e4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ox=["post","put","patch","delete"];new Set(ox);const o4=["get",...ox];new Set(o4);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(this,arguments)}const Rm=R.createContext(null),i4=R.createContext(null),bo=R.createContext(null),Xu=R.createContext(null),er=R.createContext({outlet:null,matches:[],isDataRoute:!1}),ix=R.createContext(null);function s4(t,e){let{relative:n}=e===void 0?{}:e;ds()||ct(!1);let{basename:r,navigator:o}=R.useContext(bo),{hash:i,pathname:s,search:a}=ax(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:lo([r,s])),o.createHref({pathname:l,search:a,hash:i})}function ds(){return R.useContext(Xu)!=null}function hs(){return ds()||ct(!1),R.useContext(Xu).location}function sx(t){R.useContext(bo).static||R.useLayoutEffect(t)}function _n(){let{isDataRoute:t}=R.useContext(er);return t?x4():a4()}function a4(){ds()||ct(!1);let t=R.useContext(Rm),{basename:e,future:n,navigator:r}=R.useContext(bo),{matches:o}=R.useContext(er),{pathname:i}=hs(),s=JSON.stringify(Tm(o,n.v7_relativeSplatPath)),a=R.useRef(!1);return sx(()=>{a.current=!0}),R.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let u=Nm(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:lo([e,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[e,r,s,i,t])}const l4=R.createContext(null);function c4(t){let e=R.useContext(er).outlet;return e&&R.createElement(l4.Provider,{value:t},e)}function Ir(){let{matches:t}=R.useContext(er),e=t[t.length-1];return e?e.params:{}}function ax(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(bo),{matches:o}=R.useContext(er),{pathname:i}=hs(),s=JSON.stringify(Tm(o,r.v7_relativeSplatPath));return R.useMemo(()=>Nm(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function u4(t,e){return d4(t,e)}function d4(t,e,n,r){ds()||ct(!1);let{navigator:o}=R.useContext(bo),{matches:i}=R.useContext(er),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=hs(),d;if(e){var u;let y=typeof e=="string"?us(e):e;l==="/"||(u=y.pathname)!=null&&u.startsWith(l)||ct(!1),d=y}else d=c;let p=d.pathname||"/",w=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let f=jT(t,{pathname:w}),b=g4(f&&f.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:lo([l,o.encodeLocation?o.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:lo([l,o.encodeLocation?o.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&b?R.createElement(Xu.Provider,{value:{location:$a({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qr.Pop}},b):b}function h4(){let t=w4(),e=r4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:o},n):null,null)}const f4=R.createElement(h4,null);class p4 extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(er.Provider,{value:this.props.routeContext},R.createElement(ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m4(t){let{routeContext:e,match:n,children:r}=t,o=R.useContext(Rm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(er.Provider,{value:e},r)}function g4(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let d=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);d>=0||ct(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let u=s[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:p,errors:w}=n,f=u.route.loader&&p[u.route.id]===void 0&&(!w||w[u.route.id]===void 0);if(u.route.lazy||f){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,u,p)=>{let w,f=!1,b=null,y=null;n&&(w=a&&u.route.id?a[u.route.id]:void 0,b=u.route.errorElement||f4,l&&(c<0&&p===0?(f=!0,y=null):c===p&&(f=!0,y=u.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,p+1)),g=()=>{let m;return w?m=b:f?m=y:u.route.Component?m=R.createElement(u.route.Component,null):u.route.element?m=u.route.element:m=d,R.createElement(m4,{match:u,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:m})};return n&&(u.route.ErrorBoundary||u.route.errorElement||p===0)?R.createElement(p4,{location:n.location,revalidation:n.revalidation,component:b,error:w,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var lx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lx||{}),nu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nu||{});function v4(t){let e=R.useContext(Rm);return e||ct(!1),e}function y4(t){let e=R.useContext(i4);return e||ct(!1),e}function b4(t){let e=R.useContext(er);return e||ct(!1),e}function cx(t){let e=b4(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function w4(){var t;let e=R.useContext(ix),n=y4(nu.UseRouteError),r=cx(nu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function x4(){let{router:t}=v4(lx.UseNavigateStable),e=cx(nu.UseNavigateStable),n=R.useRef(!1);return sx(()=>{n.current=!0}),R.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,$a({fromRouteId:e},i)))},[t,e])}function ux(t){let{to:e,replace:n,state:r,relative:o}=t;ds()||ct(!1);let{future:i,static:s}=R.useContext(bo),{matches:a}=R.useContext(er),{pathname:l}=hs(),c=_n(),d=Nm(e,Tm(a,i.v7_relativeSplatPath),l,o==="path"),u=JSON.stringify(d);return R.useEffect(()=>c(JSON.parse(u),{replace:n,state:r,relative:o}),[c,u,o,n,r]),null}function dx(t){return c4(t.context)}function mt(t){ct(!1)}function k4(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Qr.Pop,navigator:i,static:s=!1,future:a}=t;ds()&&ct(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:i,static:s,future:$a({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof r=="string"&&(r=us(r));let{pathname:d="/",search:u="",hash:p="",state:w=null,key:f="default"}=r,b=R.useMemo(()=>{let y=Cm(d,l);return y==null?null:{location:{pathname:y,search:u,hash:p,state:w,key:f},navigationType:o}},[l,d,u,p,w,f,o]);return b==null?null:R.createElement(bo.Provider,{value:c},R.createElement(Xu.Provider,{children:n,value:b}))}function _4(t){let{children:e,location:n}=t;return u4(Ff(e),n)}new Promise(()=>{});function Ff(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,o)=>{if(!R.isValidElement(r))return;let i=[...e,o];if(r.type===R.Fragment){n.push.apply(n,Ff(r.props.children,i));return}r.type!==mt&&ct(!1),!r.props.index||!r.props.children||ct(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ff(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zf.apply(this,arguments)}function S4(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function E4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function C4(t,e){return t.button===0&&(!e||e==="_self")&&!E4(t)}const T4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],N4="6";try{window.__reactRouterVersion=N4}catch{}const R4="startTransition",D0=kE[R4];function I4(t){let{basename:e,children:n,future:r,window:o}=t,i=R.useRef();i.current==null&&(i.current=PT({window:o,v5Compat:!0}));let s=i.current,[a,l]=R.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=R.useCallback(u=>{c&&D0?D0(()=>l(u)):l(u)},[l,c]);return R.useLayoutEffect(()=>s.listen(d),[s,d]),R.createElement(k4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const L4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=R.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:u}=e,p=S4(e,T4),{basename:w}=R.useContext(bo),f,b=!1;if(typeof c=="string"&&A4.test(c)&&(f=c,L4))try{let m=new URL(window.location.href),x=c.startsWith("//")?new URL(m.protocol+c):new URL(c),k=Cm(x.pathname,w);x.origin===m.origin&&k!=null?c=k+x.search+x.hash:b=!0}catch{}let y=s4(c,{relative:o}),v=O4(c,{replace:s,state:a,target:l,preventScrollReset:d,relative:o,unstable_viewTransition:u});function g(m){r&&r(m),m.defaultPrevented||v(m)}return R.createElement("a",zf({},p,{href:f||y,onClick:b||i?r:g,ref:n,target:l}))});var $0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($0||($0={}));var U0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(U0||(U0={}));function O4(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=_n(),c=hs(),d=ax(t,{relative:s});return R.useCallback(u=>{if(C4(u,n)){u.preventDefault();let p=r!==void 0?r:tu(c)===tu(d);l(t,{replace:p,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:a})}},[c,l,d,r,o,n,t,i,s,a])}var hx={};function P4(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var B4=P4,Ee=B4;function M4(t){return!!t&&typeof t.then=="function"}var Ve=M4;function j4(t,e){if(t!=null)return t;throw Ee(e??"Got unexpected null or undefined")}var Je=j4;function _e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Ju{getValue(){throw Ee("BaseLoadable")}toPromise(){throw Ee("BaseLoadable")}valueMaybe(){throw Ee("BaseLoadable")}valueOrThrow(){throw Ee(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Ee("BaseLoadable")}promiseOrThrow(){throw Ee(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Ee("BaseLoadable")}errorOrThrow(){throw Ee(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Ee("BaseLoadable")}}class D4 extends Ju{constructor(e){super(),_e(this,"state","hasValue"),_e(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Ve(n)?Ko(n):Qi(n)?n:Za(n)}catch(n){return Ve(n)?Ko(n.next(()=>this.map(e))):Zu(n)}}}class $4 extends Ju{constructor(e){super(),_e(this,"state","hasError"),_e(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class fx extends Ju{constructor(e){super(),_e(this,"state","loading"),_e(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Ko(this.contents.then(n=>{const r=e(n);if(Qi(r)){const o=r;switch(o.state){case"hasValue":return o.contents;case"hasError":throw o.contents;case"loading":return o.contents}}return r}).catch(n=>{if(Ve(n))return n.then(()=>this.map(e).contents);throw n}))}}function Za(t){return Object.freeze(new D4(t))}function Zu(t){return Object.freeze(new $4(t))}function Ko(t){return Object.freeze(new fx(t))}function px(){return Object.freeze(new fx(new Promise(()=>{})))}function U4(t){return t.every(e=>e.state==="hasValue")?Za(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Zu(Je(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Ko(Promise.all(t.map(e=>e.contents)))}function mx(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(o=>t[o])).map(o=>Qi(o)?o:Ve(o)?Ko(o):Za(o)),r=U4(n);return Array.isArray(t)?r:r.map(o=>Object.getOwnPropertyNames(t).reduce((i,s,a)=>({...i,[s]:o[a]}),{}))}function Qi(t){return t instanceof Ju}const F4={of:t=>Ve(t)?Ko(t):Qi(t)?t:Za(t),error:t=>Zu(t),loading:()=>px(),all:mx,isLoadable:Qi};var ri={loadableWithValue:Za,loadableWithError:Zu,loadableWithPromise:Ko,loadableLoading:px,loadableAll:mx,isLoadable:Qi,RecoilLoadable:F4},z4=ri.loadableWithValue,H4=ri.loadableWithError,V4=ri.loadableWithPromise,W4=ri.loadableLoading,q4=ri.loadableAll,K4=ri.isLoadable,G4=ri.RecoilLoadable,Qa=Object.freeze({__proto__:null,loadableWithValue:z4,loadableWithError:H4,loadableWithPromise:V4,loadableLoading:W4,loadableAll:q4,isLoadable:K4,RecoilLoadable:G4});const Hf={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function Y4(t,e){var n,r;const o=(n=hx[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(o==null||o==="")return;if(!["true","false"].includes(o))throw Ee(`process.env.${t} value must be 'true', 'false', or empty: ${o}`);e(o==="true")}function X4(t,e){var n;const r=(n=hx[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function J4(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(Y4("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{Hf.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),X4("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{Hf.RECOIL_GKS_ENABLED.add(n)})}))}J4();var fs=Hf;function Qu(t){return fs.RECOIL_GKS_ENABLED.has(t)}Qu.setPass=t=>{fs.RECOIL_GKS_ENABLED.add(t)};Qu.setFail=t=>{fs.RECOIL_GKS_ENABLED.delete(t)};Qu.clear=()=>{fs.RECOIL_GKS_ENABLED.clear()};var Ue=Qu;function Z4(t,e,{error:n}={}){return null}var Q4=Z4,Im=Q4,dh,hh,fh;const e3=(dh=xe.createMutableSource)!==null&&dh!==void 0?dh:xe.unstable_createMutableSource,gx=(hh=xe.useMutableSource)!==null&&hh!==void 0?hh:xe.unstable_useMutableSource,vx=(fh=xe.useSyncExternalStore)!==null&&fh!==void 0?fh:xe.unstable_useSyncExternalStore;function t3(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function n3(){return Ue("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Ue("recoil_sync_external_store")&&vx!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Ue("recoil_mutable_source")&&gx!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Ue("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Ue("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function r3(){return!1}var el={createMutableSource:e3,useMutableSource:gx,useSyncExternalStore:vx,currentRendererSupportsUseSyncExternalStore:t3,reactMode:n3,isFastRefreshEnabled:r3};class Lm{constructor(e){_e(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class yx extends Lm{}class bx extends Lm{}function o3(t){return t instanceof yx||t instanceof bx}var ed={AbstractRecoilValue:Lm,RecoilState:yx,RecoilValueReadOnly:bx,isRecoilValue:o3},i3=ed.AbstractRecoilValue,s3=ed.RecoilState,a3=ed.RecoilValueReadOnly,l3=ed.isRecoilValue,es=Object.freeze({__proto__:null,AbstractRecoilValue:i3,RecoilState:s3,RecoilValueReadOnly:a3,isRecoilValue:l3});function c3(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var td=c3;class wx{}const u3=new wx,Go=new Map,Am=new Map;function d3(t){return td(t,e=>Je(Am.get(e)))}function h3(t){if(Go.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function f3(t){fs.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&h3(t.key),Go.set(t.key,t);const e=t.set==null?new es.RecoilValueReadOnly(t.key):new es.RecoilState(t.key);return Am.set(t.key,e),e}class xx extends Error{}function p3(t){const e=Go.get(t);if(e==null)throw new xx(`Missing definition for RecoilValue: "${t}""`);return e}function m3(t){return Go.get(t)}const ru=new Map;function g3(t){var e;if(!Ue("recoil_memory_managament_2020"))return;const n=Go.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Go.delete(t),(r=kx(t))===null||r===void 0||r(),ru.delete(t)}}function v3(t,e){Ue("recoil_memory_managament_2020")&&(e===void 0?ru.delete(t):ru.set(t,e))}function kx(t){return ru.get(t)}var tn={nodes:Go,recoilValues:Am,registerNode:f3,getNode:p3,getNodeMaybe:m3,deleteNodeConfigIfPossible:g3,setConfigDeletionHandler:v3,getConfigDeletionHandler:kx,recoilValuesForKeys:d3,NodeMissingError:xx,DefaultValue:wx,DEFAULT_VALUE:u3};function y3(t,e){e()}var b3={enqueueExecution:y3};function w3(t,e){return e={exports:{}},t(e,e.exports),e.exports}var x3=w3(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},n={},r=5,o=Math.pow(2,r),i=o-1,s=o/2,a=o/4,l={},c=function(L){return function(){return L}},d=n.hash=function(O){var L=typeof O>"u"?"undefined":e(O);if(L==="number")return O;L!=="string"&&(O+="");for(var W=0,ne=0,re=O.length;ne<re;++ne){var ae=O.charCodeAt(ne);W=(W<<5)-W+ae|0}return W},u=function(L){return L-=L>>1&1431655765,L=(L&858993459)+(L>>2&858993459),L=L+(L>>4)&252645135,L+=L>>8,L+=L>>16,L&127},p=function(L,W){return W>>>L&i},w=function(L){return 1<<L},f=function(L,W){return u(L&W-1)},b=function(L,W,ne,re){var ae=re;if(!L){var ye=re.length;ae=new Array(ye);for(var me=0;me<ye;++me)ae[me]=re[me]}return ae[W]=ne,ae},y=function(L,W,ne){var re=ne.length-1,ae=0,ye=0,me=ne;if(L)ae=ye=W;else for(me=new Array(re);ae<W;)me[ye++]=ne[ae++];for(++ae;ae<=re;)me[ye++]=ne[ae++];return L&&(me.length=re),me},v=function(L,W,ne,re){var ae=re.length;if(L){for(var ye=ae;ye>=W;)re[ye--]=re[ye];return re[W]=ne,re}for(var me=0,ge=0,Ne=new Array(ae+1);me<W;)Ne[ge++]=re[me++];for(Ne[W]=ne;me<ae;)Ne[++ge]=re[me++];return Ne},g=1,m=2,x=3,k=4,_={__hamt_isEmpty:!0},E=function(L){return L===_||L&&L.__hamt_isEmpty},S=function(L,W,ne,re){return{type:g,edit:L,hash:W,key:ne,value:re,_modify:$}},T=function(L,W,ne){return{type:m,edit:L,hash:W,children:ne,_modify:Q}},N=function(L,W,ne){return{type:x,edit:L,mask:W,children:ne,_modify:U}},z=function(L,W,ne){return{type:k,edit:L,size:W,children:ne,_modify:ee}},D=function(L){return L===_||L.type===g||L.type===m},A=function(L,W,ne,re,ae){for(var ye=[],me=re,ge=0,Ne=0;me;++Ne)me&1&&(ye[Ne]=ae[ge++]),me>>>=1;return ye[W]=ne,z(L,ge+1,ye)},j=function(L,W,ne,re){for(var ae=new Array(W-1),ye=0,me=0,ge=0,Ne=re.length;ge<Ne;++ge)if(ge!==ne){var Ke=re[ge];Ke&&!E(Ke)&&(ae[ye++]=Ke,me|=1<<ge)}return N(L,me,ae)},H=function O(L,W,ne,re,ae,ye){if(ne===ae)return T(L,ne,[ye,re]);var me=p(W,ne),ge=p(W,ae);return N(L,w(me)|w(ge),me===ge?[O(L,W+r,ne,re,ae,ye)]:me<ge?[re,ye]:[ye,re])},X=function(L,W,ne,re,ae,ye,me,ge){for(var Ne=ae.length,Ke=0;Ke<Ne;++Ke){var Vt=ae[Ke];if(ne(me,Vt.key)){var wt=Vt.value,fn=ye(wt);return fn===wt?ae:fn===l?(--ge.value,y(L,Ke,ae)):b(L,Ke,S(W,re,me,fn),ae)}}var Cn=ye();return Cn===l?ae:(++ge.value,b(L,Ne,S(W,re,me,Cn),ae))},ue=function(L,W){return L===W.edit},$=function(L,W,ne,re,ae,ye,me){if(W(ye,this.key)){var ge=re(this.value);return ge===this.value?this:ge===l?(--me.value,_):ue(L,this)?(this.value=ge,this):S(L,ae,ye,ge)}var Ne=re();return Ne===l?this:(++me.value,H(L,ne,this.hash,this,ae,S(L,ae,ye,Ne)))},Q=function(L,W,ne,re,ae,ye,me){if(ae===this.hash){var ge=ue(L,this),Ne=X(ge,L,W,this.hash,this.children,re,ye,me);return Ne===this.children?this:Ne.length>1?T(L,this.hash,Ne):Ne[0]}var Ke=re();return Ke===l?this:(++me.value,H(L,ne,this.hash,this,ae,S(L,ae,ye,Ke)))},U=function(L,W,ne,re,ae,ye,me){var ge=this.mask,Ne=this.children,Ke=p(ne,ae),Vt=w(Ke),wt=f(ge,Vt),fn=ge&Vt,Cn=fn?Ne[wt]:_,li=Cn._modify(L,W,ne+r,re,ae,ye,me);if(Cn===li)return this;var Sl=ue(L,this),Ts=ge,Ns=void 0;if(fn&&E(li)){if(Ts&=~Vt,!Ts)return _;if(Ne.length<=2&&D(Ne[wt^1]))return Ne[wt^1];Ns=y(Sl,wt,Ne)}else if(!fn&&!E(li)){if(Ne.length>=s)return A(L,Ke,li,ge,Ne);Ts|=Vt,Ns=v(Sl,wt,li,Ne)}else Ns=b(Sl,wt,li,Ne);return Sl?(this.mask=Ts,this.children=Ns,this):N(L,Ts,Ns)},ee=function(L,W,ne,re,ae,ye,me){var ge=this.size,Ne=this.children,Ke=p(ne,ae),Vt=Ne[Ke],wt=(Vt||_)._modify(L,W,ne+r,re,ae,ye,me);if(Vt===wt)return this;var fn=ue(L,this),Cn=void 0;if(E(Vt)&&!E(wt))++ge,Cn=b(fn,Ke,wt,Ne);else if(!E(Vt)&&E(wt)){if(--ge,ge<=a)return j(L,ge,Ke,Ne);Cn=b(fn,Ke,_,Ne)}else Cn=b(fn,Ke,wt,Ne);return fn?(this.size=ge,this.children=Cn,this):z(L,ge,Cn)};_._modify=function(O,L,W,ne,re,ae,ye){var me=ne();return me===l?_:(++ye.value,S(O,re,ae,me))};function I(O,L,W,ne,re){this._editable=O,this._edit=L,this._config=W,this._root=ne,this._size=re}I.prototype.setTree=function(O,L){return this._editable?(this._root=O,this._size=L,this):O===this._root?this:new I(this._editable,this._edit,this._config,O,L)};var V=n.tryGetHash=function(O,L,W,ne){for(var re=ne._root,ae=0,ye=ne._config.keyEq;;)switch(re.type){case g:return ye(W,re.key)?re.value:O;case m:{if(L===re.hash)for(var me=re.children,ge=0,Ne=me.length;ge<Ne;++ge){var Ke=me[ge];if(ye(W,Ke.key))return Ke.value}return O}case x:{var Vt=p(ae,L),wt=w(Vt);if(re.mask&wt){re=re.children[f(re.mask,wt)],ae+=r;break}return O}case k:{if(re=re.children[p(ae,L)],re){ae+=r;break}return O}default:return O}};I.prototype.tryGetHash=function(O,L,W){return V(O,L,W,this)};var K=n.tryGet=function(O,L,W){return V(O,W._config.hash(L),L,W)};I.prototype.tryGet=function(O,L){return K(O,L,this)};var oe=n.getHash=function(O,L,W){return V(void 0,O,L,W)};I.prototype.getHash=function(O,L){return oe(O,L,this)},n.get=function(O,L){return V(void 0,L._config.hash(O),O,L)},I.prototype.get=function(O,L){return K(L,O,this)};var G=n.has=function(O,L,W){return V(l,O,L,W)!==l};I.prototype.hasHash=function(O,L){return G(O,L,this)};var he=n.has=function(O,L){return G(L._config.hash(O),O,L)};I.prototype.has=function(O){return he(O,this)};var fe=function(L,W){return L===W};n.make=function(O){return new I(0,0,{keyEq:O&&O.keyEq||fe,hash:O&&O.hash||d},_,0)},n.empty=n.make();var se=n.isEmpty=function(O){return O&&!!E(O._root)};I.prototype.isEmpty=function(){return se(this)};var Ce=n.modifyHash=function(O,L,W,ne){var re={value:ne._size},ae=ne._root._modify(ne._editable?ne._edit:NaN,ne._config.keyEq,0,O,L,W,re);return ne.setTree(ae,re.value)};I.prototype.modifyHash=function(O,L,W){return Ce(W,O,L,this)};var Be=n.modify=function(O,L,W){return Ce(O,W._config.hash(L),L,W)};I.prototype.modify=function(O,L){return Be(L,O,this)};var Te=n.setHash=function(O,L,W,ne){return Ce(c(W),O,L,ne)};I.prototype.setHash=function(O,L,W){return Te(O,L,W,this)};var De=n.set=function(O,L,W){return Te(W._config.hash(O),O,L,W)};I.prototype.set=function(O,L){return De(O,L,this)};var Rt=c(l),En=n.removeHash=function(O,L,W){return Ce(Rt,O,L,W)};I.prototype.removeHash=I.prototype.deleteHash=function(O,L){return En(O,L,this)};var bt=n.remove=function(O,L){return En(L._config.hash(O),O,L)};I.prototype.remove=I.prototype.delete=function(O){return bt(O,this)};var _t=n.beginMutation=function(O){return new I(O._editable+1,O._edit+1,O._config,O._root,O._size)};I.prototype.beginMutation=function(){return _t(this)};var C=n.endMutation=function(O){return O._editable=O._editable&&O._editable-1,O};I.prototype.endMutation=function(){return C(this)};var P=n.mutate=function(O,L){var W=_t(L);return O(W),C(W)};I.prototype.mutate=function(O){return P(O,this)};var M=function(L){return L&&te(L[0],L[1],L[2],L[3],L[4])},te=function(L,W,ne,re,ae){for(;ne<L;){var ye=W[ne++];if(ye&&!E(ye))return Z(ye,re,[L,W,ne,re,ae])}return M(ae)},Z=function(L,W,ne){switch(L.type){case g:return{value:W(L),rest:ne};case m:case k:case x:var re=L.children;return te(re.length,re,0,W,ne);default:return M(ne)}},Y={done:!0};function de(O){this.v=O}de.prototype.next=function(){if(!this.v)return Y;var O=this.v;return this.v=M(O.rest),O},de.prototype[Symbol.iterator]=function(){return this};var Ae=function(L,W){return new de(Z(L._root,W))},ut=function(L){return[L.key,L.value]},dt=n.entries=function(O){return Ae(O,ut)};I.prototype.entries=I.prototype[Symbol.iterator]=function(){return dt(this)};var or=function(L){return L.key},Md=n.keys=function(O){return Ae(O,or)};I.prototype.keys=function(){return Md(this)};var Es=function(L){return L.value},Cs=n.values=I.prototype.values=function(O){return Ae(O,Es)};I.prototype.values=function(){return Cs(this)};var kl=n.fold=function(O,L,W){var ne=W._root;if(ne.type===g)return O(L,ne.value,ne.key);for(var re=[ne.children],ae=void 0;ae=re.pop();)for(var ye=0,me=ae.length;ye<me;){var ge=ae[ye++];ge&&ge.type&&(ge.type===g?L=O(L,ge.value,ge.key):re.push(ge.children))}return L};I.prototype.fold=function(O,L){return kl(O,L,this)};var _l=n.forEach=function(O,L){return kl(function(W,ne,re){return O(ne,re,L)},null,L)};I.prototype.forEach=function(O){return _l(O,this)};var jd=n.count=function(O){return O._size};I.prototype.count=function(){return jd(this)},Object.defineProperty(I.prototype,"size",{get:I.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class k3{constructor(e){_e(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Pm(this)}toMap(){return new Map(this._map)}}class Om{constructor(e){if(_e(this,"_hamt",x3.empty.beginMutation()),e instanceof Om){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Pm(this)}toMap(){return new Map(this._hamt)}}function Pm(t){return Ue("recoil_hamt_2020")?new Om(t):new k3(t)}var _3={persistentMap:Pm},S3=_3.persistentMap,E3=Object.freeze({__proto__:null,persistentMap:S3});function C3(t,...e){const n=new Set;e:for(const r of t){for(const o of e)if(o.has(r))continue e;n.add(r)}return n}var pa=C3;function T3(t,e){const n=new Map;return t.forEach((r,o)=>{n.set(o,e(r,o))}),n}var ou=T3;function N3(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function R3(t){return{nodeDeps:ou(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:ou(t.nodeToNodeSubscriptions,e=>new Set(e))}}function ph(t,e,n,r){const{nodeDeps:o,nodeToNodeSubscriptions:i}=n,s=o.get(t);if(s&&r&&s!==r.nodeDeps.get(t))return;o.set(t,e);const a=s==null?e:pa(e,s);for(const l of a)i.has(l)||i.set(l,new Set),Je(i.get(l)).add(t);if(s){const l=pa(s,e);for(const c of l){if(!i.has(c))return;const d=Je(i.get(c));d.delete(t),d.size===0&&i.delete(c)}}}function I3(t,e,n,r){var o,i,s,a;const l=n.getState();r===l.currentTree.version||r===((o=l.nextTree)===null||o===void 0?void 0:o.version)||((i=l.previousTree)===null||i===void 0||i.version);const c=n.getGraph(r);if(ph(t,e,c),r===((s=l.previousTree)===null||s===void 0?void 0:s.version)){const u=n.getGraph(l.currentTree.version);ph(t,e,u,c)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var d;const u=(d=l.nextTree)===null||d===void 0?void 0:d.version;if(u!==void 0){const p=n.getGraph(u);ph(t,e,p,c)}}}var tl={cloneGraph:R3,graph:N3,saveDepsToStore:I3};let L3=0;const A3=()=>L3++;let O3=0;const P3=()=>O3++;let B3=0;const M3=()=>B3++;var nd={getNextTreeStateVersion:A3,getNextStoreID:P3,getNextComponentID:M3};const{persistentMap:F0}=E3,{graph:j3}=tl,{getNextTreeStateVersion:_x}=nd;function Sx(){const t=_x();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:F0(),nonvalidatedAtoms:F0()}}function D3(){const t=Sx();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,j3()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Ex={makeEmptyTreeState:Sx,makeEmptyStoreState:D3,getNextTreeStateVersion:_x};class Cx{}function $3(){return new Cx}var rd={RetentionZone:Cx,retentionZone:$3};function U3(t,e){const n=new Set(t);return n.add(e),n}function F3(t,e){const n=new Set(t);return n.delete(e),n}function z3(t,e,n){const r=new Map(t);return r.set(e,n),r}function H3(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function V3(t,e){const n=new Map(t);return n.delete(e),n}function W3(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var Tx={setByAddingToSet:U3,setByDeletingFromSet:F3,mapBySettingInMap:z3,mapByUpdatingInMap:H3,mapByDeletingFromMap:V3,mapByDeletingMultipleFromMap:W3};function*q3(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var Bm=q3;function K3(t,e){return new Proxy(t,{get:(r,o)=>(!(o in r)&&o in e&&(r[o]=e[o]()),r[o]),ownKeys:r=>Object.keys(r)})}var Nx=K3;const{getNode:nl,getNodeMaybe:G3,recoilValuesForKeys:z0}=tn,{RetentionZone:H0}=rd,{setByAddingToSet:Y3}=Tx,X3=Object.freeze(new Set);class J3 extends Error{}function Z3(t,e,n){if(!Ue("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function o(i){let s=r.get(i);s||r.set(i,s=new Set),s.add(e)}if(n instanceof H0)o(n);else if(Array.isArray(n))for(const i of n)o(i);return()=>{if(!Ue("recoil_memory_managament_2020"))return;const{retention:i}=t.getState();function s(a){const l=i.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&i.nodesRetainedByZone.delete(a)}if(n instanceof H0)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function Mm(t,e,n,r){const o=t.getState();if(o.nodeCleanupFunctions.has(n))return;const i=nl(n),s=Z3(t,n,i.retainedBy),a=i.init(t,e,r);o.nodeCleanupFunctions.set(n,()=>{a(),s()})}function Q3(t,e,n){Mm(t,t.getState().currentTree,e,n)}function eN(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function tN(t,e,n){return Mm(t,e,n,"get"),nl(n).get(t,e)}function Rx(t,e,n){return nl(n).peek(t,e)}function nN(t,e,n){var r;const o=G3(e);return o==null||(r=o.invalidate)===null||r===void 0||r.call(o,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:Y3(t.dirtyAtoms,e)}}function rN(t,e,n,r){const o=nl(n);if(o.set==null)throw new J3(`Attempt to set read-only RecoilValue: ${n}`);const i=o.set;return Mm(t,e,n,"set"),i(t,e,r)}function oN(t,e,n){const r=t.getState(),o=t.getGraph(e.version),i=nl(n).nodeType;return Nx({type:i},{loadable:()=>Rx(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>i==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var s;return z0((s=o.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,a;return{nodes:z0(Bm(Ix(t,e,new Set([n])),l=>l!==n)),components:td((s=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:[],([l])=>({name:l}))}}})}function Ix(t,e,n){const r=new Set,o=Array.from(n),i=t.getGraph(e.version);for(let a=o.pop();a;a=o.pop()){var s;r.add(a);const l=(s=i.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:X3;for(const c of l)r.has(c)||o.push(c)}return r}var wo={getNodeLoadable:tN,peekNodeLoadable:Rx,setNodeValue:rN,initializeNode:Q3,cleanUpNode:eN,setUnvalidatedAtomValue_DEPRECATED:nN,peekNodeInfo:oN,getDownstreamNodes:Ix};let Lx=null;function iN(t){Lx=t}function sN(){var t;(t=Lx)===null||t===void 0||t()}var Ax={setInvalidateMemoizedSnapshot:iN,invalidateMemoizedSnapshot:sN};const{getDownstreamNodes:aN,getNodeLoadable:Ox,setNodeValue:lN}=wo,{getNextComponentID:cN}=nd,{getNode:uN,getNodeMaybe:Px}=tn,{DefaultValue:jm}=tn,{reactMode:dN}=el,{AbstractRecoilValue:hN,RecoilState:fN,RecoilValueReadOnly:pN,isRecoilValue:mN}=es,{invalidateMemoizedSnapshot:gN}=Ax;function vN(t,{key:e},n=t.getState().currentTree){var r,o;const i=t.getState();n.version===i.currentTree.version||n.version===((r=i.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(o=i.previousTree)===null||o===void 0||o.version);const s=Ox(t,n,e);return s.state==="loading"&&s.contents.catch(()=>{}),s}function yN(t,e){const n=t.clone();return e.forEach((r,o)=>{r.state==="hasValue"&&r.contents instanceof jm?n.delete(o):n.set(o,r)}),n}function bN(t,e,{key:n},r){if(typeof r=="function"){const o=Ox(t,e,n);if(o.state==="loading"){const i=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Ee(i)}else if(o.state==="hasError")throw o.contents;return r(o.contents)}else return r}function wN(t,e,n){if(n.type==="set"){const{recoilValue:o,valueOrUpdater:i}=n,s=bN(t,e,o,i),a=lN(t,e,o.key,s);for(const[l,c]of a.entries())Vf(e,l,c)}else if(n.type==="setLoadable"){const{recoilValue:{key:o},loadable:i}=n;Vf(e,o,i)}else if(n.type==="markModified"){const{recoilValue:{key:o}}=n;e.dirtyAtoms.add(o)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:o},unvalidatedValue:i}=n,s=Px(o);s==null||(r=s.invalidate)===null||r===void 0||r.call(s,e),e.atomValues.delete(o),e.nonvalidatedAtoms.set(o,i),e.dirtyAtoms.add(o)}else Im(`Unknown action ${n.type}`)}function Vf(t,e,n){n.state==="hasValue"&&n.contents instanceof jm?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function Bx(t,e){t.replaceState(n=>{const r=Mx(n);for(const o of e)wN(t,r,o);return jx(t,r),gN(),r})}function od(t,e){if(ma.length){const n=ma[ma.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else Bx(t,[e])}const ma=[];function xN(){const t=new Map;return ma.push(t),()=>{for(const[e,n]of t)Bx(e,n);ma.pop()}}function Mx(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function jx(t,e){const n=aN(t,e,e.dirtyAtoms);for(const i of n){var r,o;(r=Px(i))===null||r===void 0||(o=r.invalidate)===null||o===void 0||o.call(r,e)}}function Dx(t,e,n){od(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function kN(t,e,n){if(n instanceof jm)return Dx(t,e,n);od(t,{type:"setLoadable",recoilValue:e,loadable:n})}function _N(t,e){od(t,{type:"markModified",recoilValue:e})}function SN(t,e,n){od(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function EN(t,{key:e},n,r=null){const o=cN(),i=t.getState();i.nodeToComponentSubscriptions.has(e)||i.nodeToComponentSubscriptions.set(e,new Map),Je(i.nodeToComponentSubscriptions.get(e)).set(o,[r??"<not captured>",n]);const s=dN();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(o)||(l.delete(o),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function CN(t,e){var n;const{currentTree:r}=t.getState(),o=uN(e.key);(n=o.clearCache)===null||n===void 0||n.call(o,t,r)}var tr={RecoilValueReadOnly:pN,AbstractRecoilValue:hN,RecoilState:fN,getRecoilValueAsLoadable:vN,setRecoilValue:Dx,setRecoilValueLoadable:kN,markRecoilValueModified:_N,setUnvalidatedRecoilValue:SN,subscribeToRecoilValue:EN,isRecoilValue:mN,applyAtomValueWrites:yN,batchStart:xN,writeLoadableToTreeState:Vf,invalidateDownstreams:jx,copyTreeState:Mx,refreshRecoilValue:CN};function TN(t,e,n){const r=t.entries();let o=r.next();for(;!o.done;){const i=o.value;if(e.call(n,i[1],i[0],t))return!0;o=r.next()}return!1}var NN=TN;const{cleanUpNode:RN}=wo,{deleteNodeConfigIfPossible:IN,getNode:$x}=tn,{RetentionZone:Ux}=rd,LN=12e4,Fx=new Set;function zx(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const o=new Set;for(const s of e)if(s instanceof Ux)for(const a of BN(n,s))o.add(a);else o.add(s);const i=AN(t,o);for(const s of i)PN(t,r,s)}function AN(t,e){const n=t.getState(),r=n.currentTree,o=t.getGraph(r.version),i=new Set,s=new Set;return a(e),i;function a(l){const c=new Set,d=ON(t,r,l,i,s);for(const f of d){var u;if($x(f).retainedBy==="recoilRoot"){s.add(f);continue}if(((u=n.retention.referenceCounts.get(f))!==null&&u!==void 0?u:0)>0){s.add(f);continue}if(Hx(f).some(y=>n.retention.referenceCounts.get(y))){s.add(f);continue}const b=o.nodeToNodeSubscriptions.get(f);if(b&&NN(b,y=>s.has(y))){s.add(f);continue}i.add(f),c.add(f)}const p=new Set;for(const f of c)for(const b of(w=o.nodeDeps.get(f))!==null&&w!==void 0?w:Fx){var w;i.has(b)||p.add(b)}p.size&&a(p)}}function ON(t,e,n,r,o){const i=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)l(Je(n.values().next().value));return s;function l(c){if(r.has(c)||o.has(c)){n.delete(c);return}if(a.has(c))return;const d=i.nodeToNodeSubscriptions.get(c);if(d)for(const u of d)l(u);a.add(c),n.delete(c),s.push(c)}}function PN(t,e,n){if(!Ue("recoil_memory_managament_2020"))return;RN(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const o=Hx(n);for(const l of o){var i;(i=r.retention.nodesRetainedByZone.get(l))===null||i===void 0||i.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(e.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const c of l){var a;(a=s.nodeToNodeSubscriptions.get(c))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}IN(n)}function BN(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:Fx}function Hx(t){const e=$x(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof Ux?[e]:e}function MN(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):zx(t,new Set([e]))}function jN(t,e,n){var r;if(!Ue("recoil_memory_managament_2020"))return;const o=t.getState().retention.referenceCounts,i=((r=o.get(e))!==null&&r!==void 0?r:0)+n;i===0?Vx(t,e):o.set(e,i)}function Vx(t,e){if(!Ue("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),MN(t,e)}function DN(t){if(!Ue("recoil_memory_managament_2020"))return;const e=t.getState();zx(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function $N(t){return t===void 0?"recoilRoot":t}var oi={SUSPENSE_TIMEOUT_MS:LN,updateRetainCount:jN,updateRetainCountToZero:Vx,releaseScheduledRetainablesNow:DN,retainedByOptionWithDefault:$N};const{unstable_batchedUpdates:UN}=OT;var FN={unstable_batchedUpdates:UN};const{unstable_batchedUpdates:zN}=FN;var HN={unstable_batchedUpdates:zN};const{batchStart:VN}=tr,{unstable_batchedUpdates:WN}=HN;let Dm=WN||(t=>t());const qN=t=>{Dm=t},KN=()=>Dm,GN=t=>{Dm(()=>{let e=()=>{};try{e=VN(),t()}finally{e()}})};var id={getBatcher:KN,setBatcher:qN,batchUpdates:GN};function*YN(t){for(const e of t)for(const n of e)yield n}var Wx=YN;const qx=typeof Window>"u"||typeof window>"u",XN=t=>!qx&&(t===window||t instanceof Window),JN=typeof navigator<"u"&&navigator.product==="ReactNative";var sd={isSSR:qx,isReactNative:JN,isWindow:XN};function ZN(t,e){let n;return(...r)=>{n||(n={});const o=e(...r);return Object.hasOwnProperty.call(n,o)||(n[o]=t(...r)),n[o]}}function QN(t,e){let n,r;return(...o)=>{const i=e(...o);return n===i||(n=i,r=t(...o)),r}}function eR(t,e){let n,r;return[(...s)=>{const a=e(...s);return n===a||(n=a,r=t(...s)),r},()=>{n=null}]}var tR={memoizeWithArgsHash:ZN,memoizeOneWithArgsHash:QN,memoizeOneWithArgsHashAndInvalidation:eR};const{batchUpdates:Wf}=id,{initializeNode:nR,peekNodeInfo:rR}=wo,{graph:oR}=tl,{getNextStoreID:iR}=nd,{DEFAULT_VALUE:sR,recoilValues:V0,recoilValuesForKeys:W0}=tn,{AbstractRecoilValue:aR,getRecoilValueAsLoadable:lR,setRecoilValue:q0,setUnvalidatedRecoilValue:cR}=tr,{updateRetainCount:dc}=oi,{setInvalidateMemoizedSnapshot:uR}=Ax,{getNextTreeStateVersion:dR,makeEmptyStoreState:hR}=Ex,{isSSR:fR}=sd,{memoizeOneWithArgsHashAndInvalidation:pR}=tR;class ad{constructor(e,n){_e(this,"_store",void 0),_e(this,"_refCount",1),_e(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),lR(this._store,r))),_e(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),_e(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return W0(s.dirtyAtoms)}const o=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?V0.values():r.isInitialized===!0?W0(Wx([o,i])):Bm(V0.values(),({key:s})=>!o.has(s)&&!i.has(s))}),_e(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),rR(this._store,this._store.getState().currentTree,r))),_e(this,"map",r=>{this.checkRefCount_INTERNAL();const o=new qf(this,Wf);return r(o),o}),_e(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const o=new qf(this,Wf);return o.retain(),await r(o),o.autoRelease_INTERNAL(),o}),this._store={storeID:iR(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const o=e.graphsByVersion;if(o.has(r))return Je(o.get(r));const i=oR();return o.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Ee("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)nR(this._store,r,"get"),dc(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){fR||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Ue("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Ue("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function Kx(t,e,n=!1){const r=t.getState(),o=n?dR():e.version;return{currentTree:{version:n?o:e.version,stateID:n?o:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(o,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(td(r.nodeCleanupFunctions.entries(),([i])=>[i,()=>{}]))}}function mR(t){const e=new ad(hR());return t!=null?e.map(t):e}const[K0,Gx]=pR((t,e)=>{var n;const r=t.getState(),o=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:Je(r.previousTree);return new ad(Kx(t,o),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});uR(Gx);function gR(t,e="latest"){const n=K0(t,e);return n.isRetained()?n:(Gx(),K0(t,e))}class qf extends ad{constructor(e,n){super(Kx(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),_e(this,"_batch",void 0),_e(this,"set",(r,o)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{dc(i,r.key,1),q0(this.getStore_INTERNAL(),r,o)})}),_e(this,"reset",r=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{dc(o,r.key,1),q0(this.getStore_INTERNAL(),r,sR)})}),_e(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();Wf(()=>{for(const[i,s]of r.entries())dc(o,i,1),cR(o,new aR(i),s)})}),this._batch=n}}var ld={Snapshot:ad,MutableSnapshot:qf,freshSnapshot:mR,cloneSnapshot:gR},vR=ld.Snapshot,yR=ld.MutableSnapshot,bR=ld.freshSnapshot,wR=ld.cloneSnapshot,cd=Object.freeze({__proto__:null,Snapshot:vR,MutableSnapshot:yR,freshSnapshot:bR,cloneSnapshot:wR});function xR(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var kR=xR;const{useRef:_R}=xe;function SR(t){const e=_R(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var G0=SR;const{getNextTreeStateVersion:ER,makeEmptyStoreState:Yx}=Ex,{cleanUpNode:CR,getDownstreamNodes:TR,initializeNode:NR,setNodeValue:RR,setUnvalidatedAtomValue_DEPRECATED:IR}=wo,{graph:LR}=tl,{cloneGraph:AR}=tl,{getNextStoreID:Xx}=nd,{createMutableSource:mh,reactMode:Jx}=el,{applyAtomValueWrites:OR}=tr,{releaseScheduledRetainablesNow:Zx}=oi,{freshSnapshot:PR}=cd,{useCallback:BR,useContext:Qx,useEffect:Kf,useMemo:MR,useRef:jR,useState:DR}=xe;function js(){throw Ee("This component must be used inside a <RecoilRoot> component.")}const ek=Object.freeze({storeID:Xx(),getState:js,replaceState:js,getGraph:js,subscribeToTransactions:js,addTransactionMetadata:js});let Gf=!1;function Y0(t){if(Gf)throw Ee("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Ue("recoil_memory_managament_2020")&&Ue("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&Zx(t);const n=e.currentTree.version,r=ER();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,AR(Je(e.graphsByVersion.get(n))))}}const tk=xe.createContext({current:ek}),ud=()=>Qx(tk),nk=xe.createContext(null);function $R(){return Qx(nk)}function $m(t,e,n){const r=TR(t,n,n.dirtyAtoms);for(const o of r){const i=e.nodeToComponentSubscriptions.get(o);if(i)for(const[s,[a,l]]of i)l(n)}}function rk(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[o,i]of e.nodeTransactionSubscriptions)if(r.has(o))for(const[s,a]of i)a(t);for(const[o,i]of e.transactionSubscriptions)i(t);(!Jx().early||e.suspendedComponentResolvers.size>0)&&($m(t,e,n),e.suspendedComponentResolvers.forEach(o=>o()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(o=>o(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function UR(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,rk(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Im("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Ue("recoil_memory_managament_2020")&&n==null&&Zx(t)}finally{e.commitDepth--}}function FR({setNotifyBatcherOfChange:t}){const e=ud(),[,n]=DR([]);return t(()=>n({})),Kf(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Kf(()=>{b3.enqueueExecution("Batcher",()=>{UR(e.current)})}),null}function zR(t,e){const n=Yx();return e({set:(r,o)=>{const i=n.currentTree,s=RR(t,i,r.key,o),a=new Set(s.keys()),l=i.nonvalidatedAtoms.clone();for(const c of a)l.delete(c);n.currentTree={...i,dirtyAtoms:kR(i.dirtyAtoms,a),atomValues:OR(i.atomValues,s),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((o,i)=>{n.currentTree=IR(n.currentTree,i,o)})}}),n}function HR(t){const e=PR(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let X0=0;function VR({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let o;const i=w=>{const f=o.current.graphsByVersion;if(f.has(w))return Je(f.get(w));const b=LR();return f.set(w,b),b},s=(w,f)=>{if(f==null){const{transactionSubscriptions:b}=u.current.getState(),y=X0++;return b.set(y,w),{release:()=>{b.delete(y)}}}else{const{nodeTransactionSubscriptions:b}=u.current.getState();b.has(f)||b.set(f,new Map);const y=X0++;return Je(b.get(f)).set(y,w),{release:()=>{const v=b.get(f);v&&(v.delete(y),v.size===0&&b.delete(f))}}}},a=w=>{Y0(u.current);for(const f of Object.keys(w))Je(u.current.getState().nextTree).transactionMetadata[f]=w[f]},l=w=>{Y0(u.current);const f=Je(o.current.nextTree);let b;try{Gf=!0,b=w(f)}finally{Gf=!1}b!==f&&(o.current.nextTree=b,Jx().early&&$m(u.current,o.current,b),Je(c.current)())},c=jR(null),d=BR(w=>{c.current=w},[c]),u=G0(()=>n??{storeID:Xx(),getState:()=>o.current,replaceState:l,getGraph:i,subscribeToTransactions:s,addTransactionMetadata:a});n!=null&&(u.current=n),o=G0(()=>t!=null?zR(u.current,t):e!=null?HR(e):Yx());const p=MR(()=>mh==null?void 0:mh(o,()=>o.current.currentTree.version),[o]);return Kf(()=>{const w=u.current;for(const f of new Set(w.getState().knownAtoms))NR(w,f,"get");return()=>{for(const f of w.getState().knownAtoms)CR(w,f)}},[u]),xe.createElement(tk.Provider,{value:u},xe.createElement(nk.Provider,{value:p},xe.createElement(FR,{setNotifyBatcherOfChange:d}),r))}function WR(t){const{override:e,...n}=t,r=ud();return e===!1&&r.current!==ek?t.children:xe.createElement(VR,n)}function qR(){return ud().current.storeID}var Lr={RecoilRoot:WR,useStoreRef:ud,useRecoilMutableSource:$R,useRecoilStoreID:qR,notifyComponents_FOR_TESTING:$m,sendEndOfBatchNotifications_FOR_TESTING:rk};function KR(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var GR=KR;const{useEffect:YR,useRef:XR}=xe;function JR(t){const e=XR();return YR(()=>{e.current=t}),e.current}var ok=JR;const{useStoreRef:ZR}=Lr,{SUSPENSE_TIMEOUT_MS:QR}=oi,{updateRetainCount:Ds}=oi,{RetentionZone:e5}=rd,{useEffect:t5,useRef:n5}=xe,{isSSR:J0}=sd;function r5(t){if(Ue("recoil_memory_managament_2020"))return o5(t)}function o5(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof e5?s:s.key),r=ZR();t5(()=>{if(!Ue("recoil_memory_managament_2020"))return;const s=r.current;if(o.current&&!J0)window.clearTimeout(o.current),o.current=null;else for(const a of n)Ds(s,a,1);return()=>{for(const a of n)Ds(s,a,-1)}},[r,...n]);const o=n5(),i=ok(n);if(!J0&&(i===void 0||!GR(i,n))){const s=r.current;for(const a of n)Ds(s,a,1);if(i)for(const a of i)Ds(s,a,-1);o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{o.current=null;for(const a of n)Ds(s,a,-1)},QR)}}var Um=r5;function i5(){return"<component name not available>"}var rl=i5;const{batchUpdates:s5}=id,{DEFAULT_VALUE:ik}=tn,{currentRendererSupportsUseSyncExternalStore:a5,reactMode:ps,useMutableSource:l5,useSyncExternalStore:c5}=el,{useRecoilMutableSource:u5,useStoreRef:nr}=Lr,{AbstractRecoilValue:Yf,getRecoilValueAsLoadable:ol,setRecoilValue:iu,setUnvalidatedRecoilValue:d5,subscribeToRecoilValue:ts}=tr,{useCallback:Zt,useEffect:ns,useMemo:sk,useRef:ga,useState:Fm}=xe,{setByAddingToSet:h5}=Tx,{isSSR:f5}=sd;function zm(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(o=>{const i=n.current.getState().suspendedComponentResolvers;i.add(o),f5&&Ve(t.contents)&&t.contents.finally(()=>{i.delete(o)})}):t.state==="hasError"?t.contents:Ee(`Invalid value of loadable atom "${e.key}"`)}function p5(){const t=rl(),e=nr(),[,n]=Fm([]),r=ga(new Set);r.current=new Set;const o=ga(new Set),i=ga(new Map),s=Zt(l=>{const c=i.current.get(l);c&&(c.release(),i.current.delete(l))},[i]),a=Zt((l,c)=>{i.current.has(c)&&n([])},[]);return ns(()=>{const l=e.current;pa(r.current,o.current).forEach(c=>{if(i.current.has(c))return;const d=ts(l,new Yf(c),p=>a(p,c),t);i.current.set(c,d),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),c)}):a(l.getState(),c)}),pa(o.current,r.current).forEach(c=>{s(c)}),o.current=r.current}),ns(()=>{const l=i.current;return pa(r.current,new Set(l.keys())).forEach(c=>{const d=ts(e.current,new Yf(c),u=>a(u,c),t);l.set(c,d)}),()=>l.forEach((c,d)=>s(d))},[t,e,s,a]),sk(()=>{function l(f){return b=>{iu(e.current,f,b)}}function c(f){return()=>iu(e.current,f,ik)}function d(f){var b;r.current.has(f.key)||(r.current=h5(r.current,f.key));const y=e.current.getState();return ol(e.current,f,ps().early&&(b=y.nextTree)!==null&&b!==void 0?b:y.currentTree)}function u(f){const b=d(f);return zm(b,f,e)}function p(f){return[u(f),l(f)]}function w(f){return[d(f),l(f)]}return{getRecoilValue:u,getRecoilValueLoadable:d,getRecoilState:p,getRecoilStateLoadable:w,getSetRecoilState:l,getResetRecoilState:c}},[r,e])}const m5={current:0};function g5(t){const e=nr(),n=rl(),r=Zt(()=>{var a;const l=e.current,c=l.getState(),d=ps().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return{loadable:ol(l,t,d),key:t.key}},[e,t]),o=Zt(a=>{let l;return()=>{var c,d;const u=a();return(c=l)!==null&&c!==void 0&&c.loadable.is(u.loadable)&&((d=l)===null||d===void 0?void 0:d.key)===u.key?l:(l=u,u)}},[]),i=sk(()=>o(r),[r,o]),s=Zt(a=>{const l=e.current;return ts(l,t,a,n).release},[e,t,n]);return c5(s,i,i).loadable}function v5(t){const e=nr(),n=Zt(()=>{var c;const d=e.current,u=d.getState(),p=ps().early&&(c=u.nextTree)!==null&&c!==void 0?c:u.currentTree;return ol(d,t,p)},[e,t]),r=Zt(()=>n(),[n]),o=rl(),i=Zt((c,d)=>{const u=e.current;return ts(u,t,()=>{if(!Ue("recoil_suppress_rerender_in_callback"))return d();const w=n();l.current.is(w)||d(),l.current=w},o).release},[e,t,o,n]),s=u5();if(s==null)throw Ee("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=l5(s,r,i),l=ga(a);return ns(()=>{l.current=a}),a}function Xf(t){const e=nr(),n=rl(),r=Zt(()=>{var l;const c=e.current,d=c.getState(),u=ps().early&&(l=d.nextTree)!==null&&l!==void 0?l:d.currentTree;return ol(c,t,u)},[e,t]),o=Zt(()=>({loadable:r(),key:t.key}),[r,t.key]),i=Zt(l=>{const c=o();return l.loadable.is(c.loadable)&&l.key===c.key?l:c},[o]);ns(()=>{const l=ts(e.current,t,c=>{a(i)},n);return a(i),l.release},[n,t,e,i]);const[s,a]=Fm(o);return s.key!==t.key?o().loadable:s.loadable}function y5(t){const e=nr(),[,n]=Fm([]),r=rl(),o=Zt(()=>{var a;const l=e.current,c=l.getState(),d=ps().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return ol(l,t,d)},[e,t]),i=o(),s=ga(i);return ns(()=>{s.current=i}),ns(()=>{const a=e.current,l=a.getState(),c=ts(a,t,u=>{var p;if(!Ue("recoil_suppress_rerender_in_callback"))return n([]);const w=o();(p=s.current)!==null&&p!==void 0&&p.is(w)||n(w),s.current=w},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var d;if(!Ue("recoil_suppress_rerender_in_callback"))return n([]);const u=o();(d=s.current)!==null&&d!==void 0&&d.is(u)||n(u),s.current=u}return c.release},[r,o,t,e]),i}function Hm(t){return Ue("recoil_memory_managament_2020")&&Um(t),{TRANSITION_SUPPORT:Xf,SYNC_EXTERNAL_STORE:a5()?g5:Xf,MUTABLE_SOURCE:v5,LEGACY:y5}[ps().mode](t)}function ak(t){const e=nr(),n=Hm(t);return zm(n,t,e)}function dd(t){const e=nr();return Zt(n=>{iu(e.current,t,n)},[e,t])}function b5(t){const e=nr();return Zt(()=>{iu(e.current,t,ik)},[e,t])}function w5(t){return[ak(t),dd(t)]}function x5(t){return[Hm(t),dd(t)]}function k5(){const t=nr();return(e,n={})=>{s5(()=>{t.current.addTransactionMetadata(n),e.forEach((r,o)=>d5(t.current,new Yf(o),r))})}}function lk(t){return Ue("recoil_memory_managament_2020")&&Um(t),Xf(t)}function ck(t){const e=nr(),n=lk(t);return zm(n,t,e)}function _5(t){return[ck(t),dd(t)]}var S5={recoilComponentGetRecoilValueCount_FOR_TESTING:m5,useRecoilInterface:p5,useRecoilState:w5,useRecoilStateLoadable:x5,useRecoilValue:ak,useRecoilValueLoadable:Hm,useResetRecoilState:b5,useSetRecoilState:dd,useSetUnvalidatedAtomValues:k5,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:lk,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:ck,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:_5};function E5(t,e){const n=new Map;for(const[r,o]of t)e(o,r)&&n.set(r,o);return n}var C5=E5;function T5(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var N5=T5;function R5(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let o;for(;!(o=r.next()).done;)e.set(o.value,t[n].get(o.value))}return e}var I5=R5;const{batchUpdates:L5}=id,{DEFAULT_VALUE:A5,getNode:uk,nodes:O5}=tn,{useStoreRef:Vm}=Lr,{AbstractRecoilValue:P5,setRecoilValueLoadable:B5}=tr,{SUSPENSE_TIMEOUT_MS:M5}=oi,{cloneSnapshot:su}=cd,{useCallback:hd,useEffect:dk,useRef:Z0,useState:j5}=xe,{isSSR:Q0}=sd;function fd(t){const e=Vm();dk(()=>e.current.subscribeToTransactions(t).release,[t,e])}function e1(t){const e=t.atomValues.toMap(),n=ou(C5(e,(r,o)=>{const s=uk(o).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return I5(t.nonvalidatedAtoms.toMap(),n)}function D5(t){fd(hd(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const o=e1(r),i=e1(n),s=ou(O5,l=>{var c,d,u,p;return{persistence_UNSTABLE:{type:(c=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.type)!==null&&c!==void 0?c:"none",backButton:(u=(p=l.persistence_UNSTABLE)===null||p===void 0?void 0:p.backButton)!==null&&u!==void 0?u:!1}}}),a=N5(r.dirtyAtoms,l=>o.has(l)||i.has(l));t({atomValues:o,previousAtomValues:i,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function $5(t){fd(hd(e=>{const n=su(e,"latest"),r=su(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function U5(){const t=Vm(),[e,n]=j5(()=>su(t.current)),r=ok(e),o=Z0(),i=Z0();if(fd(hd(a=>n(su(a)),[])),dk(()=>{const a=e.retain();if(o.current&&!Q0){var l;window.clearTimeout(o.current),o.current=null,(l=i.current)===null||l===void 0||l.call(i),i.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!Q0){if(o.current){var s;window.clearTimeout(o.current),o.current=null,(s=i.current)===null||s===void 0||s.call(i),i.current=null}i.current=e.retain(),o.current=window.setTimeout(()=>{var a;o.current=null,(a=i.current)===null||a===void 0||a.call(i),i.current=null},M5)}return e}function hk(t,e){var n;const r=t.getState(),o=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,i=e.getStore_INTERNAL().getState().currentTree;L5(()=>{const s=new Set;for(const c of[o.atomValues.keys(),i.atomValues.keys()])for(const d of c){var a,l;((a=o.atomValues.get(d))===null||a===void 0?void 0:a.contents)!==((l=i.atomValues.get(d))===null||l===void 0?void 0:l.contents)&&uk(d).shouldRestoreFromSnapshots&&s.add(d)}s.forEach(c=>{B5(t,new P5(c),i.atomValues.has(c)?Je(i.atomValues.get(c)):A5)}),t.replaceState(c=>({...c,stateID:e.getID()}))})}function F5(){const t=Vm();return hd(e=>hk(t.current,e),[t])}var fk={useRecoilSnapshot:U5,gotoSnapshot:hk,useGotoRecoilSnapshot:F5,useRecoilTransactionObserver:$5,useTransactionObservation_DEPRECATED:D5,useTransactionSubscription_DEPRECATED:fd};const{peekNodeInfo:z5}=wo,{useStoreRef:H5}=Lr;function V5(){const t=H5();return({key:e})=>z5(t.current,t.current.getState().currentTree,e)}var W5=V5;const{reactMode:q5}=el,{RecoilRoot:K5,useStoreRef:G5}=Lr,{useMemo:Y5}=xe;function X5(){q5().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=G5().current;return Y5(()=>{function e({children:n}){return xe.createElement(K5,{store_INTERNAL:t},n)}return e},[t])}var J5=X5;const{loadableWithValue:Z5}=Qa,{initializeNode:Q5}=wo,{DEFAULT_VALUE:eI,getNode:tI}=tn,{copyTreeState:nI,getRecoilValueAsLoadable:rI,invalidateDownstreams:oI,writeLoadableToTreeState:iI}=tr;function t1(t){return tI(t.key).nodeType==="atom"}class sI{constructor(e,n){_e(this,"_store",void 0),_e(this,"_treeState",void 0),_e(this,"_changes",void 0),_e(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!t1(r))throw Ee("Reading selectors within atomicUpdate is not supported");const o=rI(this._store,r,this._treeState);if(o.state==="hasValue")return o.contents;throw o.state==="hasError"?o.contents:Ee(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),_e(this,"set",(r,o)=>{if(!t1(r))throw Ee("Setting selectors within atomicUpdate is not supported");if(typeof o=="function"){const i=this.get(r);this._changes.set(r.key,o(i))}else Q5(this._store,r.key,"set"),this._changes.set(r.key,o)}),_e(this,"reset",r=>{this.set(r,eI)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=nI(this._treeState);for(const[n,r]of this._changes)iI(e,n,Z5(r));return oI(this._store,e),e}}function aI(t){return e=>{t.replaceState(n=>{const r=new sI(t,n);return e(r),r.newTreeState_INTERNAL()})}}var lI={atomicUpdater:aI},cI=lI.atomicUpdater,pk=Object.freeze({__proto__:null,atomicUpdater:cI});function uI(t,e){if(!t)throw new Error(e)}var dI=uI,Zs=dI;const{atomicUpdater:hI}=pk,{batchUpdates:fI}=id,{DEFAULT_VALUE:pI}=tn,{useStoreRef:mI}=Lr,{refreshRecoilValue:gI,setRecoilValue:n1}=tr,{cloneSnapshot:vI}=cd,{gotoSnapshot:yI}=fk,{useCallback:bI}=xe;class mk{}const wI=new mk;function gk(t,e,n,r){let o=wI,i;if(fI(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Ee(a);const l=Nx({...r??{},set:(d,u)=>n1(t,d,u),reset:d=>n1(t,d,pI),refresh:d=>gI(t,d),gotoSnapshot:d=>yI(t,d),transact_UNSTABLE:d=>hI(t)(d)},{snapshot:()=>{const d=vI(t);return i=d.retain(),d}}),c=e(l);if(typeof c!="function")throw Ee(a);o=c(...n)}),o instanceof mk&&Zs(!1),Ve(o))o=o.finally(()=>{var a;(a=i)===null||a===void 0||a()});else{var s;(s=i)===null||s===void 0||s()}return o}function xI(t,e){const n=mI();return bI((...r)=>gk(n.current,t,r),e!=null?[...e,n]:void 0)}var vk={recoilCallback:gk,useRecoilCallback:xI};const{useStoreRef:kI}=Lr,{refreshRecoilValue:_I}=tr,{useCallback:SI}=xe;function EI(t){const e=kI();return SI(()=>{const n=e.current;_I(n,t)},[t,e])}var CI=EI;const{atomicUpdater:TI}=pk,{useStoreRef:NI}=Lr,{useMemo:RI}=xe;function II(t,e){const n=NI();return RI(()=>(...r)=>{TI(n.current)(i=>{t(i)(...r)})},e!=null?[...e,n]:void 0)}var LI=II;class AI{constructor(e){_e(this,"value",void 0),this.value=e}}var OI={WrappedValue:AI},PI=OI.WrappedValue,yk=Object.freeze({__proto__:null,WrappedValue:PI});const{isFastRefreshEnabled:BI}=el;class r1 extends Error{}class MI{constructor(e){var n,r,o;_e(this,"_name",void 0),_e(this,"_numLeafs",void 0),_e(this,"_root",void 0),_e(this,"_onHit",void 0),_e(this,"_onSet",void 0),_e(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(o=e==null?void 0:e.mapNodeValue)!==null&&o!==void 0?o:i=>i}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const o=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(o)}}set(e,n,r){const o=()=>{var i,s,a,l;let c,d;for(const[y,v]of e){var u,p,w;const g=this._root;if((g==null?void 0:g.type)==="leaf")throw this.invalidCacheError();const m=c;if(c=m?m.branches.get(d):g,c=(u=c)!==null&&u!==void 0?u:{type:"branch",nodeKey:y,parent:m,branches:new Map,branchKey:d},c.type!=="branch"||c.nodeKey!==y)throw this.invalidCacheError();m==null||m.branches.set(d,c),r==null||(p=r.onNodeVisit)===null||p===void 0||p.call(r,c),d=this._mapNodeValue(v),this._root=(w=this._root)!==null&&w!==void 0?w:c}const f=c?(i=c)===null||i===void 0?void 0:i.branches.get(d):this._root;if(f!=null&&(f.type!=="leaf"||f.branchKey!==d))throw this.invalidCacheError();const b={type:"leaf",value:n,parent:c,branchKey:d};(s=c)===null||s===void 0||s.branches.set(d,b),this._root=(a=this._root)!==null&&a!==void 0?a:b,this._numLeafs++,this._onSet(b),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,b)};try{o()}catch(i){if(i instanceof r1)this.clear(),o();else throw i}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,o=e.branchKey;for(;r;){var i;if(r.branches.delete(o),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;o=(i=r)===null||i===void 0?void 0:i.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=BI()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Im(e+(this._name!=null?` - ${this._name}`:"")),new r1}}var jI={TreeCache:MI},DI=jI.TreeCache,bk=Object.freeze({__proto__:null,TreeCache:DI});class $I{constructor(e){var n;_e(this,"_maxSize",void 0),_e(this,"_size",void 0),_e(this,"_head",void 0),_e(this,"_tail",void 0),_e(this,"_map",void 0),_e(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const i=this.head(),s={key:e,right:i,left:null,value:n};i?i.left=s:this._tail=s,this._map.set(r,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=Je(this._map.get(n)),o=r.right,i=r.left;o&&(o.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=o),r===this.tail()&&(this._tail=i),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var UI={LRUCache:$I},FI=UI.LRUCache,wk=Object.freeze({__proto__:null,LRUCache:FI});const{LRUCache:zI}=wk,{TreeCache:HI}=bk;function VI({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new zI({maxSize:e}),o=new HI({name:t,mapNodeValue:n,onHit:i=>{r.set(i,!0)},onSet:i=>{const s=r.tail();r.set(i,!0),s&&o.size()>e&&o.delete(s.key)}});return o}var o1=VI;function Nn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Ee("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Ve(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((o,i)=>Nn(o,e,i.toString()))}]`;if(typeof t.toJSON=="function")return Nn(t.toJSON(n),e,n);if(t instanceof Map){const o={};for(const[i,s]of t)o[typeof i=="string"?i:Nn(i,e)]=s;return Nn(o,e,n)}return t instanceof Set?Nn(Array.from(t).sort((o,i)=>Nn(o,e).localeCompare(Nn(i,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Nn(Array.from(t),e,n):`{${Object.keys(t).filter(o=>t[o]!==void 0).sort().map(o=>`${Nn(o,e)}:${Nn(t[o],e,o)}`).join(",")}}`}function WI(t,e={allowFunctions:!1}){return Nn(t,e)}var pd=WI;const{TreeCache:qI}=bk,zl={equality:"reference",eviction:"keep-all",maxSize:1/0};function KI({equality:t=zl.equality,eviction:e=zl.eviction,maxSize:n=zl.maxSize}=zl,r){const o=GI(t);return YI(e,n,o,r)}function GI(t){switch(t){case"reference":return e=>e;case"value":return e=>pd(e)}throw Ee(`Unrecognized equality policy ${t}`)}function YI(t,e,n,r){switch(t){case"keep-all":return new qI({name:r,mapNodeValue:n});case"lru":return o1({name:r,maxSize:Je(e),mapNodeValue:n});case"most-recent":return o1({name:r,maxSize:1,mapNodeValue:n})}throw Ee(`Unrecognized eviction policy ${t}`)}var XI=KI;function JI(t){return()=>null}var ZI={startPerfBlock:JI};const{isLoadable:QI,loadableWithError:Hl,loadableWithPromise:eL,loadableWithValue:gh}=Qa,{WrappedValue:xk}=yk,{getNodeLoadable:Vl,peekNodeLoadable:tL,setNodeValue:nL}=wo,{saveDepsToStore:rL}=tl,{DEFAULT_VALUE:oL,getConfigDeletionHandler:iL,getNode:sL,registerNode:i1}=tn,{isRecoilValue:aL}=es,{markRecoilValueModified:s1}=tr,{retainedByOptionWithDefault:lL}=oi,{recoilCallback:cL}=vk,{startPerfBlock:uL}=ZI;class kk{}const $s=new kk,Us=[],Wl=new Map,dL=(()=>{let t=0;return()=>t++})();function _k(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:o}=t,i=t.set!=null?t.set:void 0,s=new Set,a=XI(o??{equality:"reference",eviction:"keep-all"},n),l=lL(t.retainedBy_UNSTABLE),c=new Map;let d=0;function u(){return!Ue("recoil_memory_managament_2020")||d>0}function p(I){return I.getState().knownSelectors.add(n),d++,()=>{d--}}function w(){return iL(n)!==void 0&&!u()}function f(I,V,K,oe,G){X(V,oe,G),b(I,K)}function b(I,V){j(I,V)&&A(I),v(V,!0)}function y(I,V){j(I,V)&&(Je(N(I)).stateVersions.clear(),v(V,!1))}function v(I,V){const K=Wl.get(I);if(K!=null){for(const oe of K)s1(oe,Je(e));V&&Wl.delete(I)}}function g(I,V){let K=Wl.get(V);K==null&&Wl.set(V,K=new Set),K.add(I)}function m(I,V,K,oe,G,he){return V.then(fe=>{if(!u())throw A(I),$s;const se=gh(fe);return f(I,K,G,se,oe),fe}).catch(fe=>{if(!u())throw A(I),$s;if(Ve(fe))return x(I,fe,K,oe,G,he);const se=Hl(fe);throw f(I,K,G,se,oe),fe})}function x(I,V,K,oe,G,he){return V.then(fe=>{if(!u())throw A(I),$s;he.loadingDepKey!=null&&he.loadingDepPromise===V?K.atomValues.set(he.loadingDepKey,gh(fe)):I.getState().knownSelectors.forEach(Te=>{K.atomValues.delete(Te)});const se=E(I,K);if(se&&se.state!=="loading"){if((j(I,G)||N(I)==null)&&b(I,G),se.state==="hasValue")return se.contents;throw se.contents}if(!j(I,G)){const Te=T(I,K);if(Te!=null)return Te.loadingLoadable.contents}const[Ce,Be]=_(I,K,G);if(Ce.state!=="loading"&&f(I,K,G,Ce,Be),Ce.state==="hasError")throw Ce.contents;return Ce.contents}).catch(fe=>{if(fe instanceof kk)throw $s;if(!u())throw A(I),$s;const se=Hl(fe);throw f(I,K,G,se,oe),fe})}function k(I,V,K,oe){var G,he,fe,se;if(j(I,oe)||V.version===((G=I.getState())===null||G===void 0||(he=G.currentTree)===null||he===void 0?void 0:he.version)||V.version===((fe=I.getState())===null||fe===void 0||(se=fe.nextTree)===null||se===void 0?void 0:se.version)){var Ce,Be,Te;rL(n,K,I,(Ce=(Be=I.getState())===null||Be===void 0||(Te=Be.nextTree)===null||Te===void 0?void 0:Te.version)!==null&&Ce!==void 0?Ce:I.getState().currentTree.version)}for(const De of K)s.add(De)}function _(I,V,K){const oe=uL(n);let G=!0,he=!0;const fe=()=>{oe(),he=!1};let se,Ce=!1,Be;const Te={loadingDepKey:null,loadingDepPromise:null},De=new Map;function Rt({key:bt}){const _t=Vl(I,V,bt);switch(De.set(bt,_t),G||(k(I,V,new Set(De.keys()),K),y(I,K)),_t.state){case"hasValue":return _t.contents;case"hasError":throw _t.contents;case"loading":throw Te.loadingDepKey=bt,Te.loadingDepPromise=_t.contents,_t.contents}throw Ee("Invalid Loadable state")}const En=bt=>(..._t)=>{if(he)throw Ee("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Zs(!1),cL(I,bt,_t,{node:e})};try{se=r({get:Rt,getCallback:En}),se=aL(se)?Rt(se):se,QI(se)&&(se.state==="hasError"&&(Ce=!0),se=se.contents),Ve(se)?se=m(I,se,V,De,K,Te).finally(fe):fe(),se=se instanceof xk?se.value:se}catch(bt){se=bt,Ve(se)?se=x(I,se,V,De,K,Te).finally(fe):(Ce=!0,fe())}return Ce?Be=Hl(se):Ve(se)?Be=eL(se):Be=gh(se),G=!1,D(I,K,De),k(I,V,new Set(De.keys()),K),[Be,De]}function E(I,V){let K=V.atomValues.get(n);if(K!=null)return K;const oe=new Set;try{K=a.get(he=>(typeof he!="string"&&Zs(!1),Vl(I,V,he).contents),{onNodeVisit:he=>{he.type==="branch"&&he.nodeKey!==n&&oe.add(he.nodeKey)}})}catch(he){throw Ee(`Problem with cache lookup for selector "${n}": ${he.message}`)}if(K){var G;V.atomValues.set(n,K),k(I,V,oe,(G=N(I))===null||G===void 0?void 0:G.executionID)}return K}function S(I,V){const K=E(I,V);if(K!=null)return A(I),K;const oe=T(I,V);if(oe!=null){var G;return((G=oe.loadingLoadable)===null||G===void 0?void 0:G.state)==="loading"&&g(I,oe.executionID),oe.loadingLoadable}const he=dL(),[fe,se]=_(I,V,he);return fe.state==="loading"?(z(I,he,fe,se,V),g(I,he)):(A(I),X(V,fe,se)),fe}function T(I,V){const K=Wx([c.has(I)?[Je(c.get(I))]:[],td(Bm(c,([G])=>G!==I),([,G])=>G)]);function oe(G){for(const[he,fe]of G)if(!Vl(I,V,he).is(fe))return!0;return!1}for(const G of K){if(G.stateVersions.get(V.version)||!oe(G.depValuesDiscoveredSoFarDuringAsyncWork))return G.stateVersions.set(V.version,!0),G;G.stateVersions.set(V.version,!1)}}function N(I){return c.get(I)}function z(I,V,K,oe,G){c.set(I,{depValuesDiscoveredSoFarDuringAsyncWork:oe,executionID:V,loadingLoadable:K,stateVersions:new Map([[G.version,!0]])})}function D(I,V,K){if(j(I,V)){const oe=N(I);oe!=null&&(oe.depValuesDiscoveredSoFarDuringAsyncWork=K)}}function A(I){c.delete(I)}function j(I,V){var K;return V===((K=N(I))===null||K===void 0?void 0:K.executionID)}function H(I){return Array.from(I.entries()).map(([V,K])=>[V,K.contents])}function X(I,V,K){I.atomValues.set(n,V);try{a.set(H(K),V)}catch(oe){throw Ee(`Problem with setting cache for selector "${n}": ${oe.message}`)}}function ue(I){if(Us.includes(n)){const V=`Recoil selector has circular dependencies: ${Us.slice(Us.indexOf(n)).join("  ")}`;return Hl(Ee(V))}Us.push(n);try{return I()}finally{Us.pop()}}function $(I,V){const K=V.atomValues.get(n);return K??a.get(oe=>{var G;return typeof oe!="string"&&Zs(!1),(G=tL(I,V,oe))===null||G===void 0?void 0:G.contents})}function Q(I,V){return ue(()=>S(I,V))}function U(I){I.atomValues.delete(n)}function ee(I,V){e==null&&Zs(!1);for(const oe of s){var K;const G=sL(oe);(K=G.clearCache)===null||K===void 0||K.call(G,I,V)}s.clear(),U(V),a.clear(),s1(I,e)}return i!=null?e=i1({key:n,nodeType:"selector",peek:$,get:Q,set:(V,K,oe)=>{let G=!1;const he=new Map;function fe({key:Te}){if(G)throw Ee("Recoil: Async selector sets are not currently supported.");const De=Vl(V,K,Te);if(De.state==="hasValue")return De.contents;if(De.state==="loading"){const Rt=`Getting value of asynchronous atom or selector "${Te}" in a pending state while setting selector "${n}" is not yet supported.`;throw Ee(Rt)}else throw De.contents}function se(Te,De){if(G)throw Ee("Recoil: Async selector sets are not currently supported.");const Rt=typeof De=="function"?De(fe(Te)):De;nL(V,K,Te.key,Rt).forEach((bt,_t)=>he.set(_t,bt))}function Ce(Te){se(Te,oL)}const Be=i({set:se,get:fe,reset:Ce},oe);if(Be!==void 0)throw Ve(Be)?Ee("Recoil: Async selector sets are not currently supported."):Ee("Recoil: selector set should be a void function.");return G=!0,he},init:p,invalidate:U,clearCache:ee,shouldDeleteConfigOnRelease:w,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=i1({key:n,nodeType:"selector",peek:$,get:Q,init:p,invalidate:U,clearCache:ee,shouldDeleteConfigOnRelease:w,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}_k.value=t=>new xk(t);var rs=_k;const{isLoadable:hL,loadableWithError:vh,loadableWithPromise:yh,loadableWithValue:ui}=Qa,{WrappedValue:Sk}=yk,{peekNodeInfo:fL}=wo,{DEFAULT_VALUE:No,DefaultValue:zr,getConfigDeletionHandler:Ek,registerNode:pL,setConfigDeletionHandler:mL}=tn,{isRecoilValue:gL}=es,{getRecoilValueAsLoadable:vL,markRecoilValueModified:yL,setRecoilValue:a1,setRecoilValueLoadable:bL}=tr,{retainedByOptionWithDefault:wL}=oi,Fs=t=>t instanceof Sk?t.value:t;function xL(t){const{key:e,persistence_UNSTABLE:n}=t,r=wL(t.retainedBy_UNSTABLE);let o=0;function i(g){return yh(g.then(m=>(s=ui(m),m)).catch(m=>{throw s=vh(m),m}))}let s=Ve(t.default)?i(t.default):hL(t.default)?t.default.state==="loading"?i(t.default.contents):t.default:ui(Fs(t.default));s.contents;let a;const l=new Map;function c(g){return g}function d(g,m){const x=m.then(k=>{var _,E;return((E=((_=g.getState().nextTree)!==null&&_!==void 0?_:g.getState().currentTree).atomValues.get(e))===null||E===void 0?void 0:E.contents)===x&&a1(g,v,k),k}).catch(k=>{var _,E;throw((E=((_=g.getState().nextTree)!==null&&_!==void 0?_:g.getState().currentTree).atomValues.get(e))===null||E===void 0?void 0:E.contents)===x&&bL(g,v,vh(k)),k});return x}function u(g,m,x){var k;o++;const _=()=>{var N;o--,(N=l.get(g))===null||N===void 0||N.forEach(z=>z()),l.delete(g)};if(g.getState().knownAtoms.add(e),s.state==="loading"){const N=()=>{var z;((z=g.getState().nextTree)!==null&&z!==void 0?z:g.getState().currentTree).atomValues.has(e)||yL(g,v)};s.contents.finally(N)}const E=(k=t.effects)!==null&&k!==void 0?k:t.effects_UNSTABLE;if(E!=null){let N=function(U){if(j&&U.key===e){const ee=A;return ee instanceof zr?p(g,m):Ve(ee)?yh(ee.then(I=>I instanceof zr?s.toPromise():I)):ui(ee)}return vL(g,U)},z=function(U){return N(U).toPromise()},D=function(U){var ee;const I=fL(g,(ee=g.getState().nextTree)!==null&&ee!==void 0?ee:g.getState().currentTree,U.key);return j&&U.key===e&&!(A instanceof zr)?{...I,isSet:!0,loadable:N(U)}:I},A=No,j=!0,H=!1,X=null;const ue=U=>ee=>{if(j){const I=N(v),V=I.state==="hasValue"?I.contents:No;A=typeof ee=="function"?ee(V):ee,Ve(A)&&(A=A.then(K=>(X={effect:U,value:K},K)))}else{if(Ve(ee))throw Ee("Setting atoms to async values is not implemented.");typeof ee!="function"&&(X={effect:U,value:Fs(ee)}),a1(g,v,typeof ee=="function"?I=>{const V=Fs(ee(I));return X={effect:U,value:V},V}:Fs(ee))}},$=U=>()=>ue(U)(No),Q=U=>ee=>{var I;const{release:V}=g.subscribeToTransactions(K=>{var oe;let{currentTree:G,previousTree:he}=K.getState();he||(he=G);const fe=(oe=G.atomValues.get(e))!==null&&oe!==void 0?oe:s;if(fe.state==="hasValue"){var se,Ce,Be,Te;const De=fe.contents,Rt=(se=he.atomValues.get(e))!==null&&se!==void 0?se:s,En=Rt.state==="hasValue"?Rt.contents:No;((Ce=X)===null||Ce===void 0?void 0:Ce.effect)!==U||((Be=X)===null||Be===void 0?void 0:Be.value)!==De?ee(De,En,!G.atomValues.has(e)):((Te=X)===null||Te===void 0?void 0:Te.effect)===U&&(X=null)}},e);l.set(g,[...(I=l.get(g))!==null&&I!==void 0?I:[],V])};for(const U of E)try{const ee=U({node:v,storeID:g.storeID,parentStoreID_UNSTABLE:g.parentStoreID,trigger:x,setSelf:ue(U),resetSelf:$(U),onSet:Q(U),getPromise:z,getLoadable:N,getInfo_UNSTABLE:D});if(ee!=null){var S;l.set(g,[...(S=l.get(g))!==null&&S!==void 0?S:[],ee])}}catch(ee){A=ee,H=!0}if(j=!1,!(A instanceof zr)){var T;const U=H?vh(A):Ve(A)?yh(d(g,A)):ui(Fs(A));U.contents,m.atomValues.set(e,U),(T=g.getState().nextTree)===null||T===void 0||T.atomValues.set(e,U)}}return _}function p(g,m){var x,k;return(x=(k=m.atomValues.get(e))!==null&&k!==void 0?k:a)!==null&&x!==void 0?x:s}function w(g,m){if(m.atomValues.has(e))return Je(m.atomValues.get(e));if(m.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return s;const x=m.nonvalidatedAtoms.get(e),k=n.validator(x,No);return a=k instanceof zr?s:ui(k),a}else return s}function f(){a=void 0}function b(g,m,x){if(m.atomValues.has(e)){const k=Je(m.atomValues.get(e));if(k.state==="hasValue"&&x===k.contents)return new Map}else if(!m.nonvalidatedAtoms.has(e)&&x instanceof zr)return new Map;return a=void 0,new Map().set(e,ui(x))}function y(){return Ek(e)!==void 0&&o<=0}const v=pL({key:e,nodeType:"atom",peek:p,get:w,set:b,init:u,invalidate:f,shouldDeleteConfigOnRelease:y,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return v}function Wm(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return gL(n)?kL({...e,default:n}):xL({...e,default:n})}function kL(t){const e=Wm({...t,default:No,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof zr?r:Je(t.persistence_UNSTABLE).validator(r,No)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=rs({key:`${t.key}__withFallback`,get:({get:r})=>{const o=r(e);return o instanceof zr?t.default:o},set:({set:r},o)=>r(e,o),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return mL(n.key,Ek(t.key)),n}Wm.value=t=>new Sk(t);var Ck=Wm;class _L{constructor(e){var n;_e(this,"_map",void 0),_e(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var SL={MapCache:_L},EL=SL.MapCache,CL=Object.freeze({__proto__:null,MapCache:EL});const{LRUCache:l1}=wk,{MapCache:TL}=CL,ql={equality:"reference",eviction:"none",maxSize:1/0};function NL({equality:t=ql.equality,eviction:e=ql.eviction,maxSize:n=ql.maxSize}=ql){const r=RL(t);return IL(e,n,r)}function RL(t){switch(t){case"reference":return e=>e;case"value":return e=>pd(e)}throw Ee(`Unrecognized equality policy ${t}`)}function IL(t,e,n){switch(t){case"keep-all":return new TL({mapKey:n});case"lru":return new l1({mapKey:n,maxSize:Je(e)});case"most-recent":return new l1({mapKey:n,maxSize:1})}throw Ee(`Unrecognized eviction policy ${t}`)}var Tk=NL;const{setConfigDeletionHandler:LL}=tn;function AL(t){var e,n;const r=Tk({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return o=>{var i,s;const a=r.get(o);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...c}=t,d="default"in t?t.default:new Promise(()=>{}),u=Ck({...c,key:`${t.key}__${(i=pd(o))!==null&&i!==void 0?i:"void"}`,default:typeof d=="function"?d(o):d,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(o):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(o):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(o):(s=t.effects)!==null&&s!==void 0?s:t.effects_UNSTABLE});return r.set(o,u),LL(u.key,()=>{r.delete(o)}),u}}var OL=AL;const{setConfigDeletionHandler:PL}=tn;let BL=0;function ML(t){var e,n;const r=Tk({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return o=>{var i;let s;try{s=r.get(o)}catch(p){throw Ee(`Problem with cache lookup for selector ${t.key}: ${p.message}`)}if(s!=null)return s;const a=`${t.key}__selectorFamily/${(i=pd(o,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${BL++}`,l=p=>t.get(o)(p),c=t.cachePolicy_UNSTABLE,d=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(o):t.retainedBy_UNSTABLE;let u;if(t.set!=null){const p=t.set;u=rs({key:a,get:l,set:(f,b)=>p(o)(f,b),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:d})}else u=rs({key:a,get:l,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:d});return r.set(o,u),PL(u.key,()=>{r.delete(o)}),u}}var xo=ML;const jL=xo({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function DL(t){return jL(t)}var $L=DL;const UL=xo({key:"__error",get:t=>()=>{throw Ee(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function FL(t){return UL(t)}var zL=FL;function HL(t){return t}var VL=HL;const{loadableWithError:Nk,loadableWithPromise:Rk,loadableWithValue:Ik}=Qa;function md(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[o,i]of e.entries())try{n[o]=t(i)}catch(s){r[o]=s}return[n,r]}function WL(t){return t!=null&&!Ve(t)}function gd(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Jf(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,o)=>({...n,[r]:e[o]}),{})}function Ui(t,e,n){const r=n.map((o,i)=>o==null?Ik(e[i]):Ve(o)?Rk(o):Nk(o));return Jf(t,r)}function qL(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const KL=xo({key:"__waitForNone",get:t=>({get:e})=>{const n=gd(t),[r,o]=md(e,n);return Ui(t,r,o)},dangerouslyAllowMutability:!0}),GL=xo({key:"__waitForAny",get:t=>({get:e})=>{const n=gd(t),[r,o]=md(e,n);return o.some(i=>!Ve(i))?Ui(t,r,o):new Promise(i=>{for(const[s,a]of o.entries())Ve(a)&&a.then(l=>{r[s]=l,o[s]=void 0,i(Ui(t,r,o))}).catch(l=>{o[s]=l,i(Ui(t,r,o))})})},dangerouslyAllowMutability:!0}),YL=xo({key:"__waitForAll",get:t=>({get:e})=>{const n=gd(t),[r,o]=md(e,n);if(o.every(s=>s==null))return Jf(t,r);const i=o.find(WL);if(i!=null)throw i;return Promise.all(o).then(s=>Jf(t,qL(r,s)))},dangerouslyAllowMutability:!0}),XL=xo({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=gd(t),[r,o]=md(e,n);return o.every(i=>!Ve(i))?Ui(t,r,o):Promise.all(o.map((i,s)=>Ve(i)?i.then(a=>{r[s]=a,o[s]=void 0}).catch(a=>{r[s]=void 0,o[s]=a}):null)).then(()=>Ui(t,r,o))},dangerouslyAllowMutability:!0}),JL=xo({key:"__noWait",get:t=>({get:e})=>{try{return rs.value(Ik(e(t)))}catch(n){return rs.value(Ve(n)?Rk(n):Nk(n))}},dangerouslyAllowMutability:!0});var ZL={waitForNone:KL,waitForAny:GL,waitForAll:YL,waitForAllSettled:XL,noWait:JL};const{RecoilLoadable:QL}=Qa,{DefaultValue:e6}=tn,{RecoilRoot:t6,useRecoilStoreID:n6}=Lr,{isRecoilValue:r6}=es,{retentionZone:o6}=rd,{freshSnapshot:i6}=cd,{useRecoilState:s6,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:a6,useRecoilStateLoadable:l6,useRecoilValue:c6,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:u6,useRecoilValueLoadable:d6,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:h6,useResetRecoilState:f6,useSetRecoilState:p6}=S5,{useGotoRecoilSnapshot:m6,useRecoilSnapshot:g6,useRecoilTransactionObserver:v6}=fk,{useRecoilCallback:y6}=vk,{noWait:b6,waitForAll:w6,waitForAllSettled:x6,waitForAny:k6,waitForNone:_6}=ZL;var qm={DefaultValue:e6,isRecoilValue:r6,RecoilLoadable:QL,RecoilEnv:fs,RecoilRoot:t6,useRecoilStoreID:n6,useRecoilBridgeAcrossReactRoots_UNSTABLE:J5,atom:Ck,selector:rs,atomFamily:OL,selectorFamily:xo,constSelector:$L,errorSelector:zL,readOnlySelector:VL,noWait:b6,waitForNone:_6,waitForAny:k6,waitForAll:w6,waitForAllSettled:x6,useRecoilValue:c6,useRecoilValueLoadable:d6,useRecoilState:s6,useRecoilStateLoadable:l6,useSetRecoilState:p6,useResetRecoilState:f6,useGetRecoilValueInfo_UNSTABLE:W5,useRecoilRefresher_UNSTABLE:CI,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:h6,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:u6,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:a6,useRecoilCallback:y6,useRecoilTransaction_UNSTABLE:LI,useGotoRecoilSnapshot:m6,useRecoilSnapshot:g6,useRecoilTransactionObserver_UNSTABLE:v6,snapshot_UNSTABLE:i6,useRetain:Um,retentionZone:o6},S6=qm.RecoilRoot,ii=qm.atom,J=qm.useRecoilState;const Le=ii({key:"DarkTheme",default:!1}),pt=ii({key:"UserAuthDetails",default:{}}),Km=ii({key:"CurrentEditorPage",default:"Editor"}),il=ii({key:"blogStructure",default:{title:"",banner:"",content:[],tags:[],des:"",author:{personal_info:{}}}}),Lk=ii({key:"texteditor",default:!1}),Sn=ii({key:"NavHeight",default:0}),Gm=ii({key:"UserProfile",default:{personal_info:{fullname:"",email:"",username:"",profile_img:"",bio:""},social_links:{facebook:"",github:"",instagram:"",twitter:"",linkedin:"",website:"",youtube:""},account_info:{total_posts:0,total_reads:0},joinedAt:"",github_auth:null}}),ms="/BlogNotes/assets/Logo-Black-D03maC-O.png",gs="/BlogNotes/assets/Logo-White-CDMw71P7.png",E6="/BlogNotes/assets/moon-imeu0t7o.png",C6="/BlogNotes/assets/sun-Bz8wqOlA.png";var Ak={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},c1=xe.createContext&&xe.createContext(Ak),T6=["attr","size","title"];function N6(t,e){if(t==null)return{};var n=R6(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},au.apply(this,arguments)}function u1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(n),!0).forEach(function(r){I6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I6(t,e,n){return e=L6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L6(t){var e=A6(t,"string");return typeof e=="symbol"?e:e+""}function A6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ok(t){return t&&t.map((e,n)=>xe.createElement(e.tag,lu({key:n},e.attr),Ok(e.child)))}function Se(t){return e=>xe.createElement(O6,au({attr:lu({},t.attr)},e),Ok(t.child))}function O6(t){var e=n=>{var{attr:r,size:o,title:i}=t,s=N6(t,T6),a=o||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),xe.createElement("svg",au({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:lu(lu({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&xe.createElement("title",null,i),t.children)};return c1!==void 0?xe.createElement(c1.Consumer,null,n=>e(n)):e(Ak)}function P6(t){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M441.6 171.61 266.87 85.37a24.57 24.57 0 0 0-21.74 0L70.4 171.61A40 40 0 0 0 48 207.39V392c0 22.09 18.14 40 40.52 40h335c22.38 0 40.52-17.91 40.52-40V207.39a40 40 0 0 0-22.44-35.78z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M397.33 368 268.07 267.46a24 24 0 0 0-29.47 0L109.33 368m200-73 136-103m-384 0 139 105"},child:[]}]})(t)}function B6(t){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 480a80.09 80.09 0 0 0 73.3-48H182.7a80.09 80.09 0 0 0 73.3 48zm144-192v-60.53C400 157 372.64 95.61 304 80l-8-48h-80l-8 48c-68.88 15.61-96 76.76-96 147.47V288l-48 64v48h384v-48z"},child:[]}]})(t)}function d1(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"File_On"},child:[{tag:"path",attr:{d:"M19.485,7.35l-4.97-4.86a1.466,1.466,0,0,0-1.05-.43h-6.9a2.5,2.5,0,0,0-2.5,2.5V19.44a2.507,2.507,0,0,0,2.5,2.5h10.87a2.507,2.507,0,0,0,2.5-2.5V8.42A1.49,1.49,0,0,0,19.485,7.35Zm-1.27.15h-2.34a1.5,1.5,0,0,1-1.5-1.5V3.75Zm.72,11.94a1.5,1.5,0,0,1-1.5,1.5H6.565a1.5,1.5,0,0,1-1.5-1.5V4.56a1.5,1.5,0,0,1,1.5-1.5h6.81V6a2.5,2.5,0,0,0,2.5,2.5h3.06Z"},child:[]}]}]})(t)}function Pk(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Menu_Kebab"},child:[{tag:"path",attr:{d:"M14.5,12c0,1.38 -1.12,2.5 -2.5,2.5c-1.38,-0 -2.5,-1.12 -2.5,-2.5c0,-1.38 1.12,-2.5 2.5,-2.5c1.38,-0 2.5,1.12 2.5,2.5Zm-1,-0c0,-0.828 -0.672,-1.5 -1.5,-1.5c-0.828,-0 -1.5,0.672 -1.5,1.5c0,0.828 0.672,1.5 1.5,1.5c0.828,-0 1.5,-0.672 1.5,-1.5Z"},child:[]},{tag:"path",attr:{d:"M14.5,4.563c0,1.38 -1.12,2.5 -2.5,2.5c-1.38,-0 -2.5,-1.12 -2.5,-2.5c0,-1.38 1.12,-2.5 2.5,-2.5c1.38,-0 2.5,1.12 2.5,2.5Zm-1,-0c0,-0.828 -0.672,-1.5 -1.5,-1.5c-0.828,-0 -1.5,0.672 -1.5,1.5c0,0.828 0.672,1.5 1.5,1.5c0.828,-0 1.5,-0.672 1.5,-1.5Z"},child:[]},{tag:"path",attr:{d:"M14.5,19.437c0,1.38 -1.12,2.5 -2.5,2.5c-1.38,0 -2.5,-1.12 -2.5,-2.5c0,-1.38 1.12,-2.5 2.5,-2.5c1.38,0 2.5,1.12 2.5,2.5Zm-1,0c0,-0.828 -0.672,-1.5 -1.5,-1.5c-0.828,0 -1.5,0.672 -1.5,1.5c0,0.828 0.672,1.5 1.5,1.5c0.828,0 1.5,-0.672 1.5,-1.5Z"},child:[]}]}]})(t)}function M6(t){return Se({tag:"svg",attr:{version:"1.1",id:"search",x:"0px",y:"0px",viewBox:"0 0 24 24",style:"enable-background:new 0 0 24 24;"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:`M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31
		c0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z
		 M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02
		z`},child:[]}]}]})(t)}const Re=t=>`px-3.5 py-1.5 bg-gray-400 rounded-full ${t?"hover:bg-white hover:text-black":"hover:bg-[#282828] hover:text-white"}`,di=t=>`px-3 py-2 rounded-full ${t?"hover:bg-white hover:text-black":"hover:bg-[#282828] hover:text-white"}`,Qs=(t,e,n)=>`px-3 py-2 rounded-lg w-full flex items-start hover:px-10 ${e===n?t?"bg-white text-black":"bg-[#282828] text-white":""}`,j6=(t,e,n)=>`px-3 py-2 rounded-lg w-full flex items-start ${e===n?t?"bg-white text-black":"bg-[#282828] text-white":""}`,D6=(t,e)=>{localStorage.setItem(t,e)},$6=t=>{localStorage.removeItem(t)},U6=t=>localStorage.getItem(t);function F6({setUserNavPanel:t}){const[e,n]=J(pt),[r]=J(Le),o=_n(),i=()=>{$6("user"),t(!1),n({access_token:null}),o("/")};return h.jsxs("div",{className:`z-50 mt-[2vh] backdrop-blur-3xl h-fit w-fit rounded-lg flex flex-col gap-2 p-2 shadow-xl ${r?"bg-white text-black":"bg-[#282828] text-white"}`,children:[h.jsx(Xe,{to:"/",className:`flex w-full pl-2 pr-8 py-2 gap-2 items-center rounded-lg ${di(!r)}`,"aria-label":"Home",children:"Home"}),h.jsx(Xe,{to:"/category/selectedcategory/All Blogs",className:`flex w-full pl-2 pr-8 py-2 gap-2 items-center rounded-lg ${di(!r)}`,"aria-label":"Category",children:"Category"}),h.jsx(Xe,{to:`/user/${e.username}`,className:`flex w-full pl-2 pr-8 py-2 gap-2 items-center rounded-lg ${di(!r)}`,"aria-label":"Profile",children:"Profile"}),h.jsx(Xe,{to:"/dashboard/notifications",className:`flex w-full pl-2 pr-8 py-2 gap-2 items-center rounded-lg ${di(!r)}`,"aria-label":"Dashboard",children:"Dashboard"}),h.jsx(Xe,{to:"/settings/Edit-Profile",className:`flex w-full pl-2 pr-8 py-2 gap-2 items-center rounded-lg ${di(!r)}`,"aria-label":"Settings",children:"Settings"}),e.access_token&&h.jsxs("div",{onClick:i,className:`cursor-pointer flex flex-col w-full pl-2 pr-8 py-2 gap-2 items-center rounded-lg ${di(!r)}`,"aria-label":"Sign Out",children:[h.jsx("button",{className:"font-bold w-full text-start",children:"Sign Out"}),h.jsxs("p",{className:"break-words max-w-[150px] line-clamp-2",children:["@",e.username]})]})]})}function z6(t){return Se({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function H6(t){return Se({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(t)}function Ym(t){return Se({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function Bk(t){return Se({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Mk(t){return Se({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(t)}function V6(t){return Se({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function W6(t){return Se({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"},child:[]}]})(t)}function jk(t){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Dk(t){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Zf(t){return Se({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"},child:[]}]})(t)}function $k(t,e){return function(){return t.apply(e,arguments)}}const{toString:q6}=Object.prototype,{getPrototypeOf:Xm}=Object,vd=(t=>e=>{const n=q6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Dn=t=>(t=t.toLowerCase(),e=>vd(e)===t),yd=t=>e=>typeof e===t,{isArray:vs}=Array,Ua=yd("undefined");function K6(t){return t!==null&&!Ua(t)&&t.constructor!==null&&!Ua(t.constructor)&&cn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Uk=Dn("ArrayBuffer");function G6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Uk(t.buffer),e}const Y6=yd("string"),cn=yd("function"),Fk=yd("number"),bd=t=>t!==null&&typeof t=="object",X6=t=>t===!0||t===!1,hc=t=>{if(vd(t)!=="object")return!1;const e=Xm(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},J6=Dn("Date"),Z6=Dn("File"),Q6=Dn("Blob"),eA=Dn("FileList"),tA=t=>bd(t)&&cn(t.pipe),nA=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||cn(t.append)&&((e=vd(t))==="formdata"||e==="object"&&cn(t.toString)&&t.toString()==="[object FormData]"))},rA=Dn("URLSearchParams"),[oA,iA,sA,aA]=["ReadableStream","Request","Response","Headers"].map(Dn),lA=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),vs(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let a;for(r=0;r<s;r++)a=i[r],e.call(null,t[a],a,t)}}function zk(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const Ao=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Hk=t=>!Ua(t)&&t!==Ao;function Qf(){const{caseless:t}=Hk(this)&&this||{},e={},n=(r,o)=>{const i=t&&zk(e,o)||o;hc(e[i])&&hc(r)?e[i]=Qf(e[i],r):hc(r)?e[i]=Qf({},r):vs(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&sl(arguments[r],n);return e}const cA=(t,e,n,{allOwnKeys:r}={})=>(sl(e,(o,i)=>{n&&cn(o)?t[i]=$k(o,n):t[i]=o},{allOwnKeys:r}),t),uA=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),dA=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},hA=(t,e,n,r)=>{let o,i,s;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Xm(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},fA=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},pA=t=>{if(!t)return null;if(vs(t))return t;let e=t.length;if(!Fk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},mA=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Xm(Uint8Array)),gA=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},vA=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},yA=Dn("HTMLFormElement"),bA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),h1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),wA=Dn("RegExp"),Vk=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};sl(n,(o,i)=>{let s;(s=e(o,i,t))!==!1&&(r[i]=s||o)}),Object.defineProperties(t,r)},xA=t=>{Vk(t,(e,n)=>{if(cn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(cn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kA=(t,e)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return vs(t)?r(t):r(String(t).split(e)),n},_A=()=>{},SA=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,bh="abcdefghijklmnopqrstuvwxyz",f1="0123456789",Wk={DIGIT:f1,ALPHA:bh,ALPHA_DIGIT:bh+bh.toUpperCase()+f1},EA=(t=16,e=Wk.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function CA(t){return!!(t&&cn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const TA=t=>{const e=new Array(10),n=(r,o)=>{if(bd(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const i=vs(r)?[]:{};return sl(r,(s,a)=>{const l=n(s,o+1);!Ua(l)&&(i[a]=l)}),e[o]=void 0,i}}return r};return n(t,0)},NA=Dn("AsyncFunction"),RA=t=>t&&(bd(t)||cn(t))&&cn(t.then)&&cn(t.catch),qk=((t,e)=>t?setImmediate:e?((n,r)=>(Ao.addEventListener("message",({source:o,data:i})=>{o===Ao&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Ao.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",cn(Ao.postMessage)),IA=typeof queueMicrotask<"u"?queueMicrotask.bind(Ao):typeof process<"u"&&process.nextTick||qk,B={isArray:vs,isArrayBuffer:Uk,isBuffer:K6,isFormData:nA,isArrayBufferView:G6,isString:Y6,isNumber:Fk,isBoolean:X6,isObject:bd,isPlainObject:hc,isReadableStream:oA,isRequest:iA,isResponse:sA,isHeaders:aA,isUndefined:Ua,isDate:J6,isFile:Z6,isBlob:Q6,isRegExp:wA,isFunction:cn,isStream:tA,isURLSearchParams:rA,isTypedArray:mA,isFileList:eA,forEach:sl,merge:Qf,extend:cA,trim:lA,stripBOM:uA,inherits:dA,toFlatObject:hA,kindOf:vd,kindOfTest:Dn,endsWith:fA,toArray:pA,forEachEntry:gA,matchAll:vA,isHTMLForm:yA,hasOwnProperty:h1,hasOwnProp:h1,reduceDescriptors:Vk,freezeMethods:xA,toObjectSet:kA,toCamelCase:bA,noop:_A,toFiniteNumber:SA,findKey:zk,global:Ao,isContextDefined:Hk,ALPHABET:Wk,generateString:EA,isSpecCompliantForm:CA,toJSONObject:TA,isAsyncFn:NA,isThenable:RA,setImmediate:qk,asap:IA};function ke(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}B.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const Kk=ke.prototype,Gk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Gk[t]={value:t}});Object.defineProperties(ke,Gk);Object.defineProperty(Kk,"isAxiosError",{value:!0});ke.from=(t,e,n,r,o,i)=>{const s=Object.create(Kk);return B.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ke.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const LA=null;function ep(t){return B.isPlainObject(t)||B.isArray(t)}function Yk(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function p1(t,e,n){return t?t.concat(e).map(function(o,i){return o=Yk(o),!n&&i?"["+o+"]":o}).join(n?".":""):e}function AA(t){return B.isArray(t)&&!t.some(ep)}const OA=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function wd(t,e,n){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!B.isUndefined(y[b])});const r=n.metaTokens,o=n.visitor||d,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(o))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(B.isDate(f))return f.toISOString();if(!l&&B.isBlob(f))throw new ke("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(f)||B.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function d(f,b,y){let v=f;if(f&&!y&&typeof f=="object"){if(B.endsWith(b,"{}"))b=r?b:b.slice(0,-2),f=JSON.stringify(f);else if(B.isArray(f)&&AA(f)||(B.isFileList(f)||B.endsWith(b,"[]"))&&(v=B.toArray(f)))return b=Yk(b),v.forEach(function(m,x){!(B.isUndefined(m)||m===null)&&e.append(s===!0?p1([b],x,i):s===null?b:b+"[]",c(m))}),!1}return ep(f)?!0:(e.append(p1(y,b,i),c(f)),!1)}const u=[],p=Object.assign(OA,{defaultVisitor:d,convertValue:c,isVisitable:ep});function w(f,b){if(!B.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+b.join("."));u.push(f),B.forEach(f,function(v,g){(!(B.isUndefined(v)||v===null)&&o.call(e,v,B.isString(g)?g.trim():g,b,p))===!0&&w(v,b?b.concat(g):[g])}),u.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return w(t),e}function m1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Jm(t,e){this._pairs=[],t&&wd(t,this,e)}const Xk=Jm.prototype;Xk.append=function(e,n){this._pairs.push([e,n])};Xk.toString=function(e){const n=e?function(r){return e.call(this,r,m1)}:m1;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function PA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jk(t,e,n){if(!e)return t;const r=n&&n.encode||PA,o=n&&n.serialize;let i;if(o?i=o(e,n):i=B.isURLSearchParams(e)?e.toString():new Jm(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class g1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Zk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BA=typeof URLSearchParams<"u"?URLSearchParams:Jm,MA=typeof FormData<"u"?FormData:null,jA=typeof Blob<"u"?Blob:null,DA={isBrowser:!0,classes:{URLSearchParams:BA,FormData:MA,Blob:jA},protocols:["http","https","file","blob","url","data"]},Zm=typeof window<"u"&&typeof document<"u",tp=typeof navigator=="object"&&navigator||void 0,$A=Zm&&(!tp||["ReactNative","NativeScript","NS"].indexOf(tp.product)<0),UA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FA=Zm&&window.location.href||"http://localhost",zA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zm,hasStandardBrowserEnv:$A,hasStandardBrowserWebWorkerEnv:UA,navigator:tp,origin:FA},Symbol.toStringTag,{value:"Module"})),Qt={...zA,...DA};function HA(t,e){return wd(t,new Qt.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Qt.isNode&&B.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function VA(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function WA(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function Qk(t){function e(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=i>=n.length;return s=!s&&B.isArray(o)?o.length:s,l?(B.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!B.isObject(o[s]))&&(o[s]=[]),e(n,r,o[s],i)&&B.isArray(o[s])&&(o[s]=WA(o[s])),!a)}if(B.isFormData(t)&&B.isFunction(t.entries)){const n={};return B.forEachEntry(t,(r,o)=>{e(VA(r),o,n,0)}),n}return null}function qA(t,e,n){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const al={transitional:Zk,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=B.isObject(e);if(i&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return o?JSON.stringify(Qk(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e)||B.isReadableStream(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return HA(e,this.formSerializer).toString();if((a=B.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return wd(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),qA(e)):e}],transformResponse:[function(e){const n=this.transitional||al.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(B.isResponse(e)||B.isReadableStream(e))return e;if(e&&B.isString(e)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?ke.from(a,ke.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{al.headers[t]={}});const KA=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GA=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||e[n]&&KA[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},v1=Symbol("internals");function zs(t){return t&&String(t).trim().toLowerCase()}function fc(t){return t===!1||t==null?t:B.isArray(t)?t.map(fc):String(t)}function YA(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const XA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wh(t,e,n,r,o){if(B.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!B.isString(e)){if(B.isString(r))return e.indexOf(r)!==-1;if(B.isRegExp(r))return r.test(e)}}function JA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ZA(t,e){const n=B.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}class en{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function i(a,l,c){const d=zs(l);if(!d)throw new Error("header name must be a non-empty string");const u=B.findKey(o,d);(!u||o[u]===void 0||c===!0||c===void 0&&o[u]!==!1)&&(o[u||l]=fc(a))}const s=(a,l)=>B.forEach(a,(c,d)=>i(c,d,l));if(B.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(B.isString(e)&&(e=e.trim())&&!XA(e))s(GA(e),n);else if(B.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=zs(e),e){const r=B.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return YA(o);if(B.isFunction(n))return n.call(this,o,r);if(B.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=zs(e),e){const r=B.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||wh(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function i(s){if(s=zs(s),s){const a=B.findKey(r,s);a&&(!n||wh(r,r[a],a,n))&&(delete r[a],o=!0)}}return B.isArray(e)?e.forEach(i):i(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!e||wh(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const n=this,r={};return B.forEach(this,(o,i)=>{const s=B.findKey(r,i);if(s){n[s]=fc(o),delete n[i];return}const a=e?JA(i):String(i).trim();a!==i&&delete n[i],n[a]=fc(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return B.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&B.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[v1]=this[v1]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=zs(s);r[a]||(ZA(o,s),r[a]=!0)}return B.isArray(e)?e.forEach(i):i(e),this}}en.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(en.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});B.freezeMethods(en);function xh(t,e){const n=this||al,r=e||n,o=en.from(r.headers);let i=r.data;return B.forEach(t,function(a){i=a.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function e2(t){return!!(t&&t.__CANCEL__)}function ys(t,e,n){ke.call(this,t??"canceled",ke.ERR_CANCELED,e,n),this.name="CanceledError"}B.inherits(ys,ke,{__CANCEL__:!0});function t2(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ke("Request failed with status code "+n.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function QA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function e8(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[i];s||(s=c),n[o]=l,r[o]=c;let u=i,p=0;for(;u!==o;)p+=n[u++],u=u%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),c-s<e)return;const w=d&&c-d;return w?Math.round(p*1e3/w):void 0}}function t8(t,e){let n=0,r=1e3/e,o,i;const s=(c,d=Date.now())=>{n=d,o=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),u=d-n;u>=r?s(c,d):(o=c,i||(i=setTimeout(()=>{i=null,s(o)},r-u)))},()=>o&&s(o)]}const cu=(t,e,n=3)=>{let r=0;const o=e8(50,250);return t8(i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,l=s-r,c=o(l),d=s<=a;r=s;const u={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-s)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(u)},n)},y1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},b1=t=>(...e)=>B.asap(()=>t(...e)),n8=Qt.hasStandardBrowserEnv?function(){const e=Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent),n=document.createElement("a");let r;function o(i){let s=i;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(s){const a=B.isString(s)?o(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),r8=Qt.hasStandardBrowserEnv?{write(t,e,n,r,o,i){const s=[t+"="+encodeURIComponent(e)];B.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),B.isString(r)&&s.push("path="+r),B.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function o8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function i8(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function n2(t,e){return t&&!o8(e)?i8(t,e):e}const w1=t=>t instanceof en?{...t}:t;function Yo(t,e){e=e||{};const n={};function r(c,d,u){return B.isPlainObject(c)&&B.isPlainObject(d)?B.merge.call({caseless:u},c,d):B.isPlainObject(d)?B.merge({},d):B.isArray(d)?d.slice():d}function o(c,d,u){if(B.isUndefined(d)){if(!B.isUndefined(c))return r(void 0,c,u)}else return r(c,d,u)}function i(c,d){if(!B.isUndefined(d))return r(void 0,d)}function s(c,d){if(B.isUndefined(d)){if(!B.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,u){if(u in e)return r(c,d);if(u in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,d)=>o(w1(c),w1(d),!0)};return B.forEach(Object.keys(Object.assign({},t,e)),function(d){const u=l[d]||o,p=u(t[d],e[d],d);B.isUndefined(p)&&u!==a||(n[d]=p)}),n}const r2=t=>{const e=Yo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=e;e.headers=s=en.from(s),e.url=Jk(n2(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(B.isFormData(n)){if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...d]=l?l.split(";").map(u=>u.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Qt.hasStandardBrowserEnv&&(r&&B.isFunction(r)&&(r=r(e)),r||r!==!1&&n8(e.url))){const c=o&&i&&r8.read(i);c&&s.set(o,c)}return e},s8=typeof XMLHttpRequest<"u",a8=s8&&function(t){return new Promise(function(n,r){const o=r2(t);let i=o.data;const s=en.from(o.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=o,d,u,p,w,f;function b(){w&&w(),f&&f(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(o.method.toUpperCase(),o.url,!0),y.timeout=o.timeout;function v(){if(!y)return;const m=en.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:m,config:t,request:y};t2(function(E){n(E),b()},function(E){r(E),b()},k),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new ke("Request aborted",ke.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new ke("Network Error",ke.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let x=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const k=o.transitional||Zk;o.timeoutErrorMessage&&(x=o.timeoutErrorMessage),r(new ke(x,k.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,t,y)),y=null},i===void 0&&s.setContentType(null),"setRequestHeader"in y&&B.forEach(s.toJSON(),function(x,k){y.setRequestHeader(k,x)}),B.isUndefined(o.withCredentials)||(y.withCredentials=!!o.withCredentials),a&&a!=="json"&&(y.responseType=o.responseType),c&&([p,f]=cu(c,!0),y.addEventListener("progress",p)),l&&y.upload&&([u,w]=cu(l),y.upload.addEventListener("progress",u),y.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(d=m=>{y&&(r(!m||m.type?new ys(null,t,y):m),y.abort(),y=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const g=QA(o.url);if(g&&Qt.protocols.indexOf(g)===-1){r(new ke("Unsupported protocol "+g+":",ke.ERR_BAD_REQUEST,t));return}y.send(i||null)})},l8=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,o;const i=function(c){if(!o){o=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof ke?d:new ys(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,i(new ke(`timeout ${e} of ms exceeded`,ke.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>B.asap(a),l}},c8=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},u8=async function*(t,e){for await(const n of d8(t))yield*c8(n,e)},d8=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},x1=(t,e,n,r)=>{const o=u8(t,e);let i=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await o.next();if(c){a(),l.close();return}let u=d.byteLength;if(n){let p=i+=u;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),o.return()}},{highWaterMark:2})},xd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",o2=xd&&typeof ReadableStream=="function",h8=xd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),i2=(t,...e)=>{try{return!!t(...e)}catch{return!1}},f8=o2&&i2(()=>{let t=!1;const e=new Request(Qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),k1=64*1024,np=o2&&i2(()=>B.isReadableStream(new Response("").body)),uu={stream:np&&(t=>t.body)};xd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!uu[e]&&(uu[e]=B.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ke(`Response type '${e}' is not supported`,ke.ERR_NOT_SUPPORT,r)})})})(new Response);const p8=async t=>{if(t==null)return 0;if(B.isBlob(t))return t.size;if(B.isSpecCompliantForm(t))return(await new Request(Qt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(B.isArrayBufferView(t)||B.isArrayBuffer(t))return t.byteLength;if(B.isURLSearchParams(t)&&(t=t+""),B.isString(t))return(await h8(t)).byteLength},m8=async(t,e)=>{const n=B.toFiniteNumber(t.getContentLength());return n??p8(e)},g8=xd&&(async t=>{let{url:e,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=r2(t);c=c?(c+"").toLowerCase():"text";let w=l8([o,i&&i.toAbortSignal()],s),f;const b=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let y;try{if(l&&f8&&n!=="get"&&n!=="head"&&(y=await m8(d,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),_;if(B.isFormData(r)&&(_=k.headers.get("content-type"))&&d.setContentType(_),k.body){const[E,S]=y1(y,cu(b1(l)));r=x1(k.body,k1,E,S)}}B.isString(u)||(u=u?"include":"omit");const v="credentials"in Request.prototype;f=new Request(e,{...p,signal:w,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:v?u:void 0});let g=await fetch(f);const m=np&&(c==="stream"||c==="response");if(np&&(a||m&&b)){const k={};["status","statusText","headers"].forEach(T=>{k[T]=g[T]});const _=B.toFiniteNumber(g.headers.get("content-length")),[E,S]=a&&y1(_,cu(b1(a),!0))||[];g=new Response(x1(g.body,k1,E,()=>{S&&S(),b&&b()}),k)}c=c||"text";let x=await uu[B.findKey(uu,c)||"text"](g,t);return!m&&b&&b(),await new Promise((k,_)=>{t2(k,_,{data:x,headers:en.from(g.headers),status:g.status,statusText:g.statusText,config:t,request:f})})}catch(v){throw b&&b(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,t,f),{cause:v.cause||v}):ke.from(v,v&&v.code,t,f)}}),rp={http:LA,xhr:a8,fetch:g8};B.forEach(rp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _1=t=>`- ${t}`,v8=t=>B.isFunction(t)||t===null||t===!1,s2={getAdapter:t=>{t=B.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let i=0;i<e;i++){n=t[i];let s;if(r=n,!v8(n)&&(r=rp[(s=String(n)).toLowerCase()],r===void 0))throw new ke(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(_1).join(`
`):" "+_1(i[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:rp};function kh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ys(null,t)}function S1(t){return kh(t),t.headers=en.from(t.headers),t.data=xh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),s2.getAdapter(t.adapter||al.adapter)(t).then(function(r){return kh(t),r.data=xh.call(t,t.transformResponse,r),r.headers=en.from(r.headers),r},function(r){return e2(r)||(kh(t),r&&r.response&&(r.response.data=xh.call(t,t.transformResponse,r.response),r.response.headers=en.from(r.response.headers))),Promise.reject(r)})}const a2="1.7.7",Qm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Qm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const E1={};Qm.transitional=function(e,n,r){function o(i,s){return"[Axios v"+a2+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new ke(o(s," has been removed"+(n?" in "+n:"")),ke.ERR_DEPRECATED);return n&&!E1[s]&&(E1[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,a):!0}};function y8(t,e,n){if(typeof t!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const a=t[i],l=a===void 0||s(a,i,t);if(l!==!0)throw new ke("option "+i+" must be "+l,ke.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ke("Unknown option "+i,ke.ERR_BAD_OPTION)}}const op={assertOptions:y8,validators:Qm},Mr=op.validators;class Do{constructor(e){this.defaults=e,this.interceptors={request:new g1,response:new g1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Yo(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&op.assertOptions(r,{silentJSONParsing:Mr.transitional(Mr.boolean),forcedJSONParsing:Mr.transitional(Mr.boolean),clarifyTimeoutError:Mr.transitional(Mr.boolean)},!1),o!=null&&(B.isFunction(o)?n.paramsSerializer={serialize:o}:op.assertOptions(o,{encode:Mr.function,serialize:Mr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&B.merge(i.common,i[n.method]);i&&B.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),n.headers=en.concat(s,i);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,u=0,p;if(!l){const f=[S1.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,c),p=f.length,d=Promise.resolve(n);u<p;)d=d.then(f[u++],f[u++]);return d}p=a.length;let w=n;for(u=0;u<p;){const f=a[u++],b=a[u++];try{w=f(w)}catch(y){b.call(this,y);break}}try{d=S1.call(this,w)}catch(f){return Promise.reject(f)}for(u=0,p=c.length;u<p;)d=d.then(c[u++],c[u++]);return d}getUri(e){e=Yo(this.defaults,e);const n=n2(e.baseURL,e.url);return Jk(n,e.params,e.paramsSerializer)}}B.forEach(["delete","get","head","options"],function(e){Do.prototype[e]=function(n,r){return this.request(Yo(r||{},{method:e,url:n,data:(r||{}).data}))}});B.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,a){return this.request(Yo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Do.prototype[e]=n(),Do.prototype[e+"Form"]=n(!0)});class eg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new ys(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new eg(function(o){e=o}),cancel:e}}}function b8(t){return function(n){return t.apply(null,n)}}function w8(t){return B.isObject(t)&&t.isAxiosError===!0}const ip={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ip).forEach(([t,e])=>{ip[e]=t});function l2(t){const e=new Do(t),n=$k(Do.prototype.request,e);return B.extend(n,Do.prototype,e,{allOwnKeys:!0}),B.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return l2(Yo(t,o))},n}const ve=l2(al);ve.Axios=Do;ve.CanceledError=ys;ve.CancelToken=eg;ve.isCancel=e2;ve.VERSION=a2;ve.toFormData=wd;ve.AxiosError=ke;ve.Cancel=ve.CanceledError;ve.all=function(e){return Promise.all(e)};ve.spread=b8;ve.isAxiosError=w8;ve.mergeConfig=Yo;ve.AxiosHeaders=en;ve.formToJSON=t=>Qk(B.isHTMLForm(t)?new FormData(t):t);ve.getAdapter=s2.getAdapter;ve.HttpStatusCode=ip;ve.default=ve;function x8(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"path",attr:{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z"},child:[]}]})(t)}function k8({onHeightChange:t}){const[e,n]=J(Le),[r,o]=R.useState(!1),[i,s]=J(pt),a=_n(),[l,c]=R.useState(!1),d=R.useRef(null),u=f=>{const b=f.target.value;f.key==="Enter"&&b.length&&(a(`/search/${b}`),o(!1))},p=()=>{setTimeout(()=>c(!1),500)},w=()=>{const f=!e;n(f),localStorage.setItem("darkTheme",JSON.stringify(f))};return R.useEffect(()=>{d.current&&t(d.current.offsetHeight)},[t]),R.useEffect(()=>{i.access_token&&ve.get("https://blognotes-server.onrender.com/api/notification/new_notification",{headers:{Authorization:`Bearer ${i.access_token}`}}).then(({data:f})=>{s({...i,...f})}).catch(f=>{console.log(f.message)})},[i.access_token]),h.jsxs("div",{ref:d,className:"flex flex-col",children:[h.jsxs("div",{className:"flex justify-between px-3 py-2 items-center",children:[h.jsx("div",{className:"flex gap-2",children:h.jsx(Xe,{to:"/",className:"flex gap-2",children:h.jsx("img",{src:e?gs:ms,alt:"Logo",className:"max-h-10"})})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"flex w-fit px-3 hidden sm:flex items-center rounded-full gap-2 border",onKeyDown:u,children:[h.jsx("input",{className:"p-2 rounded-full outline-none bg-transparent",placeholder:"Search"}),h.jsx(Dk,{})]}),h.jsx("button",{onClick:w,children:h.jsx("img",{src:e?C6:E6,alt:"themeicon",className:"max-h-10"})}),i.access_token?h.jsxs(h.Fragment,{children:[h.jsxs(Xe,{to:"/editor/create-new-blog",className:`flex gap-2 items-center rounded-full ${Re(e)}`,"aria-label":"Write",children:["Write",h.jsx(x8,{className:"text-xl"})]}),h.jsx("button",{className:`p-1 rounded-full sm:hidden !p-2 ${Re(e)}`,onClick:()=>o(!r),children:h.jsx(M6,{className:"text-2xl"})}),h.jsxs(Xe,{to:"/dashboard/notifications",className:`p-1 rounded-full !p-2 ${Re(e)} relative`,children:[h.jsx(B6,{className:"text-2xl"}),i.new_notification_available&&h.jsx("span",{className:" absolute h-2 top-2.5 right-2.5 w-2 bg-red-500 rounded-full"})]}),h.jsx("div",{className:`rounded-full flex justify-center items-center cursor-pointer ${e?"bg-gray-300":"bg-stone-800"}`,onBlur:p,tabIndex:0,onClick:()=>c(!l),children:h.jsx("img",{loading:"lazy",src:i.profile_img,className:"h-10 w-10 overflow-hidden rounded-full",alt:"User Profile"})})]}):h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Xe,{to:"/login",className:Re(e),children:"Log In"}),h.jsx(Xe,{to:"register",className:Re(e),children:"Create Account"})]})]})]}),r&&h.jsx("div",{className:"w-full p-2 sm:hidden",children:h.jsx("input",{type:"search",onKeyDown:u,placeholder:"Search Blog",className:"p-2 w-full rounded-lg outline-none bg-transparent border"})}),l&&h.jsx("div",{className:"absolute top-10 right-0 mt-2 mr-2",children:h.jsx(F6,{setUserNavPanel:c})})]})}function tg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function _h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.addEventListener&&t.addEventListener.apply(t,e)}function Sh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)}var _8=typeof navigator<"u",Oo=_8?navigator:void 0,ot=Oo&&(Oo.connection||Oo.mozConnection||Oo.webkitConnection);function C1(t){var e=Oo==null?void 0:Oo.onLine,n=t==null?void 0:t.online;return{online:e,previous:n,since:e!==n?new Date:t==null?void 0:t.since,downlink:ot==null?void 0:ot.downlink,downlinkMax:ot==null?void 0:ot.downlinkMax,effectiveType:ot==null?void 0:ot.effectiveType,rtt:ot==null?void 0:ot.rtt,saveData:ot==null?void 0:ot.saveData,type:ot==null?void 0:ot.type}}function S8(t){var e=R.useState(C1),n=e[0],r=e[1];return R.useEffect(function(){var o=function(){r(C1)};return _h(window,"online",o,{passive:!0}),_h(window,"offline",o,{passive:!0}),ot&&_h(ot,"change",o,{passive:!0}),function(){Sh(window,"online",o),Sh(window,"offline",o),ot&&Sh(ot,"change",o)}},[]),n}function Zn({des:t,error:e,errorType:n}){const[r]=J(Le);J(Sn);let o=_n();const i=r?"bg-gray-400 text-black hover:bg-white":"bg-gray-400 hover:bg-black hover:text-white";return h.jsx("div",{className:`flex  flex-col    justify-center  w-full  
        ${r?"bg-[#121212] ":"bg-[#f9fafb]"}
      `,children:h.jsxs("div",{className:"text-center w-full",children:[h.jsxs("div",{className:"mt-5 flex flex-col  items-center gap-2 w-full",children:[h.jsx("img",{src:r?gs:ms,className:"max-h-14 w-fit",alt:"Logo"}),h.jsx("h1",{children:'"Explore, Learn, and Share"'})]}),h.jsx("h1",{className:"text-5xl font-semibold mb-2",children:"Oops!"}),h.jsx("h1",{className:"text-4xl font-semibold mb-2 truncate",children:e}),h.jsx("p",{className:`text-lg  text-center  truncate ${r?"text-gray-400":"text-gray-600"} mb-6`,children:h.jsx("span",{className:"truncate ",children:t})}),h.jsxs("div",{className:"flex w-full justify-center gap-2",children:[(n==="BlogNotFound"||n==="DraftNotFound"||n==="CategoryBlogNotFound")&&h.jsx("button",{className:`px-4 py-2 w-fit rounded-full transition-colors duration-300 cursor-pointer ${i}`,onClick:()=>o("/editor"),children:"Write Blog"}),(n==="PageNotFound"||n==="UserNotFound")&&h.jsx("button",{className:`px-4 py-2 w-fit rounded-full transition-colors duration-300 cursor-pointer ${i}`,onClick:()=>o("/"),children:"Go to Home Page"})]})]})})}function E8(){const[t,e]=J(Le),n=t?"bg-gray-400 text-black hover:bg-white":"bg-gray-400 hover:bg-black hover:text-white";return h.jsx("div",{className:`flex flex-col items-center justify-center h-screen 
        ${t?"bg-[#121212] ":"bg-[#f9fafb]"}
       `,children:h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"mt-5 flex flex-col items-center gap-2",children:[h.jsx("img",{src:t?gs:ms,className:"max-h-14 w-fit",alt:"Logo"}),h.jsx("h1",{children:'"Explore, Learn, and Share"'})]}),h.jsx("h1",{className:"text-5xl font-semibold mb-2",children:"Oops!"}),h.jsx("h1",{className:"text-5xl font-semibold mb-2",children:"You are offline!"}),h.jsx("p",{className:`text-lg ${t?"text-gray-400":"text-gray-600"} mb-6`,children:"It looks like you're not connected to the internet. Please check your connection."}),h.jsx("button",{className:`px-4 py-2 w-fit rounded-full transition-colors duration-300 cursor-pointer ${n}`,onClick:()=>window.location.reload(),children:"Retry"})]})})}function Ar({des:t}){const[e,n]=J(Le);return J(Sn),_n(),h.jsx("div",{className:"flex  flex-col items-center justify-center  w-full",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"mt-5 flex flex-col items-center gap-2",children:[h.jsx("img",{src:e?gs:ms,className:"max-h-14 w-fit",alt:"Logo"}),h.jsx("h1",{children:'"Explore, Learn, and Share"'})]}),h.jsx("h1",{className:"text-5xl font-semibold mb-2",children:"Loading... Please Wait!"}),h.jsx("h1",{className:"text-3xl font-semibold mb-2",children:t})]})})}var ll=t=>t.type==="checkbox",Ai=t=>t instanceof Date,$t=t=>t==null;const c2=t=>typeof t=="object";var ft=t=>!$t(t)&&!Array.isArray(t)&&c2(t)&&!Ai(t),C8=t=>ft(t)&&t.target?ll(t.target)?t.target.checked:t.target.value:t,T8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,N8=(t,e)=>t.has(T8(e)),R8=t=>{const e=t.constructor&&t.constructor.prototype;return ft(e)&&e.hasOwnProperty("isPrototypeOf")},ng=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(ng&&(t instanceof Blob||t instanceof FileList))&&(n||ft(t)))if(e=n?[]:{},!n&&!R8(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=pn(t[r]));else return t;return e}var kd=t=>Array.isArray(t)?t.filter(Boolean):[],st=t=>t===void 0,le=(t,e,n)=>{if(!e||!ft(t))return n;const r=kd(e.split(/[,[\].]+?/)).reduce((o,i)=>$t(o)?o:o[i],t);return st(r)||r===t?st(t[e])?n:t[e]:r},Hn=t=>typeof t=="boolean",rg=t=>/^\w*$/.test(t),u2=t=>kd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),He=(t,e,n)=>{let r=-1;const o=rg(e)?[e]:u2(e),i=o.length,s=i-1;for(;++r<i;){const a=o[r];let l=n;if(r!==s){const c=t[a];l=ft(c)||Array.isArray(c)?c:isNaN(+o[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const T1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},An={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ir={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};xe.createContext(null);var I8=(t,e,n,r=!0)=>{const o={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(o,i,{get:()=>{const s=i;return e._proxyFormState[s]!==An.all&&(e._proxyFormState[s]=!r||An.all),t[s]}});return o},Wt=t=>ft(t)&&!Object.keys(t).length,L8=(t,e,n,r)=>{n(t);const{name:o,...i}=t;return Wt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(s=>e[s]===An.all)},pc=t=>Array.isArray(t)?t:[t];function A8(t){const e=xe.useRef(t);e.current=t,xe.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Wn=t=>typeof t=="string",O8=(t,e,n,r,o)=>Wn(t)?(r&&e.watch.add(t),le(n,t,o)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),le(n,i))):(r&&(e.watchAll=!0),n),P8=(t,e,n,r,o)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:o||!0}}:{},N1=t=>({isOnSubmit:!t||t===An.onSubmit,isOnBlur:t===An.onBlur,isOnChange:t===An.onChange,isOnAll:t===An.all,isOnTouch:t===An.onTouched}),R1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const va=(t,e,n,r)=>{for(const o of n||Object.keys(t)){const i=le(t,o);if(i){const{_f:s,...a}=i;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],o)&&!r)return!0;if(s.ref&&e(s.ref,s.name)&&!r)return!0;if(va(a,e))break}else if(ft(a)&&va(a,e))break}}};var B8=(t,e,n)=>{const r=pc(le(t,n));return He(r,"root",e[n]),He(t,n,r),t},og=t=>t.type==="file",pr=t=>typeof t=="function",du=t=>{if(!ng)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},mc=t=>Wn(t),ig=t=>t.type==="radio",hu=t=>t instanceof RegExp;const I1={value:!1,isValid:!1},L1={value:!0,isValid:!0};var d2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!st(t[0].attributes.value)?st(t[0].value)||t[0].value===""?L1:{value:t[0].value,isValid:!0}:L1:I1}return I1};const A1={isValid:!1,value:null};var h2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,A1):A1;function O1(t,e,n="validate"){if(mc(t)||Array.isArray(t)&&t.every(mc)||Hn(t)&&!t)return{type:n,message:mc(t)?t:"",ref:e}}var hi=t=>ft(t)&&!hu(t)?t:{value:t,message:""},P1=async(t,e,n,r,o)=>{const{ref:i,refs:s,required:a,maxLength:l,minLength:c,min:d,max:u,pattern:p,validate:w,name:f,valueAsNumber:b,mount:y,disabled:v}=t._f,g=le(e,f);if(!y||v)return{};const m=s?s[0]:i,x=D=>{r&&m.reportValidity&&(m.setCustomValidity(Hn(D)?"":D||""),m.reportValidity())},k={},_=ig(i),E=ll(i),S=_||E,T=(b||og(i))&&st(i.value)&&st(g)||du(i)&&i.value===""||g===""||Array.isArray(g)&&!g.length,N=P8.bind(null,f,n,k),z=(D,A,j,H=ir.maxLength,X=ir.minLength)=>{const ue=D?A:j;k[f]={type:D?H:X,message:ue,ref:i,...N(D?H:X,ue)}};if(o?!Array.isArray(g)||!g.length:a&&(!S&&(T||$t(g))||Hn(g)&&!g||E&&!d2(s).isValid||_&&!h2(s).isValid)){const{value:D,message:A}=mc(a)?{value:!!a,message:a}:hi(a);if(D&&(k[f]={type:ir.required,message:A,ref:m,...N(ir.required,A)},!n))return x(A),k}if(!T&&(!$t(d)||!$t(u))){let D,A;const j=hi(u),H=hi(d);if(!$t(g)&&!isNaN(g)){const X=i.valueAsNumber||g&&+g;$t(j.value)||(D=X>j.value),$t(H.value)||(A=X<H.value)}else{const X=i.valueAsDate||new Date(g),ue=U=>new Date(new Date().toDateString()+" "+U),$=i.type=="time",Q=i.type=="week";Wn(j.value)&&g&&(D=$?ue(g)>ue(j.value):Q?g>j.value:X>new Date(j.value)),Wn(H.value)&&g&&(A=$?ue(g)<ue(H.value):Q?g<H.value:X<new Date(H.value))}if((D||A)&&(z(!!D,j.message,H.message,ir.max,ir.min),!n))return x(k[f].message),k}if((l||c)&&!T&&(Wn(g)||o&&Array.isArray(g))){const D=hi(l),A=hi(c),j=!$t(D.value)&&g.length>+D.value,H=!$t(A.value)&&g.length<+A.value;if((j||H)&&(z(j,D.message,A.message),!n))return x(k[f].message),k}if(p&&!T&&Wn(g)){const{value:D,message:A}=hi(p);if(hu(D)&&!g.match(D)&&(k[f]={type:ir.pattern,message:A,ref:i,...N(ir.pattern,A)},!n))return x(A),k}if(w){if(pr(w)){const D=await w(g,e),A=O1(D,m);if(A&&(k[f]={...A,...N(ir.validate,A.message)},!n))return x(A.message),k}else if(ft(w)){let D={};for(const A in w){if(!Wt(D)&&!n)break;const j=O1(await w[A](g,e),m,A);j&&(D={...j,...N(A,j.message)},x(j.message),n&&(k[f]=D))}if(!Wt(D)&&(k[f]={ref:m,...D},!n))return k}}return x(!0),k};function M8(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=st(t)?r++:t[e[r++]];return t}function j8(t){for(const e in t)if(t.hasOwnProperty(e)&&!st(t[e]))return!1;return!0}function gt(t,e){const n=Array.isArray(e)?e:rg(e)?[e]:u2(e),r=n.length===1?t:M8(t,n),o=n.length-1,i=n[o];return r&&delete r[i],o!==0&&(ft(r)&&Wt(r)||Array.isArray(r)&&j8(r))&&gt(t,n.slice(0,-1)),t}var Eh=()=>{let t=[];return{get observers(){return t},next:o=>{for(const i of t)i.next&&i.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(i=>i!==o)}}),unsubscribe:()=>{t=[]}}},fu=t=>$t(t)||!c2(t);function Wr(t,e){if(fu(t)||fu(e))return t===e;if(Ai(t)&&Ai(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const o of n){const i=t[o];if(!r.includes(o))return!1;if(o!=="ref"){const s=e[o];if(Ai(i)&&Ai(s)||ft(i)&&ft(s)||Array.isArray(i)&&Array.isArray(s)?!Wr(i,s):i!==s)return!1}}return!0}var f2=t=>t.type==="select-multiple",D8=t=>ig(t)||ll(t),Ch=t=>du(t)&&t.isConnected,p2=t=>{for(const e in t)if(pr(t[e]))return!0;return!1};function pu(t,e={}){const n=Array.isArray(t);if(ft(t)||n)for(const r in t)Array.isArray(t[r])||ft(t[r])&&!p2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},pu(t[r],e[r])):$t(t[r])||(e[r]=!0);return e}function m2(t,e,n){const r=Array.isArray(t);if(ft(t)||r)for(const o in t)Array.isArray(t[o])||ft(t[o])&&!p2(t[o])?st(e)||fu(n[o])?n[o]=Array.isArray(t[o])?pu(t[o],[]):{...pu(t[o])}:m2(t[o],$t(e)?{}:e[o],n[o]):n[o]=!Wr(t[o],e[o]);return n}var Kl=(t,e)=>m2(t,e,pu(e)),g2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>st(t)?t:e?t===""?NaN:t&&+t:n&&Wn(t)?new Date(t):r?r(t):t;function Th(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return og(e)?e.files:ig(e)?h2(t.refs).value:f2(e)?[...e.selectedOptions].map(({value:n})=>n):ll(e)?d2(t.refs).value:g2(st(e.value)?t.ref.value:e.value,t)}var $8=(t,e,n,r)=>{const o={};for(const i of t){const s=le(e,i);s&&He(o,i,s._f)}return{criteriaMode:n,names:[...t],fields:o,shouldUseNativeValidation:r}},Hs=t=>st(t)?t:hu(t)?t.source:ft(t)?hu(t.value)?t.value.source:t.value:t;const B1="AsyncFunction";var U8=t=>(!t||!t.validate)&&!!(pr(t.validate)&&t.validate.constructor.name===B1||ft(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===B1)),F8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function M1(t,e,n){const r=le(t,n);if(r||rg(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const i=o.join("."),s=le(e,i),a=le(t,i);if(s&&!Array.isArray(s)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};o.pop()}return{name:n}}var z8=(t,e,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(e||t):(n?r.isOnBlur:o.isOnBlur)?!t:(n?r.isOnChange:o.isOnChange)?t:!0,H8=(t,e)=>!kd(le(t,e)).length&&gt(t,e);const V8={mode:An.onSubmit,reValidateMode:An.onChange,shouldFocusError:!0};function W8(t={}){let e={...V8,...t},n={submitCount:0,isDirty:!1,isLoading:pr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},o=ft(e.defaultValues)||ft(e.values)?pn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:pn(o),s={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={values:Eh(),array:Eh(),state:Eh()},p=N1(e.mode),w=N1(e.reValidateMode),f=e.criteriaMode===An.all,b=C=>P=>{clearTimeout(c),c=setTimeout(C,P)},y=async C=>{if(d.isValid||C){const P=e.resolver?Wt((await S()).errors):await N(r,!0);P!==n.isValid&&u.state.next({isValid:P})}},v=(C,P)=>{(d.isValidating||d.validatingFields)&&((C||Array.from(a.mount)).forEach(M=>{M&&(P?He(n.validatingFields,M,P):gt(n.validatingFields,M))}),u.state.next({validatingFields:n.validatingFields,isValidating:!Wt(n.validatingFields)}))},g=(C,P=[],M,te,Z=!0,Y=!0)=>{if(te&&M){if(s.action=!0,Y&&Array.isArray(le(r,C))){const de=M(le(r,C),te.argA,te.argB);Z&&He(r,C,de)}if(Y&&Array.isArray(le(n.errors,C))){const de=M(le(n.errors,C),te.argA,te.argB);Z&&He(n.errors,C,de),H8(n.errors,C)}if(d.touchedFields&&Y&&Array.isArray(le(n.touchedFields,C))){const de=M(le(n.touchedFields,C),te.argA,te.argB);Z&&He(n.touchedFields,C,de)}d.dirtyFields&&(n.dirtyFields=Kl(o,i)),u.state.next({name:C,isDirty:D(C,P),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else He(i,C,P)},m=(C,P)=>{He(n.errors,C,P),u.state.next({errors:n.errors})},x=C=>{n.errors=C,u.state.next({errors:n.errors,isValid:!1})},k=(C,P,M,te)=>{const Z=le(r,C);if(Z){const Y=le(i,C,st(M)?le(o,C):M);st(Y)||te&&te.defaultChecked||P?He(i,C,P?Y:Th(Z._f)):H(C,Y),s.mount&&y()}},_=(C,P,M,te,Z)=>{let Y=!1,de=!1;const Ae={name:C},ut=!!(le(r,C)&&le(r,C)._f&&le(r,C)._f.disabled);if(!M||te){d.isDirty&&(de=n.isDirty,n.isDirty=Ae.isDirty=D(),Y=de!==Ae.isDirty);const dt=ut||Wr(le(o,C),P);de=!!(!ut&&le(n.dirtyFields,C)),dt||ut?gt(n.dirtyFields,C):He(n.dirtyFields,C,!0),Ae.dirtyFields=n.dirtyFields,Y=Y||d.dirtyFields&&de!==!dt}if(M){const dt=le(n.touchedFields,C);dt||(He(n.touchedFields,C,M),Ae.touchedFields=n.touchedFields,Y=Y||d.touchedFields&&dt!==M)}return Y&&Z&&u.state.next(Ae),Y?Ae:{}},E=(C,P,M,te)=>{const Z=le(n.errors,C),Y=d.isValid&&Hn(P)&&n.isValid!==P;if(t.delayError&&M?(l=b(()=>m(C,M)),l(t.delayError)):(clearTimeout(c),l=null,M?He(n.errors,C,M):gt(n.errors,C)),(M?!Wr(Z,M):Z)||!Wt(te)||Y){const de={...te,...Y&&Hn(P)?{isValid:P}:{},errors:n.errors,name:C};n={...n,...de},u.state.next(de)}},S=async C=>{v(C,!0);const P=await e.resolver(i,e.context,$8(C||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(C),P},T=async C=>{const{errors:P}=await S(C);if(C)for(const M of C){const te=le(P,M);te?He(n.errors,M,te):gt(n.errors,M)}else n.errors=P;return P},N=async(C,P,M={valid:!0})=>{for(const te in C){const Z=C[te];if(Z){const{_f:Y,...de}=Z;if(Y){const Ae=a.array.has(Y.name),ut=Z._f&&U8(Z._f);ut&&d.validatingFields&&v([te],!0);const dt=await P1(Z,i,f,e.shouldUseNativeValidation&&!P,Ae);if(ut&&d.validatingFields&&v([te]),dt[Y.name]&&(M.valid=!1,P))break;!P&&(le(dt,Y.name)?Ae?B8(n.errors,dt,Y.name):He(n.errors,Y.name,dt[Y.name]):gt(n.errors,Y.name))}!Wt(de)&&await N(de,P,M)}}return M.valid},z=()=>{for(const C of a.unMount){const P=le(r,C);P&&(P._f.refs?P._f.refs.every(M=>!Ch(M)):!Ch(P._f.ref))&&G(C)}a.unMount=new Set},D=(C,P)=>(C&&P&&He(i,C,P),!Wr(ee(),o)),A=(C,P,M)=>O8(C,a,{...s.mount?i:st(P)?o:Wn(C)?{[C]:P}:P},M,P),j=C=>kd(le(s.mount?i:o,C,t.shouldUnregister?le(o,C,[]):[])),H=(C,P,M={})=>{const te=le(r,C);let Z=P;if(te){const Y=te._f;Y&&(!Y.disabled&&He(i,C,g2(P,Y)),Z=du(Y.ref)&&$t(P)?"":P,f2(Y.ref)?[...Y.ref.options].forEach(de=>de.selected=Z.includes(de.value)):Y.refs?ll(Y.ref)?Y.refs.length>1?Y.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(Z)?!!Z.find(Ae=>Ae===de.value):Z===de.value)):Y.refs[0]&&(Y.refs[0].checked=!!Z):Y.refs.forEach(de=>de.checked=de.value===Z):og(Y.ref)?Y.ref.value="":(Y.ref.value=Z,Y.ref.type||u.values.next({name:C,values:{...i}})))}(M.shouldDirty||M.shouldTouch)&&_(C,Z,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&U(C)},X=(C,P,M)=>{for(const te in P){const Z=P[te],Y=`${C}.${te}`,de=le(r,Y);(a.array.has(C)||!fu(Z)||de&&!de._f)&&!Ai(Z)?X(Y,Z,M):H(Y,Z,M)}},ue=(C,P,M={})=>{const te=le(r,C),Z=a.array.has(C),Y=pn(P);He(i,C,Y),Z?(u.array.next({name:C,values:{...i}}),(d.isDirty||d.dirtyFields)&&M.shouldDirty&&u.state.next({name:C,dirtyFields:Kl(o,i),isDirty:D(C,Y)})):te&&!te._f&&!$t(Y)?X(C,Y,M):H(C,Y,M),R1(C,a)&&u.state.next({...n}),u.values.next({name:s.mount?C:void 0,values:{...i}})},$=async C=>{s.mount=!0;const P=C.target;let M=P.name,te=!0;const Z=le(r,M),Y=()=>P.type?Th(Z._f):C8(C),de=Ae=>{te=Number.isNaN(Ae)||Wr(Ae,le(i,M,Ae))};if(Z){let Ae,ut;const dt=Y(),or=C.type===T1.BLUR||C.type===T1.FOCUS_OUT,Md=!F8(Z._f)&&!e.resolver&&!le(n.errors,M)&&!Z._f.deps||z8(or,le(n.touchedFields,M),n.isSubmitted,w,p),Es=R1(M,a,or);He(i,M,dt),or?(Z._f.onBlur&&Z._f.onBlur(C),l&&l(0)):Z._f.onChange&&Z._f.onChange(C);const Cs=_(M,dt,or,!1),kl=!Wt(Cs)||Es;if(!or&&u.values.next({name:M,type:C.type,values:{...i}}),Md)return d.isValid&&(t.mode==="onBlur"?or&&y():y()),kl&&u.state.next({name:M,...Es?{}:Cs});if(!or&&Es&&u.state.next({...n}),e.resolver){const{errors:_l}=await S([M]);if(de(dt),te){const jd=M1(n.errors,r,M),O=M1(_l,r,jd.name||M);Ae=O.error,M=O.name,ut=Wt(_l)}}else v([M],!0),Ae=(await P1(Z,i,f,e.shouldUseNativeValidation))[M],v([M]),de(dt),te&&(Ae?ut=!1:d.isValid&&(ut=await N(r,!0)));te&&(Z._f.deps&&U(Z._f.deps),E(M,ut,Ae,Cs))}},Q=(C,P)=>{if(le(n.errors,P)&&C.focus)return C.focus(),1},U=async(C,P={})=>{let M,te;const Z=pc(C);if(e.resolver){const Y=await T(st(C)?C:Z);M=Wt(Y),te=C?!Z.some(de=>le(Y,de)):M}else C?(te=(await Promise.all(Z.map(async Y=>{const de=le(r,Y);return await N(de&&de._f?{[Y]:de}:de)}))).every(Boolean),!(!te&&!n.isValid)&&y()):te=M=await N(r);return u.state.next({...!Wn(C)||d.isValid&&M!==n.isValid?{}:{name:C},...e.resolver||!C?{isValid:M}:{},errors:n.errors}),P.shouldFocus&&!te&&va(r,Q,C?Z:a.mount),te},ee=C=>{const P={...s.mount?i:o};return st(C)?P:Wn(C)?le(P,C):C.map(M=>le(P,M))},I=(C,P)=>({invalid:!!le((P||n).errors,C),isDirty:!!le((P||n).dirtyFields,C),error:le((P||n).errors,C),isValidating:!!le(n.validatingFields,C),isTouched:!!le((P||n).touchedFields,C)}),V=C=>{C&&pc(C).forEach(P=>gt(n.errors,P)),u.state.next({errors:C?n.errors:{}})},K=(C,P,M)=>{const te=(le(r,C,{_f:{}})._f||{}).ref,Z=le(n.errors,C)||{},{ref:Y,message:de,type:Ae,...ut}=Z;He(n.errors,C,{...ut,...P,ref:te}),u.state.next({name:C,errors:n.errors,isValid:!1}),M&&M.shouldFocus&&te&&te.focus&&te.focus()},oe=(C,P)=>pr(C)?u.values.subscribe({next:M=>C(A(void 0,P),M)}):A(C,P,!0),G=(C,P={})=>{for(const M of C?pc(C):a.mount)a.mount.delete(M),a.array.delete(M),P.keepValue||(gt(r,M),gt(i,M)),!P.keepError&&gt(n.errors,M),!P.keepDirty&&gt(n.dirtyFields,M),!P.keepTouched&&gt(n.touchedFields,M),!P.keepIsValidating&&gt(n.validatingFields,M),!e.shouldUnregister&&!P.keepDefaultValue&&gt(o,M);u.values.next({values:{...i}}),u.state.next({...n,...P.keepDirty?{isDirty:D()}:{}}),!P.keepIsValid&&y()},he=({disabled:C,name:P,field:M,fields:te,value:Z})=>{if(Hn(C)&&s.mount||C){const Y=C?void 0:st(Z)?Th(M?M._f:le(te,P)._f):Z;He(i,P,Y),_(P,Y,!1,!1,!0)}},fe=(C,P={})=>{let M=le(r,C);const te=Hn(P.disabled)||Hn(t.disabled);return He(r,C,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:C}},name:C,mount:!0,...P}}),a.mount.add(C),M?he({field:M,disabled:Hn(P.disabled)?P.disabled:t.disabled,name:C,value:P.value}):k(C,!0,P.value),{...te?{disabled:P.disabled||t.disabled}:{},...e.progressive?{required:!!P.required,min:Hs(P.min),max:Hs(P.max),minLength:Hs(P.minLength),maxLength:Hs(P.maxLength),pattern:Hs(P.pattern)}:{},name:C,onChange:$,onBlur:$,ref:Z=>{if(Z){fe(C,P),M=le(r,C);const Y=st(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,de=D8(Y),Ae=M._f.refs||[];if(de?Ae.find(ut=>ut===Y):Y===M._f.ref)return;He(r,C,{_f:{...M._f,...de?{refs:[...Ae.filter(Ch),Y,...Array.isArray(le(o,C))?[{}]:[]],ref:{type:Y.type,name:C}}:{ref:Y}}}),k(C,!1,void 0,Y)}else M=le(r,C,{}),M._f&&(M._f.mount=!1),(e.shouldUnregister||P.shouldUnregister)&&!(N8(a.array,C)&&s.action)&&a.unMount.add(C)}}},se=()=>e.shouldFocusError&&va(r,Q,a.mount),Ce=C=>{Hn(C)&&(u.state.next({disabled:C}),va(r,(P,M)=>{const te=le(r,M);te&&(P.disabled=te._f.disabled||C,Array.isArray(te._f.refs)&&te._f.refs.forEach(Z=>{Z.disabled=te._f.disabled||C}))},0,!1))},Be=(C,P)=>async M=>{let te;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let Z=pn(i);if(u.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:de}=await S();n.errors=Y,Z=de}else await N(r);if(gt(n.errors,"root"),Wt(n.errors)){u.state.next({errors:{}});try{await C(Z,M)}catch(Y){te=Y}}else P&&await P({...n.errors},M),se(),setTimeout(se);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wt(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},Te=(C,P={})=>{le(r,C)&&(st(P.defaultValue)?ue(C,pn(le(o,C))):(ue(C,P.defaultValue),He(o,C,pn(P.defaultValue))),P.keepTouched||gt(n.touchedFields,C),P.keepDirty||(gt(n.dirtyFields,C),n.isDirty=P.defaultValue?D(C,pn(le(o,C))):D()),P.keepError||(gt(n.errors,C),d.isValid&&y()),u.state.next({...n}))},De=(C,P={})=>{const M=C?pn(C):o,te=pn(M),Z=Wt(C),Y=Z?o:te;if(P.keepDefaultValues||(o=M),!P.keepValues){if(P.keepDirtyValues)for(const de of a.mount)le(n.dirtyFields,de)?He(Y,de,le(i,de)):ue(de,le(Y,de));else{if(ng&&st(C))for(const de of a.mount){const Ae=le(r,de);if(Ae&&Ae._f){const ut=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(du(ut)){const dt=ut.closest("form");if(dt){dt.reset();break}}}}r={}}i=t.shouldUnregister?P.keepDefaultValues?pn(o):{}:pn(Y),u.array.next({values:{...Y}}),u.values.next({values:{...Y}})}a={mount:P.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!P.keepIsValid||!!P.keepDirtyValues,s.watch=!!t.shouldUnregister,u.state.next({submitCount:P.keepSubmitCount?n.submitCount:0,isDirty:Z?!1:P.keepDirty?n.isDirty:!!(P.keepDefaultValues&&!Wr(C,o)),isSubmitted:P.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Z?{}:P.keepDirtyValues?P.keepDefaultValues&&i?Kl(o,i):n.dirtyFields:P.keepDefaultValues&&C?Kl(o,C):P.keepDirty?n.dirtyFields:{},touchedFields:P.keepTouched?n.touchedFields:{},errors:P.keepErrors?n.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Rt=(C,P)=>De(pr(C)?C(i):C,P);return{control:{register:fe,unregister:G,getFieldState:I,handleSubmit:Be,setError:K,_executeSchema:S,_getWatch:A,_getDirty:D,_updateValid:y,_removeUnmounted:z,_updateFieldArray:g,_updateDisabledField:he,_getFieldArray:j,_reset:De,_resetDefaultValues:()=>pr(e.defaultValues)&&e.defaultValues().then(C=>{Rt(C,e.resetOptions),u.state.next({isLoading:!1})}),_updateFormState:C=>{n={...n,...C}},_disableForm:Ce,_subjects:u,_proxyFormState:d,_setErrors:x,get _fields(){return r},get _formValues(){return i},get _state(){return s},set _state(C){s=C},get _defaultValues(){return o},get _names(){return a},set _names(C){a=C},get _formState(){return n},set _formState(C){n=C},get _options(){return e},set _options(C){e={...e,...C}}},trigger:U,register:fe,handleSubmit:Be,watch:oe,setValue:ue,getValues:ee,reset:Rt,resetField:Te,clearErrors:V,unregister:G,setError:K,setFocus:(C,P={})=>{const M=le(r,C),te=M&&M._f;if(te){const Z=te.refs?te.refs[0]:te.ref;Z.focus&&(Z.focus(),P.shouldSelect&&Z.select())}},getFieldState:I}}function _d(t={}){const e=xe.useRef(),n=xe.useRef(),[r,o]=xe.useState({isDirty:!1,isValidating:!1,isLoading:pr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:pr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...W8(t),formState:r});const i=e.current.control;return i._options=t,A8({subject:i._subjects.state,next:s=>{L8(s,i._proxyFormState,i._updateFormState)&&o({...i._formState})}}),xe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),xe.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==r.isDirty&&i._subjects.state.next({isDirty:s})}},[i,r.isDirty]),xe.useEffect(()=>{t.values&&!Wr(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,o(s=>({...s}))):i._resetDefaultValues()},[t.values,i]),xe.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),xe.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),xe.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=I8(r,i),e.current}function q8(t){return Se({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5"},child:[]}]})(t)}function K8(t){return Se({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"},child:[]}]})(t)}function G8(t){return Se({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"},child:[]}]})(t)}function Y8(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function X8(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M14.12 10.47 12 12.59l-2.13-2.12-1.41 1.41L10.59 14l-2.12 2.12 1.41 1.41L12 15.41l2.12 2.12 1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z"},child:[]}]})(t)}function J8(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M12 1.95c-5.52 0-10 4.48-10 10s4.48 10 10 10h5v-2h-5c-4.34 0-8-3.66-8-8s3.66-8 8-8 8 3.66 8 8v1.43c0 .79-.71 1.57-1.5 1.57s-1.5-.78-1.5-1.57v-1.43c0-2.76-2.24-5-5-5s-5 2.24-5 5 2.24 5 5 5c1.38 0 2.64-.56 3.54-1.47.65.89 1.77 1.47 2.96 1.47 1.97 0 3.5-1.6 3.5-3.57v-1.43c0-5.52-4.48-10-10-10zm0 13c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"},child:[]}]})(t)}function Fa(t){return Se({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M48,56V200a12,12,0,0,1-24,0V56a12,12,0,0,1,24,0Zm86.73,50.7L120,111.48V96a12,12,0,0,0-24,0v15.48L81.27,106.7a12,12,0,1,0-7.41,22.82l14.72,4.79-9.1,12.52A12,12,0,1,0,98.9,160.94l9.1-12.52,9.1,12.52a12,12,0,1,0,19.42-14.11l-9.1-12.52,14.72-4.79a12,12,0,1,0-7.41-22.82Zm115.12,7.7a12,12,0,0,0-15.12-7.7L220,111.48V96a12,12,0,0,0-24,0v15.48l-14.73-4.78a12,12,0,1,0-7.41,22.82l14.72,4.79-9.1,12.52a12,12,0,1,0,19.42,14.11l9.1-12.52,9.1,12.52a12,12,0,1,0,19.42-14.11l-9.1-12.52,14.72-4.79A12,12,0,0,0,249.85,114.4Z"},child:[]}]})(t)}function sp(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 9c-2.4 2.667 -5.4 4 -9 4c-3.6 0 -6.6 -1.333 -9 -4"},child:[]},{tag:"path",attr:{d:"M3 15l2.5 -3.8"},child:[]},{tag:"path",attr:{d:"M21 14.976l-2.492 -3.776"},child:[]},{tag:"path",attr:{d:"M9 17l.5 -4"},child:[]},{tag:"path",attr:{d:"M15 17l-.5 -4"},child:[]}]})(t)}function ap(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"},child:[]},{tag:"path",attr:{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"},child:[]}]})(t)}let Z8={data:""},Q8=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Z8,eO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tO=/\/\*[^]*?\*\/|  +/g,j1=/\n+/g,qr=(t,e)=>{let n="",r="",o="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?qr(s,i):i+"{"+qr(s,i[1]=="k"?"":e)+"}":typeof s=="object"?r+=qr(s,e?e.replace(/([^,])+/g,a=>i.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=qr.p?qr.p(i,s):i+":"+s+";")}return n+(e&&o?e+"{"+o+"}":o)+r},sr={},v2=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+v2(t[n]);return e}return t},nO=(t,e,n,r,o)=>{let i=v2(t),s=sr[i]||(sr[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!sr[s]){let l=i!==t?t:(c=>{let d,u,p=[{}];for(;d=eO.exec(c.replace(tO,""));)d[4]?p.shift():d[3]?(u=d[3].replace(j1," ").trim(),p.unshift(p[0][u]=p[0][u]||{})):p[0][d[1]]=d[2].replace(j1," ").trim();return p[0]})(t);sr[s]=qr(o?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&sr.g?sr.g:null;return n&&(sr.g=sr[s]),((l,c,d,u)=>{u?c.data=c.data.replace(u,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(sr[s],e,r,a),s},rO=(t,e,n)=>t.reduce((r,o,i)=>{let s=e[i];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":qr(a,""):a===!1?"":a}return r+o+(s??"")},"");function Sd(t){let e=this||{},n=t.call?t(e.p):t;return nO(n.unshift?n.raw?rO(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,Q8(e.target),e.g,e.o,e.k)}let y2,lp,cp;Sd.bind({g:1});let Cr=Sd.bind({k:1});function oO(t,e,n,r){qr.p=e,y2=t,lp=n,cp=r}function ko(t,e){let n=this||{};return function(){let r=arguments;function o(i,s){let a=Object.assign({},i),l=a.className||o.className;n.p=Object.assign({theme:lp&&lp()},a),n.o=/ *go\d+/.test(l),a.className=Sd.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),cp&&c[0]&&cp(a),y2(c,a)}return o}}var iO=t=>typeof t=="function",mu=(t,e)=>iO(t)?t(e):t,sO=(()=>{let t=0;return()=>(++t).toString()})(),b2=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),aO=20,gc=new Map,lO=1e3,D1=t=>{if(gc.has(t))return;let e=setTimeout(()=>{gc.delete(t),si({type:4,toastId:t})},lO);gc.set(t,e)},cO=t=>{let e=gc.get(t);e&&clearTimeout(e)},up=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,aO)};case 1:return e.toast.id&&cO(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return t.toasts.find(i=>i.id===n.id)?up(t,{type:1,toast:n}):up(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?D1(r):t.toasts.forEach(i=>{D1(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},vc=[],yc={toasts:[],pausedAt:void 0},si=t=>{yc=up(yc,t),vc.forEach(e=>{e(yc)})},uO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dO=(t={})=>{let[e,n]=R.useState(yc);R.useEffect(()=>(vc.push(n),()=>{let o=vc.indexOf(n);o>-1&&vc.splice(o,1)}),[e]);let r=e.toasts.map(o=>{var i,s;return{...t,...t[o.type],...o,duration:o.duration||((i=t[o.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||uO[o.type],style:{...t.style,...(s=t[o.type])==null?void 0:s.style,...o.style}}});return{...e,toasts:r}},hO=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||sO()}),cl=t=>(e,n)=>{let r=hO(e,t,n);return si({type:2,toast:r}),r.id},ce=(t,e)=>cl("blank")(t,e);ce.error=cl("error");ce.success=cl("success");ce.loading=cl("loading");ce.custom=cl("custom");ce.dismiss=t=>{si({type:3,toastId:t})};ce.remove=t=>si({type:4,toastId:t});ce.promise=(t,e,n)=>{let r=ce.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(o=>(ce.success(mu(e.success,o),{id:r,...n,...n==null?void 0:n.success}),o)).catch(o=>{ce.error(mu(e.error,o),{id:r,...n,...n==null?void 0:n.error})}),t};var fO=(t,e)=>{si({type:1,toast:{id:t,height:e}})},pO=()=>{si({type:5,time:Date.now()})},mO=t=>{let{toasts:e,pausedAt:n}=dO(t);R.useEffect(()=>{if(n)return;let i=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&ce.dismiss(a.id);return}return setTimeout(()=>ce.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=R.useCallback(()=>{n&&si({type:6,time:Date.now()})},[n]),o=R.useCallback((i,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=s||{},d=e.filter(w=>(w.position||c)===(i.position||c)&&w.height),u=d.findIndex(w=>w.id===i.id),p=d.filter((w,f)=>f<u&&w.visible).length;return d.filter(w=>w.visible).slice(...a?[p+1]:[0,p]).reduce((w,f)=>w+(f.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:fO,startPause:pO,endPause:r,calculateOffset:o}}},gO=Cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vO=Cr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yO=Cr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bO=ko("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${yO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wO=Cr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xO=ko("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${wO} 1s linear infinite;
`,kO=Cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_O=Cr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,SO=ko("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_O} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,EO=ko("div")`
  position: absolute;
`,CO=ko("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,TO=Cr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NO=ko("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${TO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,RO=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?R.createElement(NO,null,e):e:n==="blank"?null:R.createElement(CO,null,R.createElement(xO,{...r}),n!=="loading"&&R.createElement(EO,null,n==="error"?R.createElement(bO,{...r}):R.createElement(SO,{...r})))},IO=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,LO=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,AO="0%{opacity:0;} 100%{opacity:1;}",OO="0%{opacity:1;} 100%{opacity:0;}",PO=ko("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,BO=ko("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MO=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=b2()?[AO,OO]:[IO(n),LO(n)];return{animation:e?`${Cr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},jO=R.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?MO(t.position||e||"top-center",t.visible):{opacity:0},i=R.createElement(RO,{toast:t}),s=R.createElement(BO,{...t.ariaProps},mu(t.message,t));return R.createElement(PO,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:i,message:s}):R.createElement(R.Fragment,null,i,s))});oO(R.createElement);var DO=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let i=R.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return R.createElement("div",{ref:i,className:e,style:n},o)},$O=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:b2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},UO=Sd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gl=16,Or=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,containerStyle:i,containerClassName:s})=>{let{toasts:a,handlers:l}=mO(n);return R.createElement("div",{style:{position:"fixed",zIndex:9999,top:Gl,left:Gl,right:Gl,bottom:Gl,pointerEvents:"none",...i},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,u=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),p=$O(d,u);return R.createElement(DO,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?UO:"",style:p},c.type==="custom"?mu(c.message,c):o?o(c):R.createElement(jO,{toast:c,position:d}))}))},Un=ce,$1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},FO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},x2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,d=i>>2,u=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,w=c&63;l||(w=64,s||(p=64)),r.push(n[d],n[u],n[p],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const u=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||c==null||u==null)throw new zO;const p=i<<2|a>>4;if(r.push(p),c!==64){const w=a<<4&240|c>>2;if(r.push(w),u!==64){const f=c<<6&192|u;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HO=function(t){const e=w2(t);return x2.encodeByteArray(e,!0)},gu=function(t){return HO(t).replace(/\./g,"")},k2=function(t){try{return x2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=()=>VO().__FIREBASE_DEFAULTS__,qO=()=>{if(typeof process>"u"||typeof $1>"u")return;const t=$1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&k2(t[1]);return e&&JSON.parse(e)},sg=()=>{try{return WO()||qO()||KO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_2=t=>{var e,n;return(n=(e=sg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GO=t=>{const e=_2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},S2=()=>{var t;return(t=sg())===null||t===void 0?void 0:t.config},E2=t=>{var e;return(e=sg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gu(JSON.stringify(n)),gu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function ZO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eP(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tP(){try{return typeof indexedDB=="object"}catch{return!1}}function nP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="FirebaseError";class Pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rP,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ul.prototype.create)}}class ul{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?oP(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new Pr(o,a,r)}}function oP(t,e){return t.replace(iP,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const iP=/\{\$([^}]+)}/g;function sP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(U1(i)&&U1(s)){if(!vu(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function U1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aP(t,e){const n=new lP(t,e);return n.subscribe.bind(n)}class lP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cP(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Nh),o.error===void 0&&(o.error=Nh),o.complete===void 0&&(o.complete=Nh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t){return t&&t._delegate?t._delegate:t}class Xo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hP(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dP(t){return t===Co?void 0:t}function hP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const pP={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},mP=$e.INFO,gP={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},vP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=gP[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C2{constructor(e){this.name=e,this._logLevel=mP,this._logHandler=vP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const yP=(t,e)=>e.some(n=>t instanceof n);let F1,z1;function bP(){return F1||(F1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wP(){return z1||(z1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T2=new WeakMap,dp=new WeakMap,N2=new WeakMap,Rh=new WeakMap,ag=new WeakMap;function xP(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(co(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&T2.set(n,t)}).catch(()=>{}),ag.set(e,t),e}function kP(t){if(dp.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});dp.set(t,e)}let hp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||N2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _P(t){hp=t(hp)}function SP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ih(this),e,...n);return N2.set(r,e.sort?e.sort():[e]),co(r)}:wP().includes(t)?function(...e){return t.apply(Ih(this),e),co(T2.get(this))}:function(...e){return co(t.apply(Ih(this),e))}}function EP(t){return typeof t=="function"?SP(t):(t instanceof IDBTransaction&&kP(t),yP(t,bP())?new Proxy(t,hp):t)}function co(t){if(t instanceof IDBRequest)return xP(t);if(Rh.has(t))return Rh.get(t);const e=EP(t);return e!==t&&(Rh.set(t,e),ag.set(e,t)),e}const Ih=t=>ag.get(t);function CP(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=co(s);return r&&s.addEventListener("upgradeneeded",l=>{r(co(s.result),l.oldVersion,l.newVersion,co(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const TP=["get","getKey","getAll","getAllKeys","count"],NP=["put","add","delete","clear"],Lh=new Map;function H1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lh.get(e))return Lh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=NP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||TP.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return Lh.set(e,i),i}_P(t=>({...t,get:(e,n,r)=>H1(e,n)||t.get(e,n,r),has:(e,n)=>!!H1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fp="@firebase/app",V1="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new C2("@firebase/app"),LP="@firebase/app-compat",AP="@firebase/analytics-compat",OP="@firebase/analytics",PP="@firebase/app-check-compat",BP="@firebase/app-check",MP="@firebase/auth",jP="@firebase/auth-compat",DP="@firebase/database",$P="@firebase/database-compat",UP="@firebase/functions",FP="@firebase/functions-compat",zP="@firebase/installations",HP="@firebase/installations-compat",VP="@firebase/messaging",WP="@firebase/messaging-compat",qP="@firebase/performance",KP="@firebase/performance-compat",GP="@firebase/remote-config",YP="@firebase/remote-config-compat",XP="@firebase/storage",JP="@firebase/storage-compat",ZP="@firebase/firestore",QP="@firebase/vertexai-preview",eB="@firebase/firestore-compat",tB="firebase",nB="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",rB={[fp]:"fire-core",[LP]:"fire-core-compat",[OP]:"fire-analytics",[AP]:"fire-analytics-compat",[BP]:"fire-app-check",[PP]:"fire-app-check-compat",[MP]:"fire-auth",[jP]:"fire-auth-compat",[DP]:"fire-rtdb",[$P]:"fire-rtdb-compat",[UP]:"fire-fn",[FP]:"fire-fn-compat",[zP]:"fire-iid",[HP]:"fire-iid-compat",[VP]:"fire-fcm",[WP]:"fire-fcm-compat",[qP]:"fire-perf",[KP]:"fire-perf-compat",[GP]:"fire-rc",[YP]:"fire-rc-compat",[XP]:"fire-gcs",[JP]:"fire-gcs-compat",[ZP]:"fire-fst",[eB]:"fire-fst-compat",[QP]:"fire-vertex","fire-js":"fire-js",[tB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,oB=new Map,mp=new Map;function W1(t,e){try{t.container.addComponent(e)}catch(n){Jo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function os(t){const e=t.name;if(mp.has(e))return Jo.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,t);for(const n of yu.values())W1(n,t);for(const n of oB.values())W1(n,t);return!0}function lg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new ul("app","Firebase",iB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=nB;function R2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw uo.create("bad-app-name",{appName:String(o)});if(n||(n=S2()),!n)throw uo.create("no-options");const i=yu.get(o);if(i){if(vu(n,i.options)&&vu(r,i.config))return i;throw uo.create("duplicate-app",{appName:o})}const s=new fP(o);for(const l of mp.values())s.addComponent(l);const a=new sB(n,r,s);return yu.set(o,a),a}function I2(t=pp){const e=yu.get(t);if(!e&&t===pp&&S2())return R2();if(!e)throw uo.create("no-app",{appName:t});return e}function ho(t,e,n){var r;let o=(r=rB[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jo.warn(a.join(" "));return}os(new Xo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="firebase-heartbeat-database",lB=1,za="firebase-heartbeat-store";let Ah=null;function L2(){return Ah||(Ah=CP(aB,lB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(za)}catch(n){console.warn(n)}}}}).catch(t=>{throw uo.create("idb-open",{originalErrorMessage:t.message})})),Ah}async function cB(t){try{const n=(await L2()).transaction(za),r=await n.objectStore(za).get(A2(t));return await n.done,r}catch(e){if(e instanceof Pr)Jo.warn(e.message);else{const n=uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jo.warn(n.message)}}}async function q1(t,e){try{const r=(await L2()).transaction(za,"readwrite");await r.objectStore(za).put(e,A2(t)),await r.done}catch(n){if(n instanceof Pr)Jo.warn(n.message);else{const r=uo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jo.warn(r.message)}}}function A2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=1024,dB=30*24*60*60*1e3;class hB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=K1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=dB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K1(),{heartbeatsToSend:r,unsentEntries:o}=fB(this._heartbeatsCache.heartbeats),i=gu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function K1(){return new Date().toISOString().substring(0,10)}function fB(t,e=uB){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),G1(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),G1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tP()?nP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return q1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return q1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function G1(t){return gu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){os(new Xo("platform-logger",e=>new RP(e),"PRIVATE")),os(new Xo("heartbeat",e=>new hB(e),"PRIVATE")),ho(fp,V1,t),ho(fp,V1,"esm2017"),ho("fire-js","")}mB("");function O2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gB=O2,P2=new ul("auth","Firebase",O2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new C2("@firebase/auth");function vB(t,...e){bu.logLevel<=$e.WARN&&bu.warn(`Auth (${bs}): ${t}`,...e)}function bc(t,...e){bu.logLevel<=$e.ERROR&&bu.error(`Auth (${bs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw ug(t,...e)}function Bn(t,...e){return ug(t,...e)}function cg(t,e,n){const r=Object.assign(Object.assign({},gB()),{[e]:n});return new ul("auth","Firebase",r).create(e,{appName:t.name})}function $o(t){return cg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yB(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(t,"argument-error"),cg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ug(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return P2.create(t,...e)}function be(t,e,...n){if(!t)throw ug(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bc(e),new Error(e)}function Tr(t,e){t||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bB(){return Y1()==="http:"||Y1()==="https:"}function Y1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bB()||ZO()||"connection"in navigator)?navigator.onLine:!0}function xB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=JO()||QO()}get(){return wB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e){Tr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=new hl(3e4,6e4);function hg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ws(t,e,n,r,o={}){return M2(t,o,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const a=dl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),B2.fetch()(j2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function M2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kB),e);try{const o=new EB(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Yl(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yl(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Yl(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Yl(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cg(t,d,c);Qn(t,d)}}catch(o){if(o instanceof Pr)throw o;Qn(t,"network-request-failed",{message:String(o)})}}async function SB(t,e,n,r,o={}){const i=await ws(t,e,n,r,o);return"mfaPendingCredential"in i&&Qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function j2(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?dg(t.config,o):`${t.config.apiScheme}://${o}`}class EB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bn(this.auth,"network-request-failed")),_B.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Bn(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(t,e){return ws(t,"POST","/v1/accounts:delete",e)}async function D2(t,e){return ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TB(t,e=!1){const n=rr(t),r=await n.getIdToken(e),o=fg(r);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:ya(Oh(o.auth_time)),issuedAtTime:ya(Oh(o.iat)),expirationTime:ya(Oh(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Oh(t){return Number(t)*1e3}function fg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=k2(n);return o?JSON.parse(o):(bc("Failed to decode base64 JWT payload"),null)}catch(o){return bc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function X1(t){const e=fg(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pr&&NB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function NB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ya(this.lastLoginAt),this.creationTime=ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Ha(t,D2(n,{idToken:r}));be(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?$2(i.providerUserInfo):[],a=LB(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new vp(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,u)}async function IB(t){const e=rr(t);await wu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LB(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function $2(t){return t.map(e=>{var{providerId:n}=e,r=tg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AB(t,e){const n=await M2(t,{},async()=>{const r=dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=j2(t,o,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",B2.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OB(t,e){return ws(t,"POST","/v2/accounts:revokeToken",hg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=X1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await AB(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new Fi;return r&&(be(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(be(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(be(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fi,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vr{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=tg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ha(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TB(this,e)}reload(){return IB(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject($o(this.auth));const e=await this.getIdToken();return await Ha(this,CB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,l,c,d;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(o=n.email)!==null&&o!==void 0?o:void 0,w=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,f=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:m,emailVerified:x,isAnonymous:k,providerData:_,stsTokenManager:E}=n;be(m&&E,e,"internal-error");const S=Fi.fromJSON(this.name,E);be(typeof m=="string",e,"internal-error"),jr(u,e.name),jr(p,e.name),be(typeof x=="boolean",e,"internal-error"),be(typeof k=="boolean",e,"internal-error"),jr(w,e.name),jr(f,e.name),jr(b,e.name),jr(y,e.name),jr(v,e.name),jr(g,e.name);const T=new vr({uid:m,auth:e,email:p,emailVerified:x,displayName:u,isAnonymous:k,photoURL:f,phoneNumber:w,tenantId:b,stsTokenManager:S,createdAt:v,lastLoginAt:g});return _&&Array.isArray(_)&&(T.providerData=_.map(N=>Object.assign({},N))),y&&(T._redirectEventId=y),T}static async _fromIdTokenResponse(e,n,r=!1){const o=new Fi;o.updateFromServerResponse(n);const i=new vr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await wu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];be(o.localId!==void 0,"internal-error");const i=o.providerUserInfo!==void 0?$2(o.providerUserInfo):[],s=!(o.email&&o.passwordHash)&&!(i!=null&&i.length),a=new Fi;a.updateFromIdToken(r);const l=new vr({uid:o.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Map;function yr(t){Tr(t instanceof Function,"Expected a class definition");let e=J1.get(t);return e?(Tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}U2.type="NONE";const Z1=U2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t,e,n){return`firebase:${t}:${e}:${n}`}class zi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=wc(this.userKey,o.apiKey,i),this.fullPersistenceKey=wc("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zi(yr(Z1),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=o[0]||yr(Z1);const s=wc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){const u=vr._fromJSON(e,d);c!==i&&(a=u),i=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new zi(i,e,r):(i=l[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new zi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W2(e))return"Blackberry";if(q2(e))return"Webos";if(pg(e))return"Safari";if((e.includes("chrome/")||z2(e))&&!e.includes("edge/"))return"Chrome";if(V2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function F2(t=Pt()){return/firefox\//i.test(t)}function pg(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z2(t=Pt()){return/crios\//i.test(t)}function H2(t=Pt()){return/iemobile/i.test(t)}function V2(t=Pt()){return/android/i.test(t)}function W2(t=Pt()){return/blackberry/i.test(t)}function q2(t=Pt()){return/webos/i.test(t)}function Ed(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PB(t=Pt()){var e;return Ed(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BB(){return eP()&&document.documentMode===10}function K2(t=Pt()){return Ed(t)||V2(t)||q2(t)||W2(t)||/windows phone/i.test(t)||H2(t)}function MB(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e=[]){let n;switch(t){case"Browser":n=Q1(Pt());break;case"Worker":n=`${Q1(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{const l=e(i);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DB(t,e={}){return ws(t,"GET","/v2/passwordPolicy",hg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=6;class UB{constructor(e){var n,r,o,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:$B,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,i,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsLowercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ey(this),this.idTokenSubscription=new ey(this),this.beforeStateQueue=new jB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await zi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await D2(this,{idToken:e}),r=await vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject($o(this));const n=e?rr(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject($o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject($o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DB(this),n=new UB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ul("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await zi.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,o);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Cd(t){return rr(t)}class ey{constructor(e){this.auth=e,this.observer=null,this.addObserver=aP(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zB(t){mg=t}function HB(t){return mg.loadJS(t)}function VB(){return mg.gapiScript}function WB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(t,e){const n=lg(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(vu(i,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function KB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GB(t,e,n){const r=Cd(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,i=Y2(e),{host:s,port:a}=YB(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),XB()}function Y2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YB(t){const e=Y2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:ty(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:ty(s)}}}function ty(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hi(t,e){return SB(t,"POST","/v1/accounts:signInWithIdp",hg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB="http://localhost";class Zo extends X2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,i=tg(n,["providerId","signInMethod"]);if(!r||!o)return null;const s=new Zo(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Hi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hi(e,n)}buildRequest(){const e={requestUri:JB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends gg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends fl{constructor(){super("facebook.com")}static credential(e){return Zo._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zo._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends fl{constructor(){super("github.com")}static credential(e){return Zo._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends fl{constructor(){super("twitter.com")}static credential(e,n){return Zo._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await vr._fromIdTokenResponse(e,r,o),s=ny(r);return new is({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=ny(r);return new is({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function ny(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends Pr{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,xu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new xu(e,n,r,o)}}function J2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?xu._fromErrorAndOperation(t,i,e,r):i})}async function ZB(t,e,n=!1){const r=await Ha(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return is._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QB(t,e,n=!1){const{auth:r}=t;if(mr(r.app))return Promise.reject($o(r));const o="reauthenticate";try{const i=await Ha(t,J2(r,o,e,t),n);be(i.idToken,r,"internal-error");const s=fg(i.idToken);be(s,r,"internal-error");const{sub:a}=s;return be(t.uid===a,r,"user-mismatch"),is._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e,n=!1){if(mr(t.app))return Promise.reject($o(t));const r="signIn",o=await J2(t,r,e),i=await is._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}function tM(t,e,n,r){return rr(t).onIdTokenChanged(e,n,r)}function nM(t,e,n){return rr(t).beforeAuthStateChanged(e,n)}const ku="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ku,"1"),this.storage.removeItem(ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(){const t=Pt();return pg(t)||Ed(t)}const oM=1e3,iM=10;class Q2 extends Z2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=rM()&&MB(),this.fallbackToPolling=K2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);BB()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iM):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q2.type="LOCAL";const sM=Q2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_ extends Z2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}e_.type="SESSION";const t_=e_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Td(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async c=>c(n.origin,i)),l=await aM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,l)=>{const c=vg("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(u){const p=u;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function cM(t){Xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function uM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hM(){return n_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="firebaseLocalStorageDb",fM=1,_u="firebaseLocalStorage",o_="fbase_key";class pl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nd(t,e){return t.transaction([_u],e?"readwrite":"readonly").objectStore(_u)}function pM(){const t=indexedDB.deleteDatabase(r_);return new pl(t).toPromise()}function yp(){const t=indexedDB.open(r_,fM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_u,{keyPath:o_})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_u)?e(r):(r.close(),await pM(),e(await yp()))})})}async function ry(t,e,n){const r=Nd(t,!0).put({[o_]:e,value:n});return new pl(r).toPromise()}async function mM(t,e){const n=Nd(t,!1).get(e),r=await new pl(n).toPromise();return r===void 0?null:r.value}function oy(t,e){const n=Nd(t,!0).delete(e);return new pl(n).toPromise()}const gM=800,vM=3;class i_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Td._getInstance(hM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uM(),!this.activeServiceWorker)return;this.sender=new lM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yp();return await ry(e,ku,"1"),await oy(e,ku),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ry(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=Nd(o,!1).getAll();return new pl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i_.type="LOCAL";const yM=i_;new hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t,e){return e?yr(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends X2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bM(t){return eM(t.auth,new yg(t),t.bypassAuthState)}function wM(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),QB(n,new yg(t),t.bypassAuthState)}async function xM(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),ZB(n,new yg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bM;case"linkViaPopup":case"linkViaRedirect":return xM;case"reauthViaPopup":case"reauthViaRedirect":return wM;default:Qn(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=new hl(2e3,1e4);async function _M(t,e,n){if(mr(t.app))return Promise.reject(Bn(t,"operation-not-supported-in-this-environment"));const r=Cd(t);yB(t,e,gg);const o=s_(r,n);return new Po(r,"signInViaPopup",e,o).executeNotNull()}class Po extends a_{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kM.get())};e()}}Po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="pendingRedirect",xc=new Map;class EM extends a_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xc.get(this.auth._key());if(!e){try{const r=await CM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xc.set(this.auth._key(),e)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CM(t,e){const n=RM(e),r=NM(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function TM(t,e){xc.set(t._key(),e)}function NM(t){return yr(t._redirectPersistence)}function RM(t){return wc(SM,t.config.apiKey,t.name)}async function IM(t,e,n=!1){if(mr(t.app))return Promise.reject($o(t));const r=Cd(t),o=s_(r,e),s=await new EM(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=10*60*1e3;class AM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!l_(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LM&&this.cachedEventUids.clear(),this.cachedEventUids.has(iy(e))}saveEventToCache(e){this.cachedEventUids.add(iy(e)),this.lastProcessedEventTime=Date.now()}}function iy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function l_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,e={}){return ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MM=/^https?/;async function jM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PM(t);for(const n of e)try{if(DM(n))return}catch{}Qn(t,"unauthorized-domain")}function DM(t){const e=gp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!MM.test(n))return!1;if(BM.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new hl(3e4,6e4);function sy(){const t=Xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UM(t){return new Promise((e,n)=>{var r,o,i;function s(){sy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sy(),n(Bn(t,"network-request-failed"))},timeout:$M.get()})}if(!((o=(r=Xn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=Xn().gapi)===null||i===void 0)&&i.load)s();else{const a=WB("iframefcb");return Xn()[a]=()=>{gapi.load?s():n(Bn(t,"network-request-failed"))},HB(`${VB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw kc=null,e})}let kc=null;function FM(t){return kc=kc||UM(t),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=new hl(5e3,15e3),HM="__/auth/iframe",VM="emulator/auth/iframe",WM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KM(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dg(e,VM):`https://${t.config.authDomain}/${HM}`,r={apiKey:e.apiKey,appName:t.name,v:bs},o=qM.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${dl(r).slice(1)}`}async function GM(t){const e=await FM(t),n=Xn().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:KM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WM,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=Bn(t,"network-request-failed"),a=Xn().setTimeout(()=>{i(s)},zM.get());function l(){Xn().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XM=500,JM=600,ZM="_blank",QM="http://localhost";class ay{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ej(t,e,n,r=XM,o=JM){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},YM),{width:r.toString(),height:o.toString(),top:i,left:s}),c=Pt().toLowerCase();n&&(a=z2(c)?ZM:n),F2(c)&&(e=e||QM,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[w,f])=>`${p}${w}=${f},`,"");if(PB(c)&&a!=="_self")return tj(e||"",a),new ay(null);const u=window.open(e||"",a,d);be(u,t,"popup-blocked");try{u.focus()}catch{}return new ay(u)}function tj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="__/auth/handler",rj="emulator/auth/handler",oj=encodeURIComponent("fac");async function ly(t,e,n,r,o,i){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bs,eventId:o};if(e instanceof gg){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",sP(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,u]of Object.entries({}))s[d]=u}if(e instanceof fl){const d=e.getScopes().filter(u=>u!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${oj}=${encodeURIComponent(l)}`:"";return`${ij(t)}?${dl(a).slice(1)}${c}`}function ij({config:t}){return t.emulator?dg(t,rj):`https://${t.authDomain}/${nj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="webStorageSupport";class sj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t_,this._completeRedirectFn=IM,this._overrideRedirectResult=TM}async _openPopup(e,n,r,o){var i;Tr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await ly(e,n,r,gp(),o);return ej(e,s,vg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await ly(e,n,r,gp(),o);return cM(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(Tr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GM(e),r=new AM(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ph,{type:Ph},o=>{var i;const s=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[Ph];s!==void 0&&n(!!s),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return K2()||pg()||Ed()}}const aj=sj;var cy="@firebase/auth",uy="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uj(t){os(new Xo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;be(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G2(t)},c=new FB(r,o,i,l);return KB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),os(new Xo("auth-internal",e=>{const n=Cd(e.getProvider("auth").getImmediate());return(r=>new lj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(cy,uy,cj(t)),ho(cy,uy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=5*60,hj=E2("authIdTokenMaxAge")||dj;let dy=null;const fj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hj)return;const o=n==null?void 0:n.token;dy!==o&&(dy=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pj(t=I2()){const e=lg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qB(t,{popupRedirectResolver:aj,persistence:[yM,sM,t_]}),r=E2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=fj(i.toString());nM(n,s,()=>s(n.currentUser)),tM(n,a=>s(a))}}const o=_2("auth");return o&&GB(n,`http://${o}`),n}function mj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=Bn("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",mj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uj("Browser");var gj="firebase",vj="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho(gj,vj,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="firebasestorage.googleapis.com",u_="storageBucket",yj=2*60*1e3,bj=10*60*1e3,wj=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends Pr{constructor(e,n,r=0){super(Bh(e),`Firebase Storage: ${n} (${Bh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qe||(qe={}));function Bh(t){return"storage/"+t}function bg(){const t="An unknown error occurred, please check the error payload for server response.";return new nt(qe.UNKNOWN,t)}function xj(t){return new nt(qe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function kj(t){return new nt(qe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _j(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nt(qe.UNAUTHENTICATED,t)}function Sj(){return new nt(qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ej(t){return new nt(qe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function d_(){return new nt(qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h_(){return new nt(qe.CANCELED,"User canceled the upload/download.")}function Cj(t){return new nt(qe.INVALID_URL,"Invalid URL '"+t+"'.")}function Tj(t){return new nt(qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Nj(){return new nt(qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+u_+"' property when initializing the app?")}function f_(){return new nt(qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Rj(){return new nt(qe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Ij(){return new nt(qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Lj(t){return new nt(qe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function bp(t){return new nt(qe.INVALID_ARGUMENT,t)}function p_(){return new nt(qe.APP_DELETED,"The Firebase app was deleted.")}function Aj(t){return new nt(qe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ba(t,e){return new nt(qe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vs(t){throw new nt(qe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=sn.makeFromUrl(e,n)}catch{return new sn(e,"")}if(r.path==="")return r;throw Tj(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function i(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+o+s,"i"),l={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const d="v[A-Za-z0-9_]+",u=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",w=new RegExp(`^https?://${u}/${d}/b/${o}/o${p}`,"i"),f={bucket:1,path:3},b=n===c_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",v=new RegExp(`^https?://${b}/${o}/${y}`,"i"),m=[{regex:a,indices:l,postModify:i},{regex:w,indices:f,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<m.length;x++){const k=m[x],_=k.regex.exec(e);if(_){const E=_[k.indices.bucket];let S=_[k.indices.path];S||(S=""),r=new sn(E,S),k.postModify(r);break}}if(r==null)throw Cj(e);return r}}class Oj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t,e,n){let r=1,o=null,i=null,s=!1,a=0;function l(){return a===2}let c=!1;function d(...y){c||(c=!0,e.apply(null,y))}function u(y){o=setTimeout(()=>{o=null,t(w,l())},y)}function p(){i&&clearTimeout(i)}function w(y,...v){if(c){p();return}if(y){p(),d.call(null,y,...v);return}if(l()||s){p(),d.call(null,y,...v);return}r<64&&(r*=2);let m;a===1?(a=2,m=0):m=(r+Math.random())*1e3,u(m)}let f=!1;function b(y){f||(f=!0,p(),!c&&(o!==null?(y||(a=2),clearTimeout(o),u(0)):y||(a=1)))}return u(0),i=setTimeout(()=>{s=!0,b(!0)},n),b}function Bj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){return t!==void 0}function jj(t){return typeof t=="function"}function Dj(t){return typeof t=="object"&&!Array.isArray(t)}function Rd(t){return typeof t=="string"||t instanceof String}function hy(t){return wg()&&t instanceof Blob}function wg(){return typeof Blob<"u"}function fy(t,e,n,r){if(r<e)throw bp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw bp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function m_(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Uo||(Uo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||o||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n,r,o,i,s,a,l,c,d,u,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=u,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,f)=>{this.resolve_=w,this.reject_=f,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Xl(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const a=i.getErrorCode()===Uo.NO_ERROR,l=i.getStatus();if(!a||g_(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Uo.ABORT;r(!1,new Xl(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Xl(c,i))})},n=(r,o)=>{const i=this.resolve_,s=this.reject_,a=o.connection;if(o.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Mj(l)?i(l):i()}catch(l){s(l)}else if(a!==null){const l=bg();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(o.canceled){const l=this.appDelete_?p_():h_();s(l)}else{const l=d_();s(l)}};this.canceled_?n(!1,new Xl(!1,null,!0)):this.backoffId_=Pj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Bj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Uj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Fj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Hj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Vj(t,e,n,r,o,i,s=!0){const a=m_(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return zj(c,e),Uj(c,n),Fj(c,i),Hj(c,r),new $j(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function qj(...t){const e=Wj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(wg())return new Blob(t);throw new nt(qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Kj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){if(typeof atob>"u")throw Lj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mh{constructor(e,n){this.data=e,this.contentType=n||null}}function Yj(t,e){switch(t){case qn.RAW:return new Mh(v_(e));case qn.BASE64:case qn.BASE64URL:return new Mh(y_(t,e));case qn.DATA_URL:return new Mh(Jj(e),Zj(e))}throw bg()}function v_(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,s=t.charCodeAt(++n);r=65536|(i&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Xj(t){let e;try{e=decodeURIComponent(t)}catch{throw ba(qn.DATA_URL,"Malformed data URL.")}return v_(e)}function y_(t,e){switch(t){case qn.BASE64:{const o=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(o||i)throw ba(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case qn.BASE64URL:{const o=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(o||i)throw ba(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Gj(e)}catch(o){throw o.message.includes("polyfill")?o:ba(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class b_{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ba(qn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Qj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Jj(t){const e=new b_(t);return e.base64?y_(qn.BASE64,e.rest):Xj(e.rest)}function Zj(t){return new b_(t).contentType}function Qj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){let r=0,o="";hy(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(hy(this.data_)){const r=this.data_,o=Kj(r,e,n);return o===null?null:new Xr(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xr(r,!0)}}static getBlob(...e){if(wg()){const n=e.map(r=>r instanceof Xr?r.data_:r);return new Xr(qj.apply(null,n))}else{const n=e.map(s=>Rd(s)?Yj(qn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const o=new Uint8Array(r);let i=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)o[i++]=s[a]}),new Xr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){let e;try{e=JSON.parse(t)}catch{return null}return Dj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function t9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function x_(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t,e){return e}class Bt{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||n9}}let Jl=null;function r9(t){return!Rd(t)||t.length<2?t:x_(t)}function k_(){if(Jl)return Jl;const t=[];t.push(new Bt("bucket")),t.push(new Bt("generation")),t.push(new Bt("metageneration")),t.push(new Bt("name","fullPath",!0));function e(i,s){return r9(s)}const n=new Bt("name");n.xform=e,t.push(n);function r(i,s){return s!==void 0?Number(s):s}const o=new Bt("size");return o.xform=r,t.push(o),t.push(new Bt("timeCreated")),t.push(new Bt("updated")),t.push(new Bt("md5Hash",null,!0)),t.push(new Bt("cacheControl",null,!0)),t.push(new Bt("contentDisposition",null,!0)),t.push(new Bt("contentEncoding",null,!0)),t.push(new Bt("contentLanguage",null,!0)),t.push(new Bt("contentType",null,!0)),t.push(new Bt("metadata","customMetadata",!0)),Jl=t,Jl}function o9(t,e){function n(){const r=t.bucket,o=t.fullPath,i=new sn(r,o);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function i9(t,e,n){const r={};r.type="file";const o=n.length;for(let i=0;i<o;i++){const s=n[i];r[s.local]=s.xform(r,e[s.server])}return o9(r,t),r}function __(t,e,n){const r=w_(e);return r===null?null:i9(t,r,n)}function s9(t,e,n,r){const o=w_(e);if(o===null||!Rd(o.downloadTokens))return null;const i=o.downloadTokens;if(i.length===0)return null;const s=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,u=t.fullPath,p="/b/"+s(d)+"/o/"+s(u),w=ml(p,n,r),f=m_({alt:"media",token:c});return w+f})[0]}function S_(t,e){const n={},r=e.length;for(let o=0;o<r;o++){const i=e[o];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class xs{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t){if(!t)throw bg()}function xg(t,e){function n(r,o){const i=__(t,o,e);return xr(i!==null),i}return n}function a9(t,e){function n(r,o){const i=__(t,o,e);return xr(i!==null),s9(i,o,t.host,t._protocol)}return n}function gl(t){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=Sj():o=_j():n.getStatus()===402?o=kj(t.bucket):n.getStatus()===403?o=Ej(t.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function E_(t){const e=gl(t);function n(r,o){let i=e(r,o);return r.getStatus()===404&&(i=xj(t.path)),i.serverResponse=o.serverResponse,i}return n}function l9(t,e,n){const r=e.fullServerUrl(),o=ml(r,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,a=new xs(o,i,xg(t,n),s);return a.errorHandler=E_(e),a}function c9(t,e,n){const r=e.fullServerUrl(),o=ml(r,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,a=new xs(o,i,a9(t,n),s);return a.errorHandler=E_(e),a}function u9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function C_(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=u9(null,e)),r}function d9(t,e,n,r,o){const i=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let m="";for(let x=0;x<2;x++)m=m+Math.random().toString().slice(2);return m}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=C_(e,r,o),d=S_(c,n),u="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",w=Xr.getBlob(u,r,p);if(w===null)throw f_();const f={name:c.fullPath},b=ml(i,t.host,t._protocol),y="POST",v=t.maxUploadRetryTime,g=new xs(b,y,xg(t,n),v);return g.urlParams=f,g.headers=s,g.body=w.uploadData(),g.errorHandler=gl(e),g}class Su{constructor(e,n,r,o){this.current=e,this.total=n,this.finalized=!!r,this.metadata=o||null}}function kg(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{xr(!1)}return xr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function h9(t,e,n,r,o){const i=e.bucketOnlyServerUrl(),s=C_(e,r,o),a={name:s.fullPath},l=ml(i,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=S_(s,n),p=t.maxUploadRetryTime;function w(b){kg(b);let y;try{y=b.getResponseHeader("X-Goog-Upload-URL")}catch{xr(!1)}return xr(Rd(y)),y}const f=new xs(l,c,w,p);return f.urlParams=a,f.headers=d,f.body=u,f.errorHandler=gl(e),f}function f9(t,e,n,r){const o={"X-Goog-Upload-Command":"query"};function i(c){const d=kg(c,["active","final"]);let u=null;try{u=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{xr(!1)}u||xr(!1);const p=Number(u);return xr(!isNaN(p)),new Su(p,r.size(),d==="final")}const s="POST",a=t.maxUploadRetryTime,l=new xs(n,s,i,a);return l.headers=o,l.errorHandler=gl(e),l}const py=256*1024;function p9(t,e,n,r,o,i,s,a){const l=new Su(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw Rj();const c=l.total-l.current;let d=c;o>0&&(d=Math.min(d,o));const u=l.current,p=u+d;let w="";d===0?w="finalize":c===d?w="upload, finalize":w="upload";const f={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${l.current}`},b=r.slice(u,p);if(b===null)throw f_();function y(x,k){const _=kg(x,["active","final"]),E=l.current+d,S=r.size();let T;return _==="final"?T=xg(e,i)(x,k):T=null,new Su(E,S,_==="final",T)}const v="POST",g=e.maxUploadRetryTime,m=new xs(n,v,y,g);return m.headers=f,m.body=b.uploadData(),m.progressCallback=a||null,m.errorHandler=gl(t),m}const qt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jh(t){switch(t){case"running":case"pausing":case"canceling":return qt.RUNNING;case"paused":return qt.PAUSED;case"success":return qt.SUCCESS;case"canceled":return qt.CANCELED;case"error":return qt.ERROR;default:return qt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r){if(jj(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class g9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Uo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Uo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o){if(this.sent_)throw Vs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const i in o)o.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,o[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class v9 extends g9{initXhr(){this.xhr_.responseType="text"}}function gi(){return new v9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=k_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(qe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(g_(o.status,[]))if(i)o=d_();else{this.sleepTime=Math.max(this.sleepTime*2,wj),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(qe.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,i)=>{this._resolve=o,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=h9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,gi,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const o=f9(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(o,gi,n,r);this._request=i,i.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=py*this._chunkMultiplier,n=new Su(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,i)=>{let s;try{s=p9(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(s,gi,o,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){py*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=l9(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,gi,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=d9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,gi,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=h_(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=jh(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,o){const i=new m9(n||void 0,r||void 0,o||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(jh(this._state)){case qt.SUCCESS:fi(this._resolve.bind(null,this.snapshot))();break;case qt.CANCELED:case qt.ERROR:const n=this._reject;fi(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(jh(this._state)){case qt.RUNNING:case qt.PAUSED:e.next&&fi(e.next.bind(e,this.snapshot))();break;case qt.SUCCESS:e.complete&&fi(e.complete.bind(e))();break;case qt.CANCELED:case qt.ERROR:e.error&&fi(e.error.bind(e,this._error))();break;default:e.error&&fi(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this._service=e,n instanceof sn?this._location=n:this._location=sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qo(e,n)}get root(){const e=new sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return x_(this._location.path)}get storage(){return this._service}get parent(){const e=e9(this._location.path);if(e===null)return null;const n=new sn(this._location.bucket,e);return new Qo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Aj(e)}}function b9(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new y9(t,new Xr(e),n)}function w9(t){t._throwIfRoot("getDownloadURL");const e=c9(t.storage,t._location,k_());return t.storage.makeRequestWithTokens(e,gi).then(n=>{if(n===null)throw Ij();return n})}function x9(t,e){const n=t9(t._location.path,e),r=new sn(t._location.bucket,n);return new Qo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t){return/^[A-Za-z]+:\/\//.test(t)}function _9(t,e){return new Qo(t,e)}function T_(t,e){if(t instanceof _g){const n=t;if(n._bucket==null)throw Nj();const r=new Qo(n,n._bucket);return e!=null?T_(r,e):r}else return e!==void 0?x9(t,e):t}function S9(t,e){if(e&&k9(e)){if(t instanceof _g)return _9(t,e);throw bp("To use ref(service, url), the first argument must be a Storage instance.")}else return T_(t,e)}function my(t,e){const n=e==null?void 0:e[u_];return n==null?null:sn.makeFromBucketSpec(n,t)}function E9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:XO(o,t.app.options.projectId))}class _g{constructor(e,n,r,o,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=i,this._bucket=null,this._host=c_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yj,this._maxUploadRetryTime=bj,this._requests=new Set,o!=null?this._bucket=sn.makeFromBucketSpec(o,this._host):this._bucket=my(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sn.makeFromBucketSpec(this._url,e):this._bucket=my(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qo(this,e)}_makeRequest(e,n,r,o,i=!0){if(this._deleted)return new Oj(p_());{const s=Vj(e,this._appId,r,o,n,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const gy="@firebase/storage",vy="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="storage";function Sg(t,e,n){return t=rr(t),b9(t,e,n)}function Eg(t){return t=rr(t),w9(t)}function Cg(t,e){return t=rr(t),S9(t,e)}function C9(t=I2(),e){t=rr(t);const r=lg(t,N_).getImmediate({identifier:e}),o=GO("storage");return o&&T9(r,...o),r}function T9(t,e,n,r={}){E9(t,e,n,r)}function N9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new _g(n,r,o,e,bs)}function R9(){os(new Xo(N_,N9,"PUBLIC").setMultipleInstances(!0)),ho(gy,vy,""),ho(gy,vy,"esm2017")}R9();const I9={apiKey:"AIzaSyBSqWyzcs6jwp5IJR8hz9-4LgRvZvw0gMU",authDomain:"blognotes-f43cd.firebaseapp.com",projectId:"blognotes-f43cd",storageBucket:"blognotes-f43cd.appspot.com",messagingSenderId:"675449787588",appId:"1:675449787588:web:ca55e7f0b3b57042e0a591"},R_=R2(I9),L9=pj(R_),Tg=C9(R_);function yy({type:t}){const{register:e,handleSubmit:n,formState:{errors:r},reset:o}=_d(),[i,s]=R.useState(!1),[a,l]=J(pt),[c,d]=J(Le),[u,p]=J(Sn);R.useEffect(()=>{const _=U6("user");_&&l(JSON.parse(_))},[l]),R.useEffect(()=>{o(),window.scrollTo({top:0,behavior:"smooth"})},[t,o]);const w=(_,E)=>{ve.post(`https://blognotes-server.onrender.com/api/auth${_}`,E).then(({data:S})=>{D6("user",JSON.stringify(S)),l(S)}).catch(({response:S})=>{ce.error(S.data.error)})},f=new dr,b=async()=>{let _=null;try{_=(await _M(L9,f)).user}catch(E){console.error("Error during GitHub authentication:",E)}return _},y=_=>{_.preventDefault(),b().then(E=>{const S="/github_auth",T={access_token:E.accessToken};w(S,T)}).catch(E=>{ce.error("Trouble Using GitHub"),console.error(E)})},v=_=>{const{fullname:E,email:S,password:T}=_,N=t==="signin"?"/signin":"/signup";if(t==="signup"&&E&&E.length<3)return ce.error("Full name must be at least 3 characters long.");if(!S)return ce.error("Email is required.");if(!m.test(S))return ce.error("Invalid email format. Please provide a valid email address.");if(!x.test(T))return ce.error("Password must be 6 to 20 characters long, and include at least one numeric digit, one uppercase letter, and one lowercase letter.");w(N,_),o()},g=()=>{s(!i)},m=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,x=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/,k=()=>h.jsx(h.Fragment,{children:h.jsxs("div",{className:"w-full flex flex-col gap-4",children:[h.jsxs("div",{className:"flex items-center px-4 rounded-lg border border-gray-300 shadow-sm",children:[h.jsx(Y8,{size:25,className:"text-gray-600"}),h.jsx("input",{type:"email",placeholder:"Email",className:"p-2 w-full rounded-lg outline-none bg-transparent",...e("email")})]}),h.jsxs("div",{className:"flex items-center justify-between px-4 rounded-lg border border-gray-300 shadow-sm",children:[h.jsx(Fa,{size:25,className:"text-gray-600"}),h.jsx("div",{className:"w-full",children:h.jsx("input",{type:i?"text":"password",placeholder:"Password",className:"p-2 w-full rounded-lg outline-none bg-transparent",...e("password")})}),h.jsx("div",{className:"flex items-center p-2 cursor-pointer",onClick:g,children:i?h.jsx(ap,{size:20,className:"text-gray-600"}):h.jsx(sp,{size:20,className:"text-gray-600"})})]})]})});return a.access_token?h.jsx(ux,{to:"/"}):h.jsxs("div",{className:"w-full p-5 flex flex-col justify-center h-fit items-center",style:{minHeight:`calc(100vh - ${u}px)`},children:[h.jsxs("div",{className:`w-full max-w-sm p-8 rounded-lg shadow-lg ${c?"bg-[#282828]":"bg-white"}`,children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold mb-2",children:t==="signin"?"Welcome Back!":"Join Us!"}),h.jsx("h2",{className:"text-lg",children:t==="signin"?"Log in to continue where you left off.":"Create an account to start exploring and join the community."})]}),h.jsxs("form",{className:"flex flex-col gap-4 items-center",onSubmit:n(v),children:[t==="signup"&&h.jsxs("div",{className:"flex items-center px-4 w-full rounded-lg border border-gray-300 shadow-sm",children:[h.jsx(G8,{size:25,className:"text-gray-600"}),h.jsx("input",{placeholder:"Full Name",className:"p-2 w-full rounded-lg outline-none bg-transparent",...e("fullname")})]}),k(),h.jsx("input",{type:"submit",className:`px-4 py-2 w-fit rounded-full cursor-pointer bg-gray-400 ${Re(c)}`,value:t==="signin"?"Sign In":"Sign Up"})]}),h.jsx("div",{className:"text-center my-4",children:"Or"}),h.jsx("div",{className:"flex justify-center",children:h.jsxs("button",{className:`flex gap-2 px-4 py-2 w-fit rounded-full cursor-pointer ${Re(c)}`,onClick:y,children:[h.jsx(Ym,{size:24}),"Use GitHub"]})}),h.jsx("div",{className:"text-center mt-6",children:t==="signin"?h.jsxs("p",{children:["Don't have an account?"," ",h.jsx(Xe,{to:"/register",className:"text-blue-500 underline",onClick:()=>o(),children:"Create New Account"})]}):h.jsxs("p",{children:["Already have an account?"," ",h.jsx(Xe,{to:"/login",className:"text-blue-500 underline",onClick:()=>o(),children:"Log In"})]})}),h.jsxs("div",{className:"mt-5 flex flex-col items-center gap-2",children:[h.jsx("img",{src:c?gs:ms,className:"max-h-14 w-fit",alt:"Logo"}),h.jsx("h1",{children:'"Explore, Learn, and Share"'})]})]}),h.jsx(Or,{position:"top-center"})]})}const I_="/BlogNotes/assets/BlogNotes%20Banner-uymYqRd0.png";(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var A9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Id(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Dh(){}Object.assign(Dh,{default:Dh,register:Dh,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,c=i&&!s;(i||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(i||s||a||l)&&!t&&this.scrollIntoView(c)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let O9=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var L_=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(L_||{});const we={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},P9={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function vl(t,e,n="log",r,o="color: inherit"){if(!("console"in window)||!window.console[n])return;const i=["info","log","warn","error"].includes(n),s=[];switch(vl.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!i||t)return;break}r&&s.push(r);const a="Editor.js 2.30.6";t&&(i?(s.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,o),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{i?r?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}vl.logLevel="VERBOSE";function B9(t){vl.logLevel=t}const Me=vl.bind(window,!1),vn=vl.bind(window,!0);function ei(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Qe(t){return ei(t)==="function"||ei(t)==="asyncfunction"}function Tt(t){return ei(t)==="object"}function Nr(t){return ei(t)==="string"}function M9(t){return ei(t)==="boolean"}function by(t){return ei(t)==="number"}function wy(t){return ei(t)==="undefined"}function kn(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function A_(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function j9(t,e=()=>{},n=()=>{}){async function r(o,i,s){try{await o.function(o.data),await i(wy(o.data)?{}:o.data)}catch{s(wy(o.data)?{}:o.data)}}return t.reduce(async(o,i)=>(await o,r(i,e,n)),Promise.resolve())}function O_(t){return Array.prototype.slice.call(t)}function Eu(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function D9(t){return t.name.split(".").pop()}function $9(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function xy(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=null,t.apply(i,o)};window.clearTimeout(r),r=window.setTimeout(s,e)}}function wp(t,e,n=void 0){let r,o,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s||(r=o=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const d=e-(c-a);return r=this,o=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),a=c,i=t.apply(r,o),s||(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,d)),i}}function U9(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function Cu(t){return t[0].toUpperCase()+t.slice(1)}function xp(t,...e){if(!e.length)return t;const n=e.shift();if(Tt(t)&&Tt(n))for(const r in n)Tt(n[r])?(t[r]||Object.assign(t,{[r]:{}}),xp(t[r],n[r])):Object.assign(t,{[r]:n[r]});return xp(t,...e)}function Ng(t){const e=U9();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function F9(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function z9(){return O9(10)}function H9(t){window.open(t,"_blank")}function V9(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function kp(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&vn(r,"warn")}function ks(t,e,n){const r=n.value?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,...s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}const P_=650;function _s(){return window.matchMedia(`(max-width: ${P_}px)`).matches}const _p=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function W9(t,e){const n=Array.isArray(t)||Tt(t),r=Array.isArray(e)||Tt(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}let F=class jt{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const o=document.createElement(e);if(Array.isArray(n)){const i=n.filter(s=>s!==void 0);o.classList.add(...i)}else n&&o.classList.add(n);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);return o}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,n),o.insertBefore(n,r),o.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return O_(e.querySelectorAll(jt.allInputsSelector)).reduce((n,r)=>jt.isNativeInput(r)||jt.containsOnlyInlineElements(r)?[...n,r]:[...n,...jt.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",o=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let i=e[r];if(jt.isSingleTag(i)&&!jt.isNativeInput(i)&&!jt.isLineBreakTag(i))if(i[o])i=i[o];else if(i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return this.getDeepestNode(i,n)}return e}static isElement(e){return by(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return by(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(jt.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=jt.isContentEditable(e);return n}static isNodeEmpty(e,n){let r;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?r=e.value:r=e.textContent.replace("",""),n&&(r=r.replace(new RegExp(n,"g"),"")),r.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,n){e.normalize();const r=[e];for(;r.length>0;)if(e=r.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,n))return!1;e.childNodes&&r.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=jt.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return jt.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;Nr(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=o=>!jt.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return jt.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...jt.getDeepestBlockElements(r)],[])}static getHolder(e){return Nr(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=n.top+o,s=n.left+r;return{top:i,left:s,bottom:i+n.height,right:s+n.width}}};function q9(t){return!/[^\t\n\r ]/.test(t)}function K9(t){const e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,o=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=n*.8,l=(r-n)/2;return s+i+o+l+a}function B_(t){t.dataset.empty=F.isEmpty(t)?"true":"false"}const G9={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},Y9={Text:"",Link:"",Bold:"",Italic:""},X9={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},J9={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},M_={ui:G9,toolNames:Y9,tools:X9,blockTunes:J9},j_=class vi{static ui(e,n){return vi._t(e,n)}static t(e,n){return vi._t(e,n)}static setDictionary(e){vi.currentDictionary=e}static _t(e,n){const r=vi.getNamespace(e);return!r||!r[n]?n:r[n]}static getNamespace(e){return e.split(".").reduce((n,r)=>!n||!Object.keys(n).length?{}:n[r],vi.currentDictionary)}};j_.currentDictionary=M_;let Ut=j_,D_=class extends Error{};class yl{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=o=>{const i=n(o),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(r)}emit(e,n){kn(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{const i=o(r);return i!==void 0?i:r},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}}function lr(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},get focusable(){return t.focusable},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()},getActiveToolboxEntry(){return t.getActiveToolboxEntry()}})}class bl{constructor(){this.allListeners=[]}on(e,n,r,o=!1){const i=V9("l"),s={id:i,element:e,eventType:n,handler:r,options:o};if(!this.findOne(e,n,r))return this.allListeners.push(s),e.addEventListener(n,r,o),i}off(e,n,r,o){const i=this.findAll(e,n,r);i.forEach((s,a)=>{const l=this.allListeners.indexOf(i[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const o=this.findAll(e,n,r);return o.length>0?o[0]:null}findAll(e,n,r){let o;const i=e?this.findByEventTarget(e):[];return e&&n&&r?o=i.filter(s=>s.eventType===n&&s.handler===r):e&&n?o=i.filter(s=>s.eventType===n):o=i,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}let Oe=class $_{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new bl,this.readOnlyMutableListeners={on:(r,o,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,i,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===$_)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},pe=class Dr{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?F.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(Dr.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${Dr.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${Dr.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!Dr.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return Me("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return Me("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("")),n.insertNode(o),r=o.getBoundingClientRect();const i=o.parentNode;i.removeChild(o),i.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),o=window.getSelection();return F.isNativeInput(e)?F.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=Dr.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=Dr.range;if(e===null)return;const n=F.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return F.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=F.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=Dr.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const o=window.getSelection();let i=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===e&&(i=s,n&&s.classList&&!s.classList.contains(n)&&(i=null),i));)s=s.parentNode,a--}),i)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}};function Z9(t,e){const{type:n,target:r,addedNodes:o,removedNodes:i}=t;return t.type==="attributes"&&t.attributeName==="data-empty"?!1:!!(e.contains(r)||n==="childList"&&(Array.from(o).some(s=>s===e)||Array.from(i).some(s=>s===e)))}const Sp="redactor dom changed",U_="block changed",F_="fake cursor is about to be toggled",z_="fake cursor have been set",Va="editor mobile layout toggled";function Ep(t,e){if(!t.conversionConfig)return!1;const n=t.conversionConfig[e];return Qe(n)||Nr(n)}function Tu(t,e){return Ep(t.tool,e)}function H_(t,e){return Object.entries(t).some(([n,r])=>e[n]&&W9(e[n],r))}async function V_(t,e){const n=(await t.save()).data,r=e.find(o=>o.name===t.name);return r!==void 0&&!Ep(r,"export")?[]:e.reduce((o,i)=>{if(!Ep(i,"import")||i.toolbox===void 0)return o;const s=i.toolbox.filter(a=>{if(kn(a)||a.icon===void 0)return!1;if(a.data!==void 0){if(H_(a.data,n))return!1}else if(i.name===t.name)return!1;return!0});return o.push({...i,toolbox:s}),o},[])}function ky(t,e){return t.mergeable?t.name===e.name?!0:Tu(e,"export")&&Tu(t,"import"):!1}function Q9(t,e){const n=e==null?void 0:e.export;return Qe(n)?n(t):Nr(n)?t[n]:(n!==void 0&&Me("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function _y(t,e){const n=e==null?void 0:e.import;return Qe(n)?n(t):Nr(n)?{[n]:t}:(n!==void 0&&Me("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var Ge=(t=>(t.Default="default",t.Separator="separator",t.Html="html",t))(Ge||{}),ur=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(ur||{});let br=class $r extends yl{constructor({id:e=z9(),data:n,tool:r,readOnly:o,tunesData:i},s){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(a=void 0)=>{const l=a===void 0,c=a instanceof InputEvent;!l&&!c&&this.detectToolRootChange(a);let d;l||c?d=!0:d=!(a.length>0&&a.every(u=>{const{addedNodes:p,removedNodes:w,target:f}=u;return[...Array.from(p),...Array.from(w),f].some(b=>(F.isElement(b)||(b=b.parentElement),b&&b.closest('[data-mutation-free="true"]')!==null))})),d&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.editorEventBus=s||null,this.blockAPI=new lr(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,o),this.tunes=r.tunes,this.composeTunes(i),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=F.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!kn(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return Qe(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=F.isEmpty(this.pluginsContent,"/"),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var n,r;this.holder.classList.toggle($r.CSS.selected,e);const o=e===!0&&pe.isRangeInsideContainer(this.holder),i=e===!1&&pe.isFakeCursorInsideContainer(this.holder);(o||i)&&((n=this.editorEventBus)==null||n.emit(F_,{state:e}),o?pe.addFakeCursor():pe.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(z_,{state:e}))}get selected(){return this.holder.classList.contains($r.CSS.selected)}set stretched(e){this.holder.classList.toggle($r.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains($r.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle($r.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(Qe(this.toolInstance[e])){e==="appendCallback"&&Me("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){Me(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(Qe(s.save))try{n[i]=s.save()}catch(a){Me(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let o;return Promise.resolve(e).then(i=>(o=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:n,time:o-r})).catch(i=>{Me(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=[],n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return F.isElement(r)?e.push({type:Ge.Html,element:r}):Array.isArray(r)?e.push(...r):e.push(r),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(o=>o.render()).forEach(o=>{F.isElement(o)?n.push({type:Ge.Html,element:o}):Array.isArray(o)?n.push(...o):n.push(o)}),{toolTunes:e,commonTunes:n}}updateCurrentInput(){this.currentInput=F.isNativeInput(document.activeElement)||!pe.anchorNode?document.activeElement:pe.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),Qe(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data,r=e;return r==null?void 0:r.find(o=>H_(o.data,n))}async exportDataAsString(){const e=await this.data;return Q9(e,this.tool.conversionConfig)}compose(){const e=F.make("div",$r.CSS.wrapper),n=F.make("div",$r.CSS.content),r=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let o=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(Qe(i.wrap))try{o=i.wrap(o)}catch(s){Me(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),F.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),F.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(o=>Z9(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(Sp,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Sp,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(B_)}};class e7 extends Oe{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},o,i,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:o,needToFocus:i,replace:s});return new lr(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new br({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n,r)=>{const{BlockManager:o}=this.Editor,i=o.getBlockById(e);if(i===void 0)throw new Error(`Block with id "${e}" not found`);const s=await o.update(i,n,r);return new lr(s)},this.convert=async(e,n,r)=>{var o,i;const{BlockManager:s,Tools:a}=this.Editor,l=s.getBlockById(e);if(!l)throw new Error(`Block with id "${e}" not found`);const c=a.blockTools.get(l.name),d=a.blockTools.get(n);if(!d)throw new Error(`Block Tool with type "${n}" not found`);const u=((o=c==null?void 0:c.conversionConfig)==null?void 0:o.export)!==void 0,p=((i=d.conversionConfig)==null?void 0:i.import)!==void 0;if(u&&p){const w=await s.convert(l,n,r);return new lr(w)}else{const w=[u?!1:Cu(l.name),p?!1:Cu(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${n}" is not possible. ${w} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const r=e.map(({id:o,type:i,data:s})=>this.Editor.BlockManager.composeBlock({id:o,tool:i||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(r,n),r.map(o=>new lr(o))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){vn("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){vn("There is no block at index `"+e+"`","warn");return}return new lr(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(vn("There is no block with id `"+e+"`","warn"),null):new lr(n)}getBlockByElement(e){const n=this.Editor.BlockManager.getBlock(e);if(n===void 0){vn("There is no block corresponding to element `"+e+"`","warn");return}return new lr(n)}swap(e,n){Me("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){vn(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){kp(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){Me("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}function t7(t,e){return typeof t=="number"?e.BlockManager.getBlockByIndex(t):typeof t=="string"?e.BlockManager.getBlockById(t):e.BlockManager.getBlockById(t.id)}class n7 extends Oe{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>{const o=t7(e,this.Editor);return o===void 0?!1:(this.Editor.Caret.setToBlock(o,n,r),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class r7 extends Oe{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}let o7=class W_ extends Oe{static getNamespace(e,n){return n?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{vn("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,n){return Object.assign(this.methods,{t:r=>Ut.t(W_.getNamespace(e,n),r)})}};class i7 extends Oe{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,n){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,n)})}}class s7 extends Oe{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class a7 extends Oe{get methods(){return{on:(e,n,r,o)=>this.on(e,n,r,o),off:(e,n,r,o)=>this.off(e,n,r,o),offById:e=>this.offById(e)}}on(e,n,r,o){return this.listeners.on(e,n,r,o)}off(e,n,r,o){this.listeners.off(e,n,r,o)}offById(e){this.listeners.offById(e)}}var q_={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=0)}([function(n,r,o){o(1),n.exports=function(){var i=o(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=i.getWrapper(),document.body.appendChild(a)})();var c=null,d=l.time||8e3;switch(l.type){case"confirm":c=i.confirm(l);break;case"prompt":c=i.prompt(l);break;default:c=i.alert(l),window.setTimeout(function(){c.remove()},d)}a.appendChild(c),c.classList.add(s)}}}}()},function(n,r,o){var i=o(2);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(4)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var d=l[1]||"",u=l[3];if(!u)return d;if(c&&typeof btoa=="function"){var p=(f=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(f))))+" */"),w=u.sources.map(function(b){return"/*# sourceURL="+u.sourceRoot+b+" */"});return[d].concat(w).concat([p]).join(`
`)}var f;return[d].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<s.length;c++){var u=s[c];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),i.push(u))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(S){var T={};return function(N){if(typeof N=="function")return N();if(T[N]===void 0){var z=(function(D){return document.querySelector(D)}).call(this,N);if(window.HTMLIFrameElement&&z instanceof window.HTMLIFrameElement)try{z=z.contentDocument.head}catch{z=null}T[N]=z}return T[N]}}(),d=null,u=0,p=[],w=o(5);function f(S,T){for(var N=0;N<S.length;N++){var z=S[N],D=a[z.id];if(D){D.refs++;for(var A=0;A<D.parts.length;A++)D.parts[A](z.parts[A]);for(;A<z.parts.length;A++)D.parts.push(x(z.parts[A],T))}else{var j=[];for(A=0;A<z.parts.length;A++)j.push(x(z.parts[A],T));a[z.id]={id:z.id,refs:1,parts:j}}}}function b(S,T){for(var N=[],z={},D=0;D<S.length;D++){var A=S[D],j=T.base?A[0]+T.base:A[0],H={css:A[1],media:A[2],sourceMap:A[3]};z[j]?z[j].parts.push(H):N.push(z[j]={id:j,parts:[H]})}return N}function y(S,T){var N=c(S.insertInto);if(!N)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var z=p[p.length-1];if(S.insertAt==="top")z?z.nextSibling?N.insertBefore(T,z.nextSibling):N.appendChild(T):N.insertBefore(T,N.firstChild),p.push(T);else if(S.insertAt==="bottom")N.appendChild(T);else{if(typeof S.insertAt!="object"||!S.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var D=c(S.insertInto+" "+S.insertAt.before);N.insertBefore(T,D)}}function v(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S);var T=p.indexOf(S);T>=0&&p.splice(T,1)}function g(S){var T=document.createElement("style");return S.attrs.type===void 0&&(S.attrs.type="text/css"),m(T,S.attrs),y(S,T),T}function m(S,T){Object.keys(T).forEach(function(N){S.setAttribute(N,T[N])})}function x(S,T){var N,z,D,A;if(T.transform&&S.css){if(!(A=T.transform(S.css)))return function(){};S.css=A}if(T.singleton){var j=u++;N=d||(d=g(T)),z=E.bind(null,N,j,!1),D=E.bind(null,N,j,!0)}else S.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(N=function(H){var X=document.createElement("link");return H.attrs.type===void 0&&(H.attrs.type="text/css"),H.attrs.rel="stylesheet",m(X,H.attrs),y(H,X),X}(T),z=(function(H,X,ue){var $=ue.css,Q=ue.sourceMap,U=X.convertToAbsoluteUrls===void 0&&Q;(X.convertToAbsoluteUrls||U)&&($=w($)),Q&&($+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(Q))))+" */");var ee=new Blob([$],{type:"text/css"}),I=H.href;H.href=URL.createObjectURL(ee),I&&URL.revokeObjectURL(I)}).bind(null,N,T),D=function(){v(N),N.href&&URL.revokeObjectURL(N.href)}):(N=g(T),z=(function(H,X){var ue=X.css,$=X.media;if($&&H.setAttribute("media",$),H.styleSheet)H.styleSheet.cssText=ue;else{for(;H.firstChild;)H.removeChild(H.firstChild);H.appendChild(document.createTextNode(ue))}}).bind(null,N),D=function(){v(N)});return z(S),function(H){if(H){if(H.css===S.css&&H.media===S.media&&H.sourceMap===S.sourceMap)return;z(S=H)}else D()}}n.exports=function(S,T){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(T=T||{}).attrs=typeof T.attrs=="object"?T.attrs:{},T.singleton||typeof T.singleton=="boolean"||(T.singleton=l()),T.insertInto||(T.insertInto="head"),T.insertAt||(T.insertAt="bottom");var N=b(S,T);return f(N,T),function(z){for(var D=[],A=0;A<N.length;A++){var j=N[A];(H=a[j.id]).refs--,D.push(H)}for(z&&f(b(z,T),T),A=0;A<D.length;A++){var H;if((H=D[A]).refs===0){for(var X=0;X<H.parts.length;X++)H.parts[X]();delete a[H.id]}}}};var k,_=(k=[],function(S,T){return k[S]=T,k.filter(Boolean).join(`
`)});function E(S,T,N,z){var D=N?"":z.css;if(S.styleSheet)S.styleSheet.cssText=_(T,D);else{var A=document.createTextNode(D),j=S.childNodes;j[T]&&S.removeChild(j[T]),j.length?S.insertBefore(A,j[T]):S.appendChild(A)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,u=c.trim().replace(/^"(.*)"$/,function(p,w){return w}).replace(/^'(.*)'$/,function(p,w){return w});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(d=u.indexOf("//")===0?u:u.indexOf("/")===0?s+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(n,r,o){var i,s,a,l,c,d,u,p,w;n.exports=(i="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",d="cdx-notify__input",u="cdx-notify__button",p="cdx-notify__btns-wrapper",{alert:w=function(f){var b=document.createElement("DIV"),y=document.createElement("DIV"),v=f.message,g=f.style;return b.classList.add(s),g&&b.classList.add(s+"--"+g),b.innerHTML=v,y.classList.add(a),y.addEventListener("click",b.remove.bind(b)),b.appendChild(y),b},confirm:function(f){var b=w(f),y=document.createElement("div"),v=document.createElement("button"),g=document.createElement("button"),m=b.querySelector("."+a),x=f.cancelHandler,k=f.okHandler;return y.classList.add(p),v.innerHTML=f.okText||"Confirm",g.innerHTML=f.cancelText||"Cancel",v.classList.add(u),g.classList.add(u),v.classList.add(l),g.classList.add(c),x&&typeof x=="function"&&(g.addEventListener("click",x),m.addEventListener("click",x)),k&&typeof k=="function"&&v.addEventListener("click",k),v.addEventListener("click",b.remove.bind(b)),g.addEventListener("click",b.remove.bind(b)),y.appendChild(v),y.appendChild(g),b.appendChild(y),b},prompt:function(f){var b=w(f),y=document.createElement("div"),v=document.createElement("button"),g=document.createElement("input"),m=b.querySelector("."+a),x=f.cancelHandler,k=f.okHandler;return y.classList.add(p),v.innerHTML=f.okText||"Ok",v.classList.add(u),v.classList.add(l),g.classList.add(d),f.placeholder&&g.setAttribute("placeholder",f.placeholder),f.default&&(g.value=f.default),f.inputType&&(g.type=f.inputType),x&&typeof x=="function"&&m.addEventListener("click",x),k&&typeof k=="function"&&v.addEventListener("click",function(){k(g.value)}),v.addEventListener("click",b.remove.bind(b)),y.appendChild(g),y.appendChild(v),b.appendChild(y),b},getWrapper:function(){var f=document.createElement("DIV");return f.classList.add(i),f}})}])})})(q_);var l7=q_.exports;const c7=Id(l7);class u7{show(e){c7.show(e)}}class d7 extends Oe{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new u7}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class h7 extends Oe{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var K_={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(A9,function(){function n(u){var p=u.tags,w=Object.keys(p),f=w.map(function(b){return typeof p[b]}).every(function(b){return b==="object"||b==="boolean"||b==="function"});if(!f)throw new Error("The configuration was invalid");this.config=u}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(u){return r.indexOf(u.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(u){return i.indexOf(u.nodeName)!==-1}n.prototype.clean=function(u){const p=document.implementation.createHTMLDocument(),w=p.createElement("div");return w.innerHTML=u,this._sanitize(p,w),w.innerHTML},n.prototype._sanitize=function(u,p){var w=a(u,p),f=w.firstChild();if(f)do{if(f.nodeType===Node.TEXT_NODE)if(f.data.trim()===""&&(f.previousElementSibling&&o(f.previousElementSibling)||f.nextElementSibling&&o(f.nextElementSibling))){p.removeChild(f),this._sanitize(u,p);break}else continue;if(f.nodeType===Node.COMMENT_NODE){p.removeChild(f),this._sanitize(u,p);break}var b=s(f),y;b&&(y=Array.prototype.some.call(f.childNodes,o));var v=!!p.parentNode,g=o(p)&&o(f)&&v,m=f.nodeName.toLowerCase(),x=l(this.config,m,f),k=b&&y;if(k||c(f,x)||!this.config.keepNestedBlockElements&&g){if(!(f.nodeName==="SCRIPT"||f.nodeName==="STYLE"))for(;f.childNodes.length>0;)p.insertBefore(f.childNodes[0],f);p.removeChild(f),this._sanitize(u,p);break}for(var _=0;_<f.attributes.length;_+=1){var E=f.attributes[_];d(E,x,f)&&(f.removeAttribute(E.name),_=_-1)}this._sanitize(u,f)}while(f=w.nextSibling())};function a(u,p){return u.createTreeWalker(p,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(u,p,w){return typeof u.tags[p]=="function"?u.tags[p](w):u.tags[p]}function c(u,p){return typeof p>"u"?!0:typeof p=="boolean"?!p:!1}function d(u,p,w){var f=u.name.toLowerCase();return p===!0?!1:typeof p[f]=="function"?!p[f](u.value,w):typeof p[f]>"u"||p[f]===!1?!0:typeof p[f]=="string"?p[f]!==u.value:!1}return n})})(K_);var f7=K_.exports;const p7=Id(f7);function Rg(t,e){return t.map(n=>{const r=Qe(e)?e(n.tool):e;return kn(r)||(n.data=Ig(n.data,r)),n})}function Kn(t,e={}){const n={tags:e};return new p7(n).clean(t)}function Ig(t,e){return Array.isArray(t)?m7(t,e):Tt(t)?g7(t,e):Nr(t)?v7(t,e):t}function m7(t,e){return t.map(n=>Ig(n,e))}function g7(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r],i=y7(e[r])?e[r]:e;n[r]=Ig(o,i)}return n}function v7(t,e){return Tt(e)?Kn(t,e):e===!1?Kn(t,{}):t}function y7(t){return Tt(t)||M9(t)||Qe(t)}class b7 extends Oe{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return Kn(e,n)}}class w7 extends Oe{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(vn(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class x7 extends Oe{constructor(){super(...arguments),this.selectionUtils=new pe}get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,n){return this.selectionUtils.findParentTag(e,n)}expandToTag(e){this.selectionUtils.expandToTag(e)}}class k7 extends Oe{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class _7 extends Oe{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class S7 extends Oe{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){vn("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){vn("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var G_={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){o.r(r),o.d(r,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const d=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(d.hidingDelay&&(this.hidingDelay=d.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),d.placement){case"top":this.placeTop(a,d);break;case"left":this.placeLeft(a,d);break;case"right":this.placeRight(a,d);break;case"bottom":default:this.placeBottom(a,d)}d&&d.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},d.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=o(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",d,u)}placeTop(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",d,u)}placeLeft(a,l){const c=a.getBoundingClientRect(),d=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",d,u)}placeRight(a,l){const c=a.getBoundingClientRect(),d=c.right+this.offsetRight+l.marginRight,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",d,u)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const d=document.createElement(a);Array.isArray(l)?d.classList.add(...l):l&&d.classList.add(l);for(const u in c)c.hasOwnProperty(u)&&(d[u]=c[u]);return d}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(G_);var E7=G_.exports;const C7=Id(E7);let Mn=null;function Lg(){Mn||(Mn=new C7)}function T7(t,e,n){Lg(),Mn==null||Mn.show(t,e,n)}function Nu(t=!1){Lg(),Mn==null||Mn.hide(t)}function Ru(t,e,n){Lg(),Mn==null||Mn.onHover(t,e,n)}function N7(){Mn==null||Mn.destroy(),Mn=null}class R7 extends Oe{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n})}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){T7(e,n,r)}hide(){Nu()}onHover(e,n,r){Ru(e,n,r)}}class I7 extends Oe{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function Y_(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if(Tt(o)){const i=e?`${e}.${r}`:r;Object.values(o).every(s=>Nr(s))?n[r]=i:n[r]=Y_(o,i);return}n[r]=o}),n}const an=Y_(M_);function L7(t,e){const n={};return Object.keys(t).forEach(r=>{const o=e[r];o!==void 0?n[o]=t[r]:n[r]=t[r]}),n}const X_=class ea{constructor(e,n){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=n}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(ea.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(ea.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(this.items.length===0)return this.cursor;let n=this.cursor;return n===-1?n=e===ea.directions.RIGHT?-1:0:this.items[n].classList.remove(this.focusedCssClass),e===ea.directions.RIGHT?n=(n+1)%this.items.length:n=(this.items.length+n-1)%this.items.length,F.canSetCaret(this.items[n])&&Eu(()=>pe.setCursor(this.items[n]),50)(),this.items[n].classList.add(this.focusedCssClass),n}};X_.directions={RIGHT:"right",LEFT:"left"};let Ws=X_,Iu=class Cp{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(Cp.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case we.TAB:this.handleTabPress(n);break;case we.LEFT:case we.UP:this.flipLeft();break;case we.RIGHT:case we.DOWN:this.flipRight();break;case we.ENTER:this.handleEnterPress(n);break}},this.iterator=new Ws(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||Cp.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[we.TAB,we.LEFT,we.RIGHT,we.ENTER,we.UP,we.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?Ws.directions.LEFT:Ws.directions.RIGHT){case Ws.directions.RIGHT:this.flipRight();break;case Ws.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),Qe(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}};const A7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',O7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',P7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',B7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',M7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',j7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',D7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',$7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Sy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',U7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',F7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',J_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',z7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',H7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',V7='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',W7="__",q7="--";function _o(t){return(e,n)=>[[t,e].filter(r=>!!r).join(W7),n].filter(r=>!!r).join(q7)}const qs=_o("ce-hint"),Ks={root:qs(),alignedStart:qs(null,"align-left"),alignedCenter:qs(null,"align-center"),title:qs("title"),description:qs("description")};class K7{constructor(e){this.nodes={root:F.make("div",[Ks.root,e.alignment==="center"?Ks.alignedCenter:Ks.alignedStart]),title:F.make("div",Ks.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=F.make("div",Ks.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}let Ag=class{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){Nu()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,n;this.params!==void 0&&"onActivate"in this.params&&((n=(e=this.params).onActivate)==null||n.call(e,this.params))}addHint(e,n){const r=new K7(n);Ru(e,r.getElement(),{placement:n.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}};const nn=_o("ce-popover-item"),rt={container:nn(),active:nn(null,"active"),disabled:nn(null,"disabled"),focused:nn(null,"focused"),hidden:nn(null,"hidden"),confirmationState:nn(null,"confirmation"),noHover:nn(null,"no-hover"),noFocus:nn(null,"no-focus"),title:nn("title"),secondaryTitle:nn("secondary-title"),icon:nn("icon"),iconTool:nn("icon","tool"),iconChevronRight:nn("icon","chevron-right"),wobbleAnimation:_o("wobble")()};let Bo=class extends Ag{constructor(e,n){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(rt.noFocus)},this.removeSpecialHoverBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(rt.noHover)},this.onErrorAnimationEnd=()=>{var r,o;(r=this.nodes.icon)==null||r.classList.remove(rt.wobbleAnimation),(o=this.nodes.icon)==null||o.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,n)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(rt.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var n;(n=this.nodes.root)==null||n.classList.toggle(rt.active,e)}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(rt.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,n){var r,o;const i=(n==null?void 0:n.wrapperTag)||"div",s=F.make(i,rt.container,{type:i==="button"?"button":void 0});return e.name&&(s.dataset.itemName=e.name),this.nodes.icon=F.make("div",[rt.icon,rt.iconTool],{innerHTML:e.icon||D7}),s.appendChild(this.nodes.icon),e.title!==void 0&&s.appendChild(F.make("div",rt.title,{innerHTML:e.title||""})),e.secondaryLabel&&s.appendChild(F.make("div",rt.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&s.appendChild(F.make("div",[rt.icon,rt.iconChevronRight],{innerHTML:B7})),this.isActive&&s.classList.add(rt.active),e.isDisabled&&s.classList.add(rt.disabled),e.hint!==void 0&&((r=n==null?void 0:n.hint)==null?void 0:r.enabled)!==!1&&this.addHint(s,{...e.hint,position:((o=n==null?void 0:n.hint)==null?void 0:o.position)||"right"}),s}enableConfirmationMode(e){if(this.nodes.root===null)return;const n={...this.params,...e,confirmation:"confirmation"in e?e.confirmation:void 0},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(rt.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(rt.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,n,r;(e=this.nodes.root)==null||e.classList.add(rt.noHover),(n=this.nodes.root)==null||n.classList.add(rt.noFocus),(r=this.nodes.root)==null||r.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var n;if(!("confirmation"in e)||e.confirmation===void 0)try{(n=e.onActivate)==null||n.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,n,r;(e=this.nodes.icon)!=null&&e.classList.contains(rt.wobbleAnimation)||((n=this.nodes.icon)==null||n.classList.add(rt.wobbleAnimation),(r=this.nodes.icon)==null||r.addEventListener("animationend",this.onErrorAnimationEnd))}};const $h=_o("ce-popover-item-separator"),Uh={container:$h(),line:$h("line"),hidden:$h(null,"hidden")};let Z_=class extends Ag{constructor(){super(),this.nodes={root:F.make("div",Uh.container),line:F.make("div",Uh.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Uh.hidden,e)}};var Jn=(t=>(t.Closed="closed",t.ClosedOnActivate="closed-on-activate",t))(Jn||{});const Mt=_o("ce-popover"),at={popover:Mt(),popoverContainer:Mt("container"),popoverOpenTop:Mt(null,"open-top"),popoverOpenLeft:Mt(null,"open-left"),popoverOpened:Mt(null,"opened"),search:Mt("search"),nothingFoundMessage:Mt("nothing-found-message"),nothingFoundMessageDisplayed:Mt("nothing-found-message","displayed"),items:Mt("items"),overlay:Mt("overlay"),overlayHidden:Mt("overlay","hidden"),popoverNested:Mt(null,"nested"),getPopoverNestedClass:t=>Mt(null,`nested-level-${t.toString()}`),popoverInline:Mt(null,"inline"),popoverHeader:Mt("header")};var Vi=(t=>(t.NestingLevel="--nesting-level",t.PopoverHeight="--popover-height",t.InlinePopoverWidth="--inline-popover-width",t.TriggerItemLeft="--trigger-item-left",t.TriggerItemTop="--trigger-item-top",t))(Vi||{});const Ey=_o("ce-popover-item-html"),Cy={root:Ey(),hidden:Ey(null,"hidden")};let Wa=class extends Ag{constructor(e,n){var r,o;super(e),this.nodes={root:F.make("div",Cy.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((r=n==null?void 0:n.hint)==null?void 0:r.enabled)!==!1&&this.addHint(this.nodes.root,{...e.hint,position:((o=n==null?void 0:n.hint)==null?void 0:o.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Cy.hidden,e)}getControls(){const e=this.nodes.root.querySelectorAll(`button, ${F.allInputsSelector}`);return Array.from(e)}},Q_=class extends yl{constructor(e,n={}){super(),this.params=e,this.itemsRenderParams=n,this.listeners=new bl,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages={...this.messages,...e.messages}),this.nodes={},this.nodes.popoverContainer=F.make("div",[at.popoverContainer]),this.nodes.nothingFoundMessage=F.make("div",[at.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=F.make("div",[at.items]),this.items.forEach(r=>{const o=r.getElement();o!==null&&this.nodes.items.appendChild(o)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",r=>this.handleClick(r)),this.nodes.popover=F.make("div",[at.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof Bo)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(at.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(at.popoverOpened),this.nodes.popover.classList.remove(at.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit(Jn.Closed)}destroy(){var e;this.items.forEach(n=>n.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){const n=this.items.find(r=>r.name===e);this.handleItemClick(n)}buildItems(e){return e.map(n=>{switch(n.type){case Ge.Separator:return new Z_;case Ge.Html:return new Wa(n,this.itemsRenderParams[Ge.Html]);default:return new Bo(n,this.itemsRenderParams[Ge.Default])}})}getTargetItem(e){return this.items.filter(n=>n instanceof Bo||n instanceof Wa).find(n=>{const r=n.getElement();return r===null?!1:e.composedPath().includes(r)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(n=>n!==e).forEach(n=>n.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(Jn.ClosedOnActivate))}}handleClick(e){const n=this.getTargetItem(e);n!==void 0&&this.handleItemClick(n)}toggleItemActivenessIfNeeded(e){if(e instanceof Bo&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){const n=this.itemsDefault.filter(r=>r.toggle===e.toggle);if(n.length===1){e.toggleActive();return}n.forEach(r=>{r.toggleActive(r===e)})}}};var Lu=(t=>(t.Search="search",t))(Lu||{});const Fh=_o("cdx-search-field"),zh={wrapper:Fh(),icon:Fh("icon"),input:Fh("input")};class G7 extends yl{constructor({items:e,placeholder:n}){super(),this.listeners=new bl,this.items=e,this.wrapper=F.make("div",zh.wrapper);const r=F.make("div",zh.icon,{innerHTML:z7});this.input=F.make("input",zh.input,{placeholder:n,tabIndex:-1}),this.wrapper.appendChild(r),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(Lu.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(Lu.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n,r;const o=((n=e.title)==null?void 0:n.toLowerCase())||"",i=(r=this.searchQuery)==null?void 0:r.toLowerCase();return i!==void 0?o.includes(i):!1}}var Y7=Object.defineProperty,X7=Object.getOwnPropertyDescriptor,J7=(t,e,n,r)=>{for(var o=X7(e,n),i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=s(e,n,o)||o);return o&&Y7(e,n,o),o};const eS=class tS extends Q_{constructor(e,n){super(e,n),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var r;super.hide(),this.destroyNestedPopoverIfExists(),(r=this.flipper)==null||r.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const r=this.itemsDefault.find(o=>o.isFocused);r==null||r.onFocus()},this.onSearch=r=>{var o;const i=r.query==="",s=r.items.length===0;this.items.forEach(l=>{let c=!1;l instanceof Bo?c=!r.items.includes(l):(l instanceof Z_||l instanceof Wa)&&(c=s||!i),l.toggleHidden(c)}),this.toggleNothingFoundMessage(s);const a=r.query===""?this.flippableElements:r.items.map(l=>l.getElement());(o=this.flipper)!=null&&o.isActivated&&(this.flipper.deactivate(),this.flipper.activate(a))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(at.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",r=>this.handleHover(r)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new Iu({items:this.flippableElements,focusedItemClass:rt.focused,allowedKeys:[we.TAB,we.UP,we.DOWN,we.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(Vi.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(at.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(at.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){const n=this.getTargetItem(e);n!==void 0&&this.previouslyHoveredItem!==n&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=n,n.hasChildren&&this.showNestedPopoverForItem(n))}setTriggerItemPosition(e,n){const r=n.getElement(),o=(r?r.offsetTop:0)-this.scrollTop,i=this.offsetTop+o;e.style.setProperty(Vi.TriggerItemTop,i+"px")}destroyNestedPopoverIfExists(){var e,n;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(Jn.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(n=this.nestedPopoverTriggerItem)==null||n.onChildrenClose())}showNestedPopoverForItem(e){var n;this.nestedPopover=new tS({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(Jn.ClosedOnActivate,this.hide);const r=this.nestedPopover.getElement();return this.nodes.popover.appendChild(r),this.setTriggerItemPosition(r,e),r.style.setProperty(Vi.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(n=this.flipper)==null||n.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popoverContainer.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.height,o=e.top+r,i=e.top-r,s=Math.min(window.innerHeight,n.bottom);return i<n.top||o<=s}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.width,o=e.right+r,i=e.left-r,s=Math.min(window.innerWidth,n.right);return i<n.left||o<=s}get size(){var e;const n={height:0,width:0};if(this.nodes.popover===null)return n;const r=this.nodes.popover.cloneNode(!0);r.style.visibility="hidden",r.style.position="absolute",r.style.top="-1000px",r.classList.add(at.popoverOpened),(e=r.querySelector("."+at.popoverNested))==null||e.remove(),document.body.appendChild(r);const o=r.querySelector("."+at.popoverContainer);return n.height=o.offsetHeight,n.width=o.offsetWidth,r.remove(),n}get flippableElements(){return this.items.map(e=>{if(e instanceof Bo)return e.getElement();if(e instanceof Wa)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new G7({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(Lu.Search,this.onSearch);const e=this.search.getElement();e.classList.add(at.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(at.nothingFoundMessageDisplayed,e)}};J7([ks],eS.prototype,"size");let Og=eS;class Z7 extends Og{constructor(e){const n=!_s();super({...e,class:at.popoverInline},{[Ge.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:n}},[Ge.Html]:{hint:{position:"top",alignment:"center",enabled:n}}}),this.items.forEach(r=>{!(r instanceof Bo)&&!(r instanceof Wa)||r.hasChildren&&r.isChildrenOpen&&this.showNestedItems(r)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(Vi.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,n){const r=n.getElement(),o=r?r.offsetLeft:0,i=this.offsetLeft+o;e.style.setProperty(Vi.TriggerItemLeft,i+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){const n=super.showNestedPopoverForItem(e);return n.getElement().classList.add(at.getPopoverNestedClass(n.nestingLevel)),n}handleItemClick(e){var n;e!==this.nestedPopoverTriggerItem&&((n=this.nestedPopoverTriggerItem)==null||n.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}}const nS=class ta{constructor(){this.scrollPosition=null}lock(){_p?this.lockHard():document.body.classList.add(ta.CSS.scrollLocked)}unlock(){_p?this.unlockHard():document.body.classList.remove(ta.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(ta.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(ta.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};nS.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let Q7=nS;const Hh=_o("ce-popover-header"),Vh={root:Hh(),text:Hh("text"),backButton:Hh("back-button")};class eD{constructor({text:e,onBackButtonClick:n}){this.listeners=new bl,this.text=e,this.onBackButtonClick=n,this.nodes={root:F.make("div",[Vh.root]),backButton:F.make("button",[Vh.backButton]),text:F.make("div",[Vh.text])},this.nodes.backButton.innerHTML=P7,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class tD{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}let rS=class extends Q_{constructor(e){super(e,{[Ge.Default]:{hint:{enabled:!1}},[Ge.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new Q7,this.history=new tD,this.isHidden=!0,this.nodes.overlay=F.make("div",[at.overlay,at.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(at.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(at.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,n){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),n!==void 0){this.header=new eD({text:n,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const r=this.header.getElement();r!==null&&this.nodes.popoverContainer.insertBefore(r,this.nodes.popoverContainer.firstChild)}this.items.forEach(r=>{var o;return(o=r.getElement())==null?void 0:o.remove()}),this.items=this.buildItems(e),this.items.forEach(r=>{var o;const i=r.getElement();i!==null&&((o=this.nodes.items)==null||o.appendChild(i))})}};class nD extends Oe{constructor(){super(...arguments),this.opened=!1,this.selection=new pe,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,pe.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Jn.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=F.make("div",[this.CSS.settings]),this.eventsDispatcher.on(Va,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(Va,this.close)}async open(e=this.Editor.BlockManager.currentBlock){var n;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const{toolTunes:r,commonTunes:o}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);const i=_s()?rS:Og;this.popover=new i({searchable:!0,items:await this.getTunesItems(e,o,r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Ut.ui(an.ui.popover,"Nothing found"),search:Ut.ui(an.ui.popover,"Filter")}}),this.popover.on(Jn.Closed,this.onPopoverClose),(n=this.nodes.wrapper)==null||n.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(e,n,r){const o=[];r!==void 0&&r.length>0&&(o.push(...r),o.push({type:Ge.Separator}));const i=Array.from(this.Editor.Tools.blockTools.values()),s=(await V_(e,i)).reduce((a,l)=>(l.toolbox.forEach(c=>{a.push({icon:c.icon,title:Ut.t(an.toolNames,c.title),name:l.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:d,Caret:u,Toolbar:p}=this.Editor,w=await d.convert(e,l.name,c.data);p.close(),u.setToBlock(w,u.positions.END)}})}),a),[]);return s.length>0&&(o.push({icon:J_,name:"convert-to",title:Ut.ui(an.ui.popover,"Convert to"),children:{searchable:!0,items:s}}),o.push({type:Ge.Separator})),o.push(...n),o.map(a=>this.resolveTuneAliases(a))}resolveTuneAliases(e){if(e.type===Ge.Separator||e.type===Ge.Html)return e;const n=L7(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}var oS={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){function i(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function s(l,c,d){return c&&i(l.prototype,c),d&&i(l,d),l}o.r(r);var a=function(){function l(c){var d=this;(function(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(u){d.execute(u)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var d=0;d<c.length;d++){c[d]=c[d].toUpperCase();var u=!1;for(var p in l.supportedCommands)if(l.supportedCommands[p].includes(c[d])){u=this.commands[p]=!0;break}u||(this.keys[c[d]]=!0)}for(var w in l.supportedCommands)this.commands[w]||(this.commands[w]=!1)}},{key:"execute",value:function(c){var d,u={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},p=!0;for(d in this.commands)this.commands[d]!==u[d]&&(p=!1);var w,f=!0;for(w in this.keys)f=f&&c.keyCode===l.keyCodes[w];p&&f&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(oS);var rD=oS.exports;const oD=Id(rD);class iD{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new oD({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(i=>i!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const ss=new iD;var sD=Object.defineProperty,aD=Object.getOwnPropertyDescriptor,iS=(t,e,n,r)=>{for(var o=aD(e,n),i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=s(e,n,o)||o);return o&&sD(e,n,o),o},_c=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(_c||{});const Pg=class sS extends yl{constructor({api:e,tools:n,i18nLabels:r}){super(),this.opened=!1,this.listeners=new bl,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=n,this.i18nLabels=r,this.enableShortcuts(),this.nodes={toolbox:F.make("div",sS.CSS.toolbox)},this.initPopover(),this.api.events.on(Va,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off(Jn.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(Va,this.handleMobileLayoutToggle)}toolButtonActivated(e,n){this.insertNewBlock(e,n)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;const n=_s()?rS:Og;this.popover=new n({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Jn.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(Jn.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(n=>{n.toolbox&&e.push(n)}),e}get toolboxItemsToBeDisplayed(){const e=(n,r)=>({icon:n.icon,title:Ut.t(an.toolNames,n.title||Cu(r.name)),name:r.name,onActivate:()=>{this.toolButtonActivated(r.name,n.data)},secondaryLabel:r.shortcut?Ng(r.shortcut):""});return this.toolsToBeDisplayed.reduce((n,r)=>(Array.isArray(r.toolbox)?r.toolbox.forEach(o=>{n.push(e(o,r))}):r.toolbox!==void 0&&n.push(e(r.toolbox,r)),n),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&this.enableShortcutForTool(e.name,n)})}enableShortcutForTool(e,n){ss.add({name:n,on:this.api.ui.nodes.redactor,handler:async r=>{r.preventDefault();const o=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(o);if(i)try{const s=await this.api.blocks.convert(i.id,e);this.api.caret.setToBlock(s,"end");return}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&ss.remove(this.api.ui.nodes.redactor,n)})}async insertNewBlock(e,n){const r=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(r);if(!o)return;const i=o.isEmpty?r:r+1;let s;if(n){const l=await this.api.blocks.composeBlockData(e);s=Object.assign(l,n)}const a=this.api.blocks.insert(e,s,void 0,i,void 0,o.isEmpty);a.call(ur.APPEND_CALLBACK),this.api.caret.setToBlock(i),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()}};iS([ks],Pg.prototype,"toolsToBeDisplayed");iS([ks],Pg.prototype,"toolboxItemsToBeDisplayed");let lD=Pg;const aS="block hovered";async function cD(t,e){const n=navigator.keyboard;if(!n)return e;try{return(await n.getLayoutMap()).get(t)||e}catch(r){return console.error(r),e}}class uD extends Oe{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){Me("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){Me("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){Me("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI;let o;const i=20,s=e.firstInput,a=n.getBoundingClientRect(),l=s!==void 0?s.getBoundingClientRect():null,c=l!==null?l.top-a.top:null,d=c!==null?c>i:void 0;if(r)o=n.offsetTop+n.offsetHeight;else if(s===void 0||d){const u=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);o=n.offsetTop+u}else{const u=K9(s),p=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);o=n.offsetTop+u-p+8+c}this.nodes.wrapper.style.top=`${Math.floor(o)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,n;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(n=this.toolboxInstance)==null||n.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=F.make("div",this.CSS.toolbar),["content","actions"].forEach(i=>{this.nodes[i]=F.make("div",this.CSS[i])}),F.append(this.nodes.wrapper,this.nodes.content),F.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=F.make("div",this.CSS.plusButton,{innerHTML:F7}),F.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{Nu(!0),this.plusButtonClicked()},!1);const e=F.make("div");e.appendChild(document.createTextNode(Ut.ui(an.ui.toolbar.toolbox,"Add"))),e.appendChild(F.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),Ru(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=F.make("span",this.CSS.settingsToggler,{innerHTML:U7}),F.append(this.nodes.actions,this.nodes.settingsToggler);const n=F.make("div"),r=F.text(Ut.ui(an.ui.blockTunes.toggler,"Click to tune")),o=await cD("Slash","/");n.appendChild(r),n.appendChild(F.make("div",this.CSS.plusButtonShortcut,{textContent:Ng(`CMD + ${o}`)})),Ru(this.nodes.settingsToggler,n,{hidingDelay:400}),F.append(this.nodes.actions,this.makeToolbox()),F.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),F.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new lD({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Ut.ui(an.ui.popover,"Filter"),nothingFound:Ut.ui(an.ui.popover,"Nothing found")}}),this.toolboxInstance.on(_c.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(_c.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(_c.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,o=n.getBlockById(e.id);o.inputs.length===0&&(o===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),Nu(!0)},!0),_s()||this.eventsDispatcher.on(aS,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var Fo=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(Fo||{}),Sc=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Sc||{}),lS=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(lS||{}),yi=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(yi||{}),Bg=(t=>(t.IsInline="isInline",t.Title="title",t))(Bg||{}),Tp=(t=>(t.IsTune="isTune",t))(Tp||{});let Mg=class{constructor({name:e,constructable:n,config:r,api:o,isDefault:i,isInternal:s=!1,defaultPlaceholder:a}){this.api=o,this.name=e,this.constructable=n,this.config=r,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(Qe(this.constructable.reset))return this.constructable.reset()}prepare(){if(Qe(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===Fo.Inline}isBlock(){return this.type===Fo.Block}isTune(){return this.type===Fo.Tune}};class dD extends Oe{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=_s()?20:6,this.toolsInstances=new Map}toggleReadOnly(e){e?this.destroy():window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1){e&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var e,n;this.opened&&(this.Editor.ReadOnly.isEnabled||(Array.from(this.toolsInstances.entries()).forEach(([r,o])=>{const i=this.getToolShortcut(r);i&&ss.remove(this.Editor.UI.nodes.redactor,i),Qe(o.clear)&&o.clear()}),this.toolsInstances=null,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(n=this.popover)==null||n.destroy(),this.popover=null))}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=F.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),F.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy();const n=await this.getInlineTools();this.popover=new Z7({items:n,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Ut.ui(an.ui.popover,"Nothing found"),search:Ut.ui(an.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()}move(e){const n=pe.rect,r=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),o={x:n.x-r.x,y:n.y+n.height-r.top+this.toolbarVerticalMargin};o.x+e+r.x>this.Editor.UI.contentRect.right&&(o.x=this.Editor.UI.contentRect.right-e-r.x),this.nodes.wrapper.style.left=Math.floor(o.x)+"px",this.nodes.wrapper.style.top=Math.floor(o.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],n=pe.get(),r=pe.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const o=F.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(o===null||n&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;const i=this.Editor.BlockManager.getBlock(n.anchorNode);return i?i.tool.inlineTools.size!==0:!1}async getInlineTools(){const e=pe.get(),n=this.Editor.BlockManager.getBlock(e.anchorNode),r=Array.from(n.tool.inlineTools.values()),o=[];this.toolsInstances===null&&(this.toolsInstances=new Map);for(let i=0;i<r.length;i++){const s=r[i],a=s.create(),l=await a.render();this.toolsInstances.set(s.name,a);const c=this.getToolShortcut(s.name);if(c)try{this.enableShortcuts(s.name,c)}catch{}const d=c!==void 0?Ng(c):void 0,u=Ut.t(an.toolNames,s.title||Cu(s.name));[l].flat().forEach(p=>{var w,f;const b={name:s.name,onActivate:()=>{this.toolClicked(a)},hint:{title:u,description:d}};if(F.isElement(p)){const y={...b,element:p,type:Ge.Html};if(Qe(a.renderActions)){const v=a.renderActions();y.children={isOpen:(w=a.checkState)==null?void 0:w.call(a,pe.get()),isFlippable:!1,items:[{type:Ge.Html,element:v}]}}else(f=a.checkState)==null||f.call(a,pe.get());o.push(y)}else if(p.type===Ge.Html)o.push({...b,...p,type:Ge.Html});else if(p.type===Ge.Separator)o.push({type:Ge.Separator});else{const y={...b,...p,type:Ge.Default};"children"in y&&i!==0&&o.push({type:Ge.Separator}),o.push(y),"children"in y&&i<r.length-1&&o.push({type:Ge.Separator})}})}return o}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),o=n.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][lS.Shortcut]:r==null?void 0:r.shortcut}enableShortcuts(e,n){ss.add({name:n,handler:r=>{var o;const{currentBlock:i}=this.Editor.BlockManager;i&&i.tool.enabledInlineTools&&(r.preventDefault(),(o=this.popover)==null||o.activateItemByName(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){var n;const r=pe.range;(n=e.surround)==null||n.call(e,r),this.checkToolsState()}checkToolsState(){var e;(e=this.toolsInstances)==null||e.forEach(n=>{var r;(r=n.checkState)==null||r.call(n,pe.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}}function cS(){const t=window.getSelection();if(t===null)return[null,0];let e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],n=e.textContent.length)),[e,n])}function uS(t,e,n,r){const o=document.createRange();r==="left"?(o.setStart(t,0),o.setEnd(e,n)):(o.setStart(e,n),o.setEnd(t,t.childNodes.length));const i=o.cloneContents(),s=document.createElement("div");s.appendChild(i);const a=s.textContent||"";return q9(a)}function Ec(t){const e=F.getDeepestNode(t);if(e===null||F.isEmpty(t))return!0;if(F.isNativeInput(e))return e.selectionEnd===0;if(F.isEmpty(t))return!0;const[n,r]=cS();return n===null?!1:uS(t,n,r,"left")}function Cc(t){const e=F.getDeepestNode(t,!0);if(e===null)return!0;if(F.isNativeInput(e))return e.selectionEnd===e.value.length;const[n,r]=cS();return n===null?!1:uS(t,n,r,"right")}class hD extends Oe{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case we.BACKSPACE:this.backspace(e);break;case we.DELETE:this.delete(e);break;case we.ENTER:this.enter(e);break;case we.DOWN:case we.RIGHT:this.arrowRightAndDown(e);break;case we.UP:case we.LEFT:this.arrowLeftAndUp(e);break;case we.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&A_(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:o}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const i=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),n.clearSelection(e)})}tabPressed(e){const{InlineToolbar:n,Caret:r}=this.Editor;n.opened||(e.shiftKey?r.navigatePrevious(!0):r.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){const{BlockManager:n,UI:r}=this.Editor,o=n.currentBlock;if(o===void 0||o.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey&&!_p)return;let i=o;o.currentInput!==void 0&&Ec(o.currentInput)&&!o.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):o.currentInput&&Cc(o.currentInput)?i=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):i=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o,previousBlock:i}=n;if(!(o===void 0||!pe.isCollapsed||!o.currentInput||!Ec(o.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.firstInput){r.navigatePrevious();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(o.isEmpty){n.removeBlock(o);const s=n.currentBlock;r.setToBlock(s,r.positions.END);return}ky(i,o)?this.mergeBlocks(i,o):r.setToBlock(i,r.positions.END)}}}delete(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o,nextBlock:i}=n;if(!(!pe.isCollapsed||!Cc(o.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.lastInput){r.navigateNext();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(o.isEmpty){n.removeBlock(o),r.setToBlock(i,r.positions.START);return}ky(o,i)?this.mergeBlocks(o,i):r.setToBlock(i,r.positions.START)}}}mergeBlocks(e,n){const{BlockManager:r,Caret:o,Toolbar:i}=this.Editor;o.createShadow(e.lastInput),r.mergeBlocks(e,n).then(()=>{o.restoreCaret(e.pluginsContent),i.close()})}arrowRightAndDown(e){const n=Iu.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===we.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.Toolbar.close();const{currentBlock:r}=this.Editor.BlockManager,o=((r==null?void 0:r.currentInput)!==void 0?Cc(r.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===we.DOWN&&o){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===we.DOWN||e.keyCode===we.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}Eu(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Iu.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===we.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:n}=this.Editor.BlockManager,r=((n==null?void 0:n.currentInput)!==void 0?Ec(n.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===we.UP&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===we.UP||e.keyCode===we.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}Eu(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===we.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===we.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===we.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===we.TAB;return!(e.shiftKey||i||n||r||o)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}let Wh=class{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return O_(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];F.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],o=e-1,i=Math.max(0,o),s=this.blocks[i];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(ur.MOVED,a)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(ur.REMOVED));const o=r?1:0;if(this.blocks.splice(e,o,n),e>0){const i=this.blocks[e-1];this.insertToDOM(n,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(n,"beforebegin",i):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const r=new DocumentFragment;for(const o of e)r.appendChild(o.holder);if(this.length>0){if(n>0){const o=Math.min(n-1,this.length-1);this.blocks[o].holder.after(r)}else n===0&&this.workingArea.prepend(r);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(o=>o.call(ur.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(ur.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(ur.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(ur.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}};const Ty="block-removed",Ny="block-added",fD="block-moved",Ry="block-changed";class pD{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}class mD extends Oe{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Wh(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Wh.set,get:Wh.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:o={}}){const i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new br({id:r,data:n,tool:s,api:this.Editor.API,readOnly:i,tunesData:o},this.eventsDispatcher);return i||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:o,needToFocus:i=!0,replace:s=!1,tunes:a={}}={}){let l=o;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:e,tool:n,data:r,tunes:a});return s&&this.blockDidMutated(Ty,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(Ny,c,{index:l}),i?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n,r){if(!n&&!r)return e;const o=await e.data,i=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},o,n??{}),tunes:r??e.tunes}),s=this.getBlockIndex(e);return this._blocks.replace(s,i),this.blockDidMutated(Ry,i,{index:s}),i}replace(e,n,r){const o=this.getBlockIndex(e);return this.insert({tool:n,data:r,index:o,replace:!0})}paste(e,n,r=!1){const o=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{o.call(ur.ON_PASTE,n)})}catch(i){Me(`${e}: onPaste callback call is failed`,"error",i)}return o}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(Ny,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){let r;if(e.name===n.name&&e.mergeable){const o=await n.data;if(kn(o)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[i]=Rg([o],e.tool.sanitizeConfig);r=i}else if(e.mergeable&&Tu(n,"export")&&Tu(e,"import")){const o=await n.exportDataAsString(),i=Kn(o,e.tool.sanitizeConfig);r=_y(i,e.tool.conversionConfig)}r!==void 0&&(await e.mergeWith(r),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e))}removeBlock(e,n=!0){return new Promise(r=>{const o=this._blocks.indexOf(e);if(!this.validateIndex(o))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(o),this.blockDidMutated(Ty,e,{index:o}),this.currentBlockIndex>=o&&this.currentBlockIndex--,this.blocks.length?o===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),n&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=F.make("div");n.appendChild(e);const r={text:F.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){F.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${br.CSS.wrapper}`),o=n.indexOf(r);if(o>=0)return this._blocks[o]}setCurrentBlockByChildNode(e){F.isElement(e)||(e=e.parentNode);const n=e.closest(`.${br.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;F.isElement(e)||(e=e.parentNode);const n=e.closest(`.${br.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){Me("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){Me("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(fD,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,r){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const o=this.Editor.Tools.blockTools.get(n);if(!o)throw new Error(`Could not convert Block. Tool ${n} not found.`);const i=await e.exportDataAsString(),s=Kn(i,o.sanitizeConfig);let a=_y(s,o.conversionConfig);return r&&(a=Object.assign(a,r)),this.replace(e,o.name,a)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(e=!1){const n=new pD;this.blocks.forEach(r=>{n.add(async()=>{await this.removeBlock(r,!1)})}),await n.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(Ry,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const o=new CustomEvent(e,{detail:{target:new lr(n),...r}});return this.eventsDispatcher.emit(U_,{event:o}),n}}class gD extends Oe{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new pe,ss.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){pe.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:o,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&A_(e.keyCode);if(this.anyBlockSelected&&s&&a&&!pe.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),o.setToBlock(r.currentBlock),Eu(()=>{const c=e.key;o.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=F.make("div");this.selectedBlocks.forEach(i=>{const s=Kn(i.holder.innerHTML,this.sanitizerConfig),a=F.make("p");a.innerHTML=s,n.appendChild(a)});const r=Array.from(n.childNodes).map(i=>i.textContent).join(`

`),o=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor,r=n.getBlockByIndex(e);r!==void 0&&this.selectBlock(r)}selectBlock(e){this.selection.save(),pe.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){ss.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),F.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target),r=n.inputs;if(r.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(r.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(n),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),pe.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}let vD=class Np extends Oe{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,n=this.positions.DEFAULT,r=0){var o;const{BlockManager:i,BlockSelection:s}=this.Editor;if(s.clearSelection(),!e.focusable){(o=window.getSelection())==null||o.removeAllRanges(),s.selectBlock(e),i.currentBlock=e;return}let a;switch(n){case this.positions.START:a=e.firstInput;break;case this.positions.END:a=e.lastInput;break;default:a=e.currentInput}if(!a)return;const l=F.getDeepestNode(a,n===this.positions.END),c=F.getContentLength(l);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>c:r=c;break}this.set(l,r),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=a}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:o}=this.Editor.BlockManager,i=F.getDeepestNode(e);switch(n){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,F.getContentLength(i));break;default:r&&this.set(i,r)}o.currentInput=e}set(e,n=0){const{top:r,bottom:o}=pe.setCursor(e,n),{innerHeight:i}=window;r<0?window.scrollBy(0,r-30):o>i&&window.scrollBy(0,o-i+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=pe.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(F.isNativeInput(r)){const o=r,i=document.createDocumentFragment(),s=o.value.substring(0,o.selectionStart),a=o.value.substring(o.selectionStart);return i.textContent=a,o.value=s,i}else{const o=n.cloneRange();return o.selectNodeContents(r),o.setStart(n.endContainer,n.endOffset),o.extractContents()}}}navigateNext(e=!1){const{BlockManager:n}=this.Editor,{currentBlock:r,nextBlock:o}=n;if(r===void 0)return!1;const{nextInput:i,currentInput:s}=r,a=s!==void 0?Cc(s):void 0;let l=o;const c=e||a||!r.focusable;if(i&&c)return this.setToInput(i,this.positions.START),!0;if(l===null){if(r.tool.isDefault||!c)return!1;l=n.insertAtEnd()}return c?(this.setToBlock(l,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:n,previousBlock:r}=this.Editor.BlockManager;if(!n)return!1;const{previousInput:o,currentInput:i}=n,s=i!==void 0?Ec(i):void 0,a=e||s||!n.focusable;return o&&a?(this.setToInput(o,this.positions.END),!0):r!==null&&a?(this.setToBlock(r,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(Np.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${Np.CSS.shadowCaret}`);if(!n)return;new pe().expandToTag(n);const r=document.createRange();r.selectNode(n),r.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),o=pe.get(),i=pe.range;r.innerHTML=e,Array.from(r.childNodes).forEach(c=>n.appendChild(c)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;i.deleteContents(),i.insertNode(n);const a=document.createRange(),l=s.nodeType===Node.TEXT_NODE?s:s.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),o.removeAllRanges(),o.addRange(a)}};class yD extends Oe{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const o=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=n.getBlockByChildNode(e.target);if(!(!o||!i)&&i!==o){if(o===this.firstSelectedBlock){pe.get().removeAllRanges(),o.selected=!0,i.selected=!0,r.clearCache();return}if(i===this.firstSelectedBlock){o.selected=!1,i.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==P9.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),pe.get().removeAllRanges());const o=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=n.blocks[o];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,i=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&i>-1&&s>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case we.DOWN:case we.RIGHT:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);break;case we.UP:case we.LEFT:o.setToBlock(n.blocks[Math.min(i,s)],o.positions.START);break;default:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;pe.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:o}=this.Editor,i=r.blocks.indexOf(e),s=r.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(i,s);l<=Math.max(i,s);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,o.clearCache())}}}class bD extends Oe{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Paste:r,Caret:o}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),pe.isAtEditor&&!pe.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=n.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,o.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,o.positions.END)}await r.processDataTransfer(e.dataTransfer,!0)}processDragStart(){pe.isAtEditor&&!pe.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}const wD=180,xD=400;class kD extends Oe{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=xD,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(U_,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(F_,()=>{this.disable()}),this.eventsDispatcher.on(z_,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!Qe(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Sp,{mutations:e})}}const dS=class hS extends Oe{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const n=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!Qe(n.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(n){Me(`Paste handling for ${e.name} Tool hasn't been set up because of the error`,"warn",n)}},this.handlePasteEvent=async e=>{const{BlockManager:n,Toolbar:r}=this.Editor,o=n.setCurrentBlockByChildNode(e.target);!o||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||o&&this.exceptionList.includes(o.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),r.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,n=!1){const{Tools:r}=this.Editor,o=e.types;if((o.includes?o.includes("Files"):o.contains("Files"))&&!kn(this.toolsFiles)){await this.processFiles(e.files);return}const i=e.getData(this.MIME_TYPE),s=e.getData("text/plain");let a=e.getData("text/html");if(i)try{this.insertEditorJSData(JSON.parse(i));return}catch{}n&&s.trim()&&a.trim()&&(a="<p>"+(a.trim()?a:s)+"</p>");const l=Object.keys(this.toolsTags).reduce((u,p)=>(u[p.toLowerCase()]=this.toolsTags[p].sanitizationConfig??{},u),{}),c=Object.assign({},l,r.getAllInlineToolsSanitizeConfig(),{br:{}}),d=Kn(a,c);!d.trim()||d.trim()===s||!F.isHTMLString(d)?await this.processText(s):await this.processText(d,!0)}async processText(e,n=!1){const{Caret:r,BlockManager:o}=this.Editor,i=n?this.processHTML(e):this.processPlain(e);if(!i.length)return;if(i.length===1){i[0].isBlock?this.processSingleBlock(i.pop()):this.processInlinePaste(i.pop());return}const s=o.currentBlock&&o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty;i.map(async(a,l)=>this.insertBlock(a,l===0&&s)),o.currentBlock&&r.setToBlock(o.currentBlock,r.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return Nr(e)?[e]:Tt(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const n=e.pasteConfig.tags||[],r=[];n.forEach(o=>{const i=this.collectTagNames(o);r.push(...i),i.forEach(s=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,s)){Me(`Paste handler for ${e.name} Tool on ${s} tag is skipped because it is already used by ${this.toolsTags[s].tool.name} Tool.`,"warn");return}const a=Tt(o)?o[s]:null;this.toolsTags[s.toUpperCase()]={tool:e,sanitizationConfig:a}})}),this.tagsByTool[e.name]=r.map(o=>o.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:n={}}=e.pasteConfig;let{extensions:r,mimeTypes:o}=n;!r&&!o||(r&&!Array.isArray(r)&&(Me(`extensions property of the onDrop config for ${e.name} Tool should be an array`),r=[]),o&&!Array.isArray(o)&&(Me(`mimeTypes property of the onDrop config for ${e.name} Tool should be an array`),o=[]),o&&(o=o.filter(i=>$9(i)?!0:(Me(`MIME type value ${i} for the ${e.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:r||[],mimeTypes:o||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||kn(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([n,r])=>{r instanceof RegExp||Me(`Pattern ${r} for ${e.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:n,pattern:r,tool:e})})}isNativeBehaviour(e){return F.isNativeInput(e)}async processFiles(e){const{BlockManager:n}=this.Editor;let r;r=await Promise.all(Array.from(e).map(i=>this.processFile(i))),r=r.filter(i=>!!i);const o=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;r.forEach((i,s)=>{n.paste(i.type,i.event,s===0&&o)})}async processFile(e){const n=D9(e),r=Object.entries(this.toolsFiles).find(([i,{mimeTypes:s,extensions:a}])=>{const[l,c]=e.type.split("/"),d=a.find(p=>p.toLowerCase()===n.toLowerCase()),u=s.find(p=>{const[w,f]=p.split("/");return w===l&&(f===c||f==="*")});return!!d||!!u});if(!r)return;const[o]=r;return{event:this.composePasteEvent("file",{file:e}),type:o}}processHTML(e){const{Tools:n}=this.Editor,r=F.make("DIV");return r.innerHTML=e,this.getNodes(r).map(o=>{let i,s=n.defaultTool,a=!1;switch(o.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:i=F.make("div"),i.appendChild(o);break;case Node.ELEMENT_NODE:i=o,a=!0,this.toolsTags[i.tagName]&&(s=this.toolsTags[i.tagName].tool);break}const{tags:l}=s.pasteConfig||{tags:[]},c=l.reduce((p,w)=>(this.collectTagNames(w).forEach(f=>{const b=Tt(w)?w[f]:null;p[f.toLowerCase()]=b||{}}),p),{}),d=Object.assign({},c,s.baseSanitizeConfig);if(i.tagName.toLowerCase()==="table"){const p=Kn(i.outerHTML,d);i=F.make("div",void 0,{innerHTML:p}).firstChild}else i.innerHTML=Kn(i.innerHTML,d);const u=this.composePasteEvent("tag",{data:i});return{content:i,isBlock:a,tool:s.name,event:u}}).filter(o=>{const i=F.isEmpty(o.content),s=F.isSingleTag(o.content);return!i||s})}processPlain(e){const{defaultBlock:n}=this.config;if(!e)return[];const r=n;return e.split(/\r?\n/).filter(o=>o.trim()).map(o=>{const i=F.make("div");i.textContent=o;const s=this.composePasteEvent("tag",{data:i});return{content:i,tool:r,isBlock:!1,event:s}})}async processSingleBlock(e){const{Caret:n,BlockManager:r}=this.Editor,{currentBlock:o}=r;if(!o||e.tool!==o.name||!F.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(o==null?void 0:o.tool.isDefault)&&o.isEmpty);return}n.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:n,Caret:r}=this.Editor,{content:o}=e;if(n.currentBlock&&n.currentBlock.tool.isDefault&&o.textContent.length<hS.PATTERN_PROCESSING_MAX_LENGTH){const i=await this.processPattern(o.textContent);if(i){const s=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,a=n.paste(i.tool,i.event,s);r.setToBlock(a,r.positions.END);return}}if(n.currentBlock&&n.currentBlock.currentInput){const i=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Kn(o.innerHTML,i))}else this.insertBlock(e)}async processPattern(e){const n=this.toolsPatterns.find(r=>{const o=r.pattern.exec(e);return o?e===o.shift():!1});return n?{event:this.composePasteEvent("pattern",{key:n.key,data:e}),tool:n.tool.name}:void 0}insertBlock(e,n=!1){const{BlockManager:r,Caret:o}=this.Editor,{currentBlock:i}=r;let s;if(n&&i&&i.isEmpty){s=r.paste(e.tool,e.event,!0),o.setToBlock(s,o.positions.END);return}s=r.paste(e.tool,e.event),o.setToBlock(s,o.positions.END)}insertEditorJSData(e){const{BlockManager:n,Caret:r,Tools:o}=this.Editor;Rg(e,i=>o.blockTools.get(i).sanitizeConfig).forEach(({tool:i,data:s},a)=>{let l=!1;a===0&&(l=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);const c=n.insert({tool:i,data:s,replace:l});r.setToBlock(c,r.positions.END)})}processElementNode(e,n,r){const o=Object.keys(this.toolsTags),i=e,{tool:s}=this.toolsTags[i.tagName]||{},a=this.tagsByTool[s==null?void 0:s.name]||[],l=o.includes(i.tagName),c=F.blockElements.includes(i.tagName.toLowerCase()),d=Array.from(i.children).some(({tagName:p})=>o.includes(p)&&!a.includes(p)),u=Array.from(i.children).some(({tagName:p})=>F.blockElements.includes(p.toLowerCase()));if(!c&&!l&&!d)return r.appendChild(i),[...n,r];if(l&&!d||c&&!u&&!d)return[...n,r,i]}getNodes(e){const n=Array.from(e.childNodes);let r;const o=(i,s)=>{if(F.isEmpty(s)&&!F.isSingleTag(s))return i;const a=i[i.length-1];let l=new DocumentFragment;switch(a&&F.isFragment(a)&&(l=i.pop()),s.nodeType){case Node.ELEMENT_NODE:if(r=this.processElementNode(s,i,l),r)return r;break;case Node.TEXT_NODE:return l.appendChild(s),[...i,l];default:return[...i,l]}return[...i,...Array.from(s.childNodes).reduce(o,[])]};return n.reduce(o,[])}composePasteEvent(e,n){return new CustomEvent(e,{detail:n})}};dS.PATTERN_PROCESSING_MAX_LENGTH=450;let _D=dS;class SD extends Oe{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([o,i])=>{i.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(e=!this.readOnlyEnabled,n=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const r=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const i in this.Editor)this.Editor[i].toggleReadOnly&&this.Editor[i].toggleReadOnly(e);if(r===e)return this.readOnlyEnabled;if(n)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const o=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(o.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new D_(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}let ED=class Tc extends Oe{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${br.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=o.some(a=>!!r.closest(a));!i||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",wp(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",wp(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(F.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=F.make("div",Tc.CSS.overlay,{}),o=F.make("div",Tc.CSS.overlayContainer,{}),i=F.make("div",Tc.CSS.rect,{});return o.appendChild(i),r.appendChild(o),n.appendChild(r),this.overlayRectangle=i,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:o}=this.genInfoForMouseSelection(),i=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),pe.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),o=this.Editor.BlockManager.getBlockByChildNode(r);let i;o!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(d=>d.holder===o.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+br.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:i,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,i=-1,s=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=s;r>1&&(l=a?o:i);const c=e>this.stackOfSelected[r-1]&&l===o,d=e<this.stackOfSelected[r-1]&&l===i,u=!(c||d||l===s);if(!u&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let f=this.stackOfSelected[r-1]+1||e;for(f;f<=e;f++)this.addBlockInSelection(f);return}if(!u&&e<this.stackOfSelected[r-1]){for(let f=this.stackOfSelected[r-1]-1;f>=e;f--)this.addBlockInSelection(f);return}if(!u)return;let p=r-1,w;for(e>this.stackOfSelected[r-1]?w=()=>e>this.stackOfSelected[p]:w=()=>e<this.stackOfSelected[p];w();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[p]),this.stackOfSelected.pop(),p--}};class CD extends Oe{async render(e){return new Promise(n=>{const{Tools:r,BlockManager:o}=this.Editor;if(e.length===0)o.insert();else{const i=e.map(({type:s,data:a,tunes:l,id:c})=>{r.available.has(s)===!1&&(vn(`Tool ${s} is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(s,a,c),s=r.stubTool);let d;try{d=o.composeBlock({id:c,tool:s,data:a,tunes:l})}catch(u){Me(`Block ${s} skipped because of plugins error`,"error",{data:a,error:u}),a=this.composeStubDataForTool(s,a,c),s=r.stubTool,d=o.composeBlock({id:c,tool:s,data:a,tunes:l})}return d});o.insertMany(i)}window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,r){const{Tools:o}=this.Editor;let i=e;if(o.unavailable.has(e)){const s=o.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(i=s[0].title)}return{savedData:{id:r,type:e,data:n},title:i}}}class TD extends Oe{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,o=[];try{r.forEach(a=>{o.push(this.getSavedData(a))});const i=await Promise.all(o),s=await Rg(i,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(i){vn("Saving failed due to the Error %o","error",i)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){const n=[];return e.forEach(({id:r,tool:o,data:i,tunes:s,isValid:a})=>{if(!a){Me(`Block ${o} skipped because saved data is invalid`);return}if(o===this.Editor.Tools.stubTool){n.push(i);return}const l={id:r,type:o,data:i,...!kn(s)&&{tunes:s}};n.push(l)}),{time:+new Date,blocks:n,version:"2.30.6"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const ND='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function RD(t){const e=document.createElement("div");e.innerHTML=t.trim();const n=document.createDocumentFragment();return n.append(...Array.from(e.childNodes)),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */let ID=class fS{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:fS.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=n.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const n=RD(e.text);this._element.appendChild(n),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this._data=n,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:ND,title:"Text"}}},jg=class{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:A7,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}};jg.isInline=!0;jg.title="Bold";let Dg=class{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=$7,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}};Dg.isInline=!0;Dg.title="Italic";let $g=class{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new pe}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Sy,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=H7,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=Sy,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new pe;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),Me("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!n&&!r&&!o&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}};$g.isInline=!0;$g.title="Link";class pS{constructor({api:e}){this.i18nAPI=e.i18n,this.blocksAPI=e.blocks,this.selectionAPI=e.selection,this.toolsAPI=e.tools,this.caretAPI=e.caret}async render(){const e=pe.get(),n=this.blocksAPI.getBlockByElement(e.anchorNode);if(n===void 0)return[];const r=this.toolsAPI.getBlockTools(),o=await V_(n,r);if(o.length===0)return[];const i=o.reduce((c,d)=>{var u;return(u=d.toolbox)==null||u.forEach(p=>{c.push({icon:p.icon,title:Ut.t(an.toolNames,p.title),name:d.name,closeOnActivate:!0,onActivate:async()=>{const w=await this.blocksAPI.convert(n.id,d.name,p.data);this.caretAPI.setToBlock(w,"end")}})}),c},[]),s=await n.getActiveToolboxEntry(),a=s!==void 0?s.icon:J_,l=!_s();return{icon:a,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:l,items:i,onOpen:()=>{l&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{l&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}}pS.isInline=!0;class mS{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=F.make("div",this.CSS.wrapper),n=V7,r=F.make("div",this.CSS.info),o=F.make("div",this.CSS.title,{textContent:this.title}),i=F.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(o),r.appendChild(i),e.appendChild(r),e}}mS.isReadOnlySupported=!0;class LD extends Mg{constructor(){super(...arguments),this.type=Fo.Inline}get title(){return this.constructable[Bg.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}}class AD extends Mg{constructor(){super(...arguments),this.type=Fo.Tune}create(e,n){return new this.constructable({api:this.api,config:this.settings,block:n,data:e})}}let zn=class bi extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new bi(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new bi(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new bi(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new bi(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new bi(e)}};var OD=Object.defineProperty,PD=Object.getOwnPropertyDescriptor,gS=(t,e,n,r)=>{for(var o=PD(e,n),i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=s(e,n,o)||o);return o&&OD(e,n,o),o};let Ug=class extends Mg{constructor(){super(...arguments),this.type=Fo.Block,this.inlineTools=new zn,this.tunes=new zn}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[yi.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[yi.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[yi.Toolbox],n=this.config[Sc.Toolbox];if(!kn(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,o)=>{const i=e[o];return i?{...i,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[yi.ConversionConfig]}get enabledInlineTools(){return this.config[Sc.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Sc.EnabledBlockTunes]}get pasteConfig(){return this.constructable[yi.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(kn(e))return n;const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];Tt(i)?r[o]=Object.assign({},n,i):r[o]=i}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}};gS([ks],Ug.prototype,"sanitizeConfig");gS([ks],Ug.prototype,"baseSanitizeConfig");class BD{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...o}=this.config[e],i=this.getConstructor(n),s=n[Tp.IsTune];return new i({name:e,constructable:n,config:o,api:this.api.getMethodsForTool(e,s),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[Bg.IsInline]:return LD;case e[Tp.IsTune]:return AD;default:return Ug}}}class vS{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:O7,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,o=r.getBoundingClientRect();let i=Math.abs(window.innerHeight-r.offsetHeight);o.top<window.innerHeight&&(i=window.scrollY+r.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}vS.isTune=!0;class yS{constructor({api:e}){this.api=e}render(){return{icon:j7,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}yS.isTune=!0;class bS{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:M7,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const o=n.holder,i=r.holder,s=o.getBoundingClientRect(),a=i.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}bS.isTune=!0;var MD=Object.defineProperty,jD=Object.getOwnPropertyDescriptor,DD=(t,e,n,r)=>{for(var o=jD(e,n),i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=s(e,n,o)||o);return o&&MD(e,n,o),o};class wS extends Oe{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new zn,this.toolsUnavailable=new zn}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=xp({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new BD(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await j9(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{Qe(e.reset)&&await e.reset()})}get internalTools(){return{convertTo:{class:pS,isInternal:!0},link:{class:$g,isInternal:!0},bold:{class:jg,isInternal:!0},italic:{class:Dg,isInternal:!0},paragraph:{class:ID,inlineToolbar:!0,isInternal:!0},stub:{class:mS,isInternal:!0},moveUp:{class:bS,isInternal:!0},delete:{class:yS,isInternal:!0},moveDown:{class:vS,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render"].filter(o=>!n.create()[o]);if(r.length){Me(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,o])=>{n.push({function:Qe(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new zn(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new zn(["convertTo",...e.enabledInlineTools].map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new zn(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new zn([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new zn(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new zn([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!Qe(n)&&!Qe(n.class))throw Error(`Tool ${e} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const e={};for(const n in this.config.tools)Tt(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}DD([ks],wS.prototype,"getAllInlineToolsSanitizeConfig");const $D=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class UD extends Oe{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=xy(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${br.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():window.requestIdleCallback(()=>{this.enableModuleBindings()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r}=this.Editor;return!!(n.opened||r.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof Iu).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r}=this.Editor;n.close(),r.close(),e.toolbox.close()}setIsMobile(){const e=window.innerWidth<P_;e!==this.isMobile&&this.eventsDispatcher.emit(Va,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=F.getHolder(this.config.holder),this.nodes.wrapper=F.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=F.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(F.get(e))return;const n=F.make("style",null,{id:e,textContent:$D.toString()});this.config.style&&!kn(this.config.style)&&this.config.style.nonce&&n.setAttribute("nonce",this.config.style.nonce),F.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",n=>{this.redactorClicked(n)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",n=>{this.documentTouched(n)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",n=>{this.documentTouched(n)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",n=>{this.documentKeydown(n)},!0),this.readOnlyMutableListeners.on(document,"mousedown",n=>{this.documentClicked(n)},!0);const e=xy(()=>{this.selectionChanged()},wD);this.readOnlyMutableListeners.on(document,"selectionchange",e,!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",wp(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(aS,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case we.ENTER:this.enterPressed(e);break;case we.BACKSPACE:case we.DELETE:this.backspacePressed(e);break;case we.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&o||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!pe.isSelectionExists){const i=n.removeSelectedBlocks(),s=n.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor;if(this.someToolbarOpened)return;const o=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!pe.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const i=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var n,r;if(!e.isTrusted)return;const o=e.target;this.nodes.holder.contains(o)||pe.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const i=(n=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:n.contains(o),s=(r=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:r.contains(o),a=i||s;if(this.Editor.BlockSettings.opened&&!a){this.Editor.BlockSettings.close();const l=this.Editor.BlockManager.getBlockByChildNode(o);this.Editor.Toolbar.moveAndOpen(l)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!pe.isCollapsed)return;const n=e.target,r=e.metaKey||e.ctrlKey;if(F.isAnchor(n)&&r){e.stopImmediatePropagation(),e.stopPropagation();const o=n.getAttribute("href"),i=F9(o);H9(i);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const n=this.Editor.BlockManager.getBlockByIndex(-1),r=F.offset(n.holder).bottom,o=e.pageY,{BlockSelection:i}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!i.anyBlockSelected&&r<o){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:s,Caret:a,Toolbar:l}=this.Editor;(!s.lastBlock.tool.isDefault||!s.lastBlock.isEmpty)&&s.insertAtEnd(),a.setToTheLastBlock(),l.moveAndOpen(s.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=pe.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&pe.get().removeAllRanges(),!r){pe.range||this.Editor.InlineToolbar.close();return}const o=r.closest(`.${br.CSS.content}`);(o===null||o.closest(`.${pe.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(n){const r=n.target;B_(r)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}}const FD={BlocksAPI:e7,CaretAPI:n7,EventsAPI:r7,I18nAPI:o7,API:i7,InlineToolbarAPI:s7,ListenersAPI:a7,NotifierAPI:d7,ReadOnlyAPI:h7,SanitizerAPI:b7,SaverAPI:w7,SelectionAPI:x7,ToolsAPI:k7,StylesAPI:_7,ToolbarAPI:S7,TooltipAPI:R7,UiAPI:I7,BlockSettings:nD,Toolbar:uD,InlineToolbar:dD,BlockEvents:hD,BlockManager:mD,BlockSelection:gD,Caret:vD,CrossBlockSelection:yD,DragNDrop:bD,ModificationsObserver:kD,Paste:_D,ReadOnly:SD,RectangleSelection:ED,Renderer:CD,Saver:TD,Tools:wS,UI:UD};class zD{constructor(e){this.moduleInstances={},this.eventsDispatcher=new yl;let n,r;this.isReady=new Promise((o,i)=>{n=o,r=i}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:o,Caret:i,UI:s,ModificationsObserver:a}=this.moduleInstances;s.checkEmptiness(),a.enable(),this.configuration.autofocus&&i.setToBlock(o.blocks[0],i.positions.START),n()}).catch(o=>{Me(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var n,r;Tt(e)?this.config={...e}:this.config={holder:e},kp(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=L_.VERBOSE),B9(this.config.logLevel),kp(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(kn(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&Ut.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("holderId and holder param can't assign at the same time.");if(Nr(n)&&!F.get(n))throw Error(`element with ID ${n} is missing. Pass correct holder's ID.`);if(n&&Tt(n)&&!F.isElement(n))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof D_)throw new Error(r.message);Me(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(FD).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){Me("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class Iy{static get version(){return"2.30.6"}constructor(e){let n=()=>{};Tt(e)&&Qe(e.onReady)&&(n=e.onReady);const r=new zD(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{Qe(o.destroy)&&o.destroy(),o.listeners.removeAll()}),N7(),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};n.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,i])=>{Object.entries(i).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[o][s]})})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const HD={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([t,e])=>{if(!e&&t)return t;const n={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};let r=e.slice(1).split("&").map(o=>{const[i,s]=o.split("=");return!t&&i==="v"?(t=s,null):!n[i]||s==="LL"||s.startsWith("RDMM")||s.startsWith("FL")?null:`${n[i]}=${s}`}).filter(o=>!!o);return t+"?"+r.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:t=>t.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:t=>t.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:t=>t.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/(www\.)?(?:twitter\.com|x\.com)\/.+\/status\/(\d+)/,embedUrl:"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:t=>t[1]},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:t=>t[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:t=>t.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:t=>`${t.join("/")}.js`}};function Rp(t,e,n){var r,o,i,s,a;e==null&&(e=100);function l(){var d=Date.now()-s;d<e&&d>=0?r=setTimeout(l,e-d):(r=null,n||(a=t.apply(i,o),i=o=null))}var c=function(){i=this,o=arguments,s=Date.now();var d=n&&!r;return r||(r=setTimeout(l,e)),d&&(a=t.apply(i,o),i=o=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(i,o),i=o=null,clearTimeout(r),r=null)},c}Rp.debounce=Rp;var VD=Rp;let WD=class To{constructor({data:e,api:n,readOnly:r}){this.api=n,this._data={},this.element=null,this.readOnly=r,this.data=e}set data(e){var n;if(!(e instanceof Object))throw Error("Embed Tool data should be object");const{service:r,source:o,embed:i,width:s,height:a,caption:l=""}=e;this._data={service:r||this.data.service,source:o||this.data.source,embed:i||this.data.embed,width:s||this.data.width,height:a||this.data.height,caption:l||this.data.caption||""};const c=this.element;c&&((n=c.parentNode)==null||n.replaceChild(this.render(),c))}get data(){if(this.element){const e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const a=document.createElement("div");return this.element=a,a}const{html:e}=To.services[this.data.service],n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("template"),i=this.createPreloader();n.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),r.classList.add(this.CSS.input,this.CSS.caption),n.appendChild(i),r.contentEditable=(!this.readOnly).toString(),r.dataset.placeholder=this.api.i18n.t("Enter a caption"),r.innerHTML=this.data.caption||"",o.innerHTML=e,o.content.firstChild.setAttribute("src",this.data.embed),o.content.firstChild.classList.add(this.CSS.content);const s=this.embedIsReady(n);return o.content.firstChild&&n.appendChild(o.content.firstChild),n.appendChild(r),s.then(()=>{n.classList.remove(this.CSS.containerLoading)}),this.element=n,n}createPreloader(){const e=document.createElement("preloader"),n=document.createElement("div");return n.textContent=this.data.source,e.classList.add(this.CSS.preloader),n.classList.add(this.CSS.url),e.appendChild(n),e}save(){return this.data}onPaste(e){var n;const{key:r,data:o}=e.detail,{regex:i,embedUrl:s,width:a,height:l,id:c=p=>p.shift()||""}=To.services[r],d=(n=i.exec(o))==null?void 0:n.slice(1),u=d?s.replace(/<%= remote_id %>/g,c(d)):"";this.data={service:r,source:o,embed:u,width:a,height:l}}static prepare({config:e={}}){const{services:n={}}=e;let r=Object.entries(HD);const o=Object.entries(n).filter(([s,a])=>typeof a=="boolean"&&a===!0).map(([s])=>s),i=Object.entries(n).filter(([s,a])=>typeof a=="object").filter(([s,a])=>To.checkServiceConfig(a)).map(([s,a])=>{const{regex:l,embedUrl:c,html:d,height:u,width:p,id:w}=a;return[s,{regex:l,embedUrl:c,html:d,height:u,width:p,id:w}]});o.length&&(r=r.filter(([s])=>o.includes(s))),r=r.concat(i),To.services=r.reduce((s,[a,l])=>a in s?(s[a]=Object.assign({},s[a],l),s):(s[a]=l,s),{}),To.patterns=r.reduce((s,[a,l])=>(l&&typeof l!="boolean"&&(s[a]=l.regex),s),{})}static checkServiceConfig(e){const{regex:n,embedUrl:r,html:o,height:i,width:s,id:a}=e;let l=!!(n&&n instanceof RegExp)&&!!(r&&typeof r=="string")&&!!(o&&typeof o=="string");return l=l&&(a!==void 0?a instanceof Function:!0),l=l&&(i!==void 0?Number.isFinite(i):!0),l=l&&(s!==void 0?Number.isFinite(s):!0),l}static get pasteConfig(){return{patterns:To.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let n;return new Promise((r,o)=>{n=new MutationObserver(VD.debounce(r,450)),n.observe(e,{childList:!0,subtree:!0})}).then(()=>{n.disconnect()})}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const qD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',KD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',GD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',YD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',XD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',JD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',ZD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */class QD{constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._settings=n,this._data=this.normalizeData(e),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return e.text!==void 0}normalizeData(e){const n={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(n.text=e.text||"",e.level!==void 0&&!isNaN(parseInt(e.level.toString()))&&(n.level=parseInt(e.level.toString()))),n}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){const n={text:this.data.text+e.text,level:this.data.level};this.data=n}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){const n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(n=>n.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find(n=>n.number===this._settings.defaultLevel);if(e)return e;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:qD},{number:2,tag:"H2",svg:KD},{number:3,tag:"H3",svg:GD},{number:4,tag:"H4",svg:YD},{number:5,tag:"H5",svg:XD},{number:6,tag:"H6",svg:JD}];return this._settings.levels?e.filter(n=>this._settings.levels.includes(n.number)):e}onPaste(e){const n=e.detail;if("data"in n){const r=n.data;let o=this.defaultLevel.number;switch(r.tagName){case"H1":o=1;break;case"H2":o=2;break;case"H3":o=3;break;case"H4":o=4;break;case"H5":o=5;break;case"H6":o=6;break}this._settings.levels&&(o=this._settings.levels.reduce((i,s)=>Math.abs(s-o)<Math.abs(i-o)?s:i)),this.data={level:o,text:r.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:ZD,title:"Heading"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const e$='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';let t$=class na{static get CSS(){return"cdx-marker"}constructor({api:e}){this.api=e,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,na.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(na.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){this.api.selection.expandToTag(e);let n=window.getSelection(),r=n.getRangeAt(0),o=r.extractContents();e.parentNode.removeChild(e),r.insertNode(o),n.removeAllRanges(),n.addRange(r)}checkState(){const e=this.api.selection.findParentTag(this.tag,na.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return e$}static get sanitize(){return{mark:{class:na.CSS}}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const n$='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';let r$=class ra{constructor({api:e}){this.tag="CODE",this.api=e,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get CSS(){return"inline-code"}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,ra.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(ra.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){var n;this.api.selection.expandToTag(e);const r=window.getSelection();if(!r)return;const o=r.getRangeAt(0),i=o.extractContents();(n=e.parentNode)==null||n.removeChild(e),o.insertNode(i),r.removeAllRanges(),r.addRange(o)}checkState(){const e=this.api.selection.findParentTag(this.tag,ra.CSS);return this.button&&this.button.classList.toggle(this.iconClasses.active,!!e),!!e}get toolboxIcon(){return n$}static get sanitize(){return{code:{class:ra.CSS}}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const o$='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',i$='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',xS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',s$='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function pi(t,e=null,n={}){const r=document.createElement(t);Array.isArray(e)?r.classList.add(...e):e!==null&&r.classList.add(e);for(const o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);return r}var oa=(t=>(t.Empty="empty",t.Uploading="uploading",t.Filled="filled",t))(oa||{});let a$=class{constructor({api:e,config:n,onSelectFile:r,readOnly:o}){this.api=e,this.config=n,this.onSelectFile=r,this.readOnly=o,this.nodes={wrapper:pi("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:pi("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:pi("div",this.CSS.imagePreloader),caption:pi("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(e,n){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,n)}render(e){return e.file===void 0||Object.keys(e.file).length===0?this.toggleStatus("empty"):this.toggleStatus("uploading"),this.nodes.wrapper}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(e){const n=/\.mp4$/.test(e)?"VIDEO":"IMG",r={src:e};let o="load";n==="VIDEO"&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,o="loadeddata"),this.nodes.imageEl=pi(n,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(o,()=>{this.toggleStatus("filled"),this.nodes.imagePreloader!==void 0&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){this.nodes.caption!==void 0&&(this.nodes.caption.innerHTML=e)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){const e=pi("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent??`${xS} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}toggleStatus(e){for(const n in oa)Object.prototype.hasOwnProperty.call(oa,n)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${oa[n]}`,e===oa[n])}};function l$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=3)}([function(n,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}n.exports=o},function(n,r,o){(function(i){var s=o(2),a=setTimeout;function l(){}function c(y){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if(typeof y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],b(y,this)}function d(y,v){for(;y._state===3;)y=y._value;y._state!==0?(y._handled=!0,c._immediateFn(function(){var g=y._state===1?v.onFulfilled:v.onRejected;if(g!==null){var m;try{m=g(y._value)}catch(x){return void p(v.promise,x)}u(v.promise,m)}else(y._state===1?u:p)(v.promise,y._value)})):y._deferreds.push(v)}function u(y,v){try{if(v===y)throw new TypeError("A promise cannot be resolved with itself.");if(v&&(typeof v=="object"||typeof v=="function")){var g=v.then;if(v instanceof c)return y._state=3,y._value=v,void w(y);if(typeof g=="function")return void b((m=g,x=v,function(){m.apply(x,arguments)}),y)}y._state=1,y._value=v,w(y)}catch(k){p(y,k)}var m,x}function p(y,v){y._state=2,y._value=v,w(y)}function w(y){y._state===2&&y._deferreds.length===0&&c._immediateFn(function(){y._handled||c._unhandledRejectionFn(y._value)});for(var v=0,g=y._deferreds.length;v<g;v++)d(y,y._deferreds[v]);y._deferreds=null}function f(y,v,g){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof v=="function"?v:null,this.promise=g}function b(y,v){var g=!1;try{y(function(m){g||(g=!0,u(v,m))},function(m){g||(g=!0,p(v,m))})}catch(m){if(g)return;g=!0,p(v,m)}}c.prototype.catch=function(y){return this.then(null,y)},c.prototype.then=function(y,v){var g=new this.constructor(l);return d(this,new f(y,v,g)),g},c.prototype.finally=s.a,c.all=function(y){return new c(function(v,g){if(!y||y.length===void 0)throw new TypeError("Promise.all accepts an array");var m=Array.prototype.slice.call(y);if(m.length===0)return v([]);var x=m.length;function k(E,S){try{if(S&&(typeof S=="object"||typeof S=="function")){var T=S.then;if(typeof T=="function")return void T.call(S,function(N){k(E,N)},g)}m[E]=S,--x==0&&v(m)}catch(N){g(N)}}for(var _=0;_<m.length;_++)k(_,m[_])})},c.resolve=function(y){return y&&typeof y=="object"&&y.constructor===c?y:new c(function(v){v(y)})},c.reject=function(y){return new c(function(v,g){g(y)})},c.race=function(y){return new c(function(v,g){for(var m=0,x=y.length;m<x;m++)y[m].then(v,g)})},c._immediateFn=typeof i=="function"&&function(y){i(y)}||function(y){a(y,0)},c._unhandledRejectionFn=function(y){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",y)},r.a=c}).call(this,o(5).setImmediate)},function(n,r,o){r.a=function(i){var s=this.constructor;return this.then(function(a){return s.resolve(i()).then(function(){return a})},function(a){return s.resolve(i()).then(function(){return s.reject(a)})})}},function(n,r,o){function i(b){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}o(4);var s,a,l,c,d,u,p,w=o(8),f=(a=function(b){return new Promise(function(y,v){b=c(b),(b=d(b)).beforeSend&&b.beforeSend();var g=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");g.open(b.method,b.url),g.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(b.headers).forEach(function(x){var k=b.headers[x];g.setRequestHeader(x,k)});var m=b.ratio;g.upload.addEventListener("progress",function(x){var k=Math.round(x.loaded/x.total*100),_=Math.ceil(k*m/100);b.progress(Math.min(_,100))},!1),g.addEventListener("progress",function(x){var k=Math.round(x.loaded/x.total*100),_=Math.ceil(k*(100-m)/100)+m;b.progress(Math.min(_,100))},!1),g.onreadystatechange=function(){if(g.readyState===4){var x=g.response;try{x=JSON.parse(x)}catch{}var k=w.parseHeaders(g.getAllResponseHeaders()),_={body:x,code:g.status,headers:k};p(g.status)?y(_):v(_)}},g.send(b.data)})},l=function(b){return b.method="POST",a(b)},c=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(b.url&&typeof b.url!="string")throw new Error("Url must be a string");if(b.url=b.url||"",b.method&&typeof b.method!="string")throw new Error("`method` must be a string or null");if(b.method=b.method?b.method.toUpperCase():"GET",b.headers&&i(b.headers)!=="object")throw new Error("`headers` must be an object or null");if(b.headers=b.headers||{},b.type&&(typeof b.type!="string"||!Object.values(s).includes(b.type)))throw new Error("`type` must be taken from module's contentType library");if(b.progress&&typeof b.progress!="function")throw new Error("`progress` must be a function or null");if(b.progress=b.progress||function(y){},b.beforeSend=b.beforeSend||function(y){},b.ratio&&typeof b.ratio!="number")throw new Error("`ratio` must be a number");if(b.ratio<0||b.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(b.ratio=b.ratio||90,b.accept&&typeof b.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(b.accept=b.accept||"*/*",b.multiple&&typeof b.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(b.multiple=b.multiple||!1,b.fieldName&&typeof b.fieldName!="string")throw new Error("`fieldName` must be a string");return b.fieldName=b.fieldName||"files",b},d=function(b){switch(b.method){case"GET":var y=u(b.data,s.URLENCODED);delete b.data,b.url=/\?/.test(b.url)?b.url+"&"+y:b.url+"?"+y;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var v=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||s.JSON}(b);(w.isFormData(b.data)||w.isFormElement(b.data))&&(v=s.FORM),b.data=u(b.data,v),v!==f.contentType.FORM&&(b.headers["content-type"]=v)}return b},u=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case s.URLENCODED:return w.urlEncode(b);case s.JSON:return w.jsonEncode(b);case s.FORM:return w.formEncode(b);default:return b}},p=function(b){return b>=200&&b<300},{contentType:s={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:a,get:function(b){return b.method="GET",a(b)},post:l,transport:function(b){return b=c(b),w.selectFiles(b).then(function(y){for(var v=new FormData,g=0;g<y.length;g++)v.append(b.fieldName,y[g],y[g].name);w.isObject(b.data)&&Object.keys(b.data).forEach(function(x){var k=b.data[x];v.append(x,k)});var m=b.beforeSend;return b.beforeSend=function(){return m(y)},b.data=v,l(b)})},selectFiles:function(b){return delete(b=c(b)).beforeSend,w.selectFiles(b)}});n.exports=f},function(n,r,o){o.r(r);var i=o(1);window.Promise=window.Promise||i.a},function(n,r,o){(function(i){var s=i!==void 0&&i||typeof self<"u"&&self||window,a=Function.prototype.apply;function l(c,d){this._id=c,this._clearFn=d}r.setTimeout=function(){return new l(a.call(setTimeout,s,arguments),clearTimeout)},r.setInterval=function(){return new l(a.call(setInterval,s,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(c){c&&c.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(s,this._id)},r.enroll=function(c,d){clearTimeout(c._idleTimeoutId),c._idleTimeout=d},r.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},r._unrefActive=r.active=function(c){clearTimeout(c._idleTimeoutId);var d=c._idleTimeout;d>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},d))},o(6),r.setImmediate=typeof self<"u"&&self.setImmediate||i!==void 0&&i.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||i!==void 0&&i.clearImmediate||this&&this.clearImmediate}).call(this,o(0))},function(n,r,o){(function(i,s){(function(a,l){if(!a.setImmediate){var c,d,u,p,w,f=1,b={},y=!1,v=a.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(a);g=g&&g.setTimeout?g:a,{}.toString.call(a.process)==="[object process]"?c=function(k){s.nextTick(function(){x(k)})}:function(){if(a.postMessage&&!a.importScripts){var k=!0,_=a.onmessage;return a.onmessage=function(){k=!1},a.postMessage("","*"),a.onmessage=_,k}}()?(p="setImmediate$"+Math.random()+"$",w=function(k){k.source===a&&typeof k.data=="string"&&k.data.indexOf(p)===0&&x(+k.data.slice(p.length))},a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),c=function(k){a.postMessage(p+k,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(k){x(k.data)},c=function(k){u.port2.postMessage(k)}):v&&"onreadystatechange"in v.createElement("script")?(d=v.documentElement,c=function(k){var _=v.createElement("script");_.onreadystatechange=function(){x(k),_.onreadystatechange=null,d.removeChild(_),_=null},d.appendChild(_)}):c=function(k){setTimeout(x,0,k)},g.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var _=new Array(arguments.length-1),E=0;E<_.length;E++)_[E]=arguments[E+1];var S={callback:k,args:_};return b[f]=S,c(f),f++},g.clearImmediate=m}function m(k){delete b[k]}function x(k){if(y)setTimeout(x,0,k);else{var _=b[k];if(_){y=!0;try{(function(E){var S=E.callback,T=E.args;switch(T.length){case 0:S();break;case 1:S(T[0]);break;case 2:S(T[0],T[1]);break;case 3:S(T[0],T[1],T[2]);break;default:S.apply(l,T)}})(_)}finally{m(k),y=!1}}}}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,o(0),o(7))},function(n,r){var o,i,s=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(g){if(o===setTimeout)return setTimeout(g,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(g,0);try{return o(g,0)}catch{try{return o.call(null,g,0)}catch{return o.call(this,g,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:a}catch{o=a}try{i=typeof clearTimeout=="function"?clearTimeout:l}catch{i=l}})();var d,u=[],p=!1,w=-1;function f(){p&&d&&(p=!1,d.length?u=d.concat(u):w=-1,u.length&&b())}function b(){if(!p){var g=c(f);p=!0;for(var m=u.length;m;){for(d=u,u=[];++w<m;)d&&d[w].run();w=-1,m=u.length}d=null,p=!1,function(x){if(i===clearTimeout)return clearTimeout(x);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(x);try{i(x)}catch{try{return i.call(null,x)}catch{return i.call(this,x)}}}(g)}}function y(g,m){this.fun=g,this.array=m}function v(){}s.nextTick=function(g){var m=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)m[x-1]=arguments[x];u.push(new y(g,m)),u.length!==1||p||c(b)},y.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(g){return[]},s.binding=function(g){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(g){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,r,o){function i(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var s=o(9);n.exports=function(){function a(){(function(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")})(this,a)}var l,c,d;return l=a,d=[{key:"urlEncode",value:function(u){return s(u)}},{key:"jsonEncode",value:function(u){return JSON.stringify(u)}},{key:"formEncode",value:function(u){if(this.isFormData(u))return u;if(this.isFormElement(u))return new FormData(u);if(this.isObject(u)){var p=new FormData;return Object.keys(u).forEach(function(w){var f=u[w];p.append(w,f)}),p}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(u){return Object.prototype.toString.call(u)==="[object Object]"}},{key:"isFormData",value:function(u){return u instanceof FormData}},{key:"isFormElement",value:function(u){return u instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(p,w){var f=document.createElement("INPUT");f.type="file",u.multiple&&f.setAttribute("multiple","multiple"),u.accept&&f.setAttribute("accept",u.accept),f.style.display="none",document.body.appendChild(f),f.addEventListener("change",function(b){var y=b.target.files;p(y),document.body.removeChild(f)},!1),f.click()})}},{key:"parseHeaders",value:function(u){var p=u.trim().split(/[\r\n]+/),w={};return p.forEach(function(f){var b=f.split(": "),y=b.shift(),v=b.join(": ");y&&(w[y]=v)}),w}}],(c=null)&&i(l.prototype,c),d&&i(l,d),a}()},function(n,r){var o=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},i=function(s,a,l,c){return a=a||null,l=l||"&",c=c||null,s?function(d){for(var u=new Array,p=0;p<d.length;p++)d[p]&&u.push(d[p]);return u}(Object.keys(s).map(function(d){var u,p,w=d;if(c&&(w=c+"["+w+"]"),typeof s[d]=="object"&&s[d]!==null)u=i(s[d],null,l,w);else{a&&(p=w,w=!isNaN(parseFloat(p))&&isFinite(p)?a+Number(w):w);var f=s[d];f=(f=(f=(f=f===!0?"1":f)===!1?"0":f)===0?"0":f)||"",u=o(w)+"="+o(f)}return u})).join(l).replace(/[!'()*]/g,""):""};n.exports=i}])})})(kS);var c$=kS.exports;const mi=l$(c$);function qh(t){return t!==void 0&&typeof t.then=="function"}let u$=class{constructor({config:e,onUpload:n,onError:r}){this.config=e,this.onUpload=n,this.onError=r}uploadSelectedFile({onPreview:e}){const n=function(o){const i=new FileReader;i.readAsDataURL(o),i.onload=s=>{e(s.target.result)}};let r;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"){const o=this.config.uploader.uploadByFile;r=mi.selectFiles({accept:this.config.types??"image/*"}).then(i=>{n(i[0]);const s=o(i[0]);return qh(s)||console.warn("Custom uploader method uploadByFile should return a Promise"),s})}else r=mi.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"image/*",headers:this.config.additionalRequestHeaders,beforeSend:o=>{n(o[0])},fieldName:this.config.field??"image"}).then(o=>o.body);r.then(o=>{this.onUpload(o)}).catch(o=>{this.onError(o)})}uploadByUrl(e){let n;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(n=this.config.uploader.uploadByUrl(e),qh(n)||console.warn("Custom uploader method uploadByUrl should return a Promise")):n=mi.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:mi.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(r=>r.body),n.then(r=>{this.onUpload(r)}).catch(r=>{this.onError(r)})}uploadByFile(e,{onPreview:n}){const r=new FileReader;r.readAsDataURL(e),r.onload=i=>{n(i.target.result)};let o;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")o=this.config.uploader.uploadByFile(e),qh(o)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const i=new FormData;i.append(this.config.field??"image",e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([s,a])=>{i.append(s,a)}),o=mi.post({url:this.config.endpoints.byFile,data:i,type:mi.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(s=>s.body)}o.then(i=>{this.onUpload(i)}).catch(i=>{this.onError(i)})}};/**
 * Image Tool for the Editor.js
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.ts  main Tool's interface, public API and methods for working with data
 *  2) uploader.ts  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.ts  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */let d$=class Ip{constructor({data:e,config:n,api:r,readOnly:o,block:i}){this.api=r,this.readOnly=o,this.block=i,this.config={endpoints:n.endpoints,additionalRequestData:n.additionalRequestData,additionalRequestHeaders:n.additionalRequestHeaders,field:n.field,types:n.types,captionPlaceholder:this.api.i18n.t(n.captionPlaceholder??"Caption"),buttonContent:n.buttonContent,uploader:n.uploader,actions:n.actions},this.uploader=new u$({config:this.config,onUpload:s=>this.onUpload(s),onError:s=>this.uploadingFailed(s)}),this.ui=new a$({api:r,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:s=>{this.ui.showPreloader(s)}})},readOnly:o}),this._data={caption:"",withBorder:!1,withBackground:!1,stretched:!1,file:{url:""}},this.data=e}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:xS,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:i$,title:"With border",toggle:!0},{name:"stretched",icon:s$,title:"Stretch image",toggle:!0},{name:"withBackground",icon:o$,title:"With background",toggle:!0}]}render(){return this.ui.render(this.data)}validate(e){return!!e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return Ip.tunes.concat(this.config.actions||[]).map(e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{if(typeof e.action=="function"){e.action(e.name);return}this.tuneToggled(e.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{const n=e.detail.data;if(/^blob:/.test(n.src)){const r=await(await fetch(n.src)).blob();this.uploadFile(r);break}this.uploadUrl(n.src);break}case"pattern":{const n=e.detail.data;this.uploadUrl(n);break}case"file":{const n=e.detail.file;this.uploadFile(n);break}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),Ip.tunes.forEach(({name:n})=>{const r=typeof e[n]<"u"?e[n]===!0||e[n]==="true":!1;this.setTune(n,r)})}get data(){return this._data}set image(e){this._data.file=e||{url:""},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,n){this._data[e]=n,this.ui.applyTune(e,n),e==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=n}).catch(r=>{console.error(r)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:n=>{this.ui.showPreloader(n)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const h$='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',f$='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',p$='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>';var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m$(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var Nc={},Fg={},zg={};Object.defineProperty(zg,"__esModule",{value:!0});zg.allInputsSelector=g$;function g$(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=zg;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(Fg);var ai={},Hg={};Object.defineProperty(Hg,"__esModule",{value:!0});Hg.isNativeInput=v$;function v$(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=Hg;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(ai);var _S={},Vg={};Object.defineProperty(Vg,"__esModule",{value:!0});Vg.append=y$;function y$(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=Vg;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(_S);var Wg={},qg={};Object.defineProperty(qg,"__esModule",{value:!0});qg.blockElements=b$;function b$(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=qg;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Wg);var SS={},Kg={};Object.defineProperty(Kg,"__esModule",{value:!0});Kg.calculateBaseline=w$;function w$(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,o=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=n*.8,l=(r-n)/2,c=s+i+o+l+a;return c}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=Kg;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(SS);var ES={},Gg={},Yg={},Xg={};Object.defineProperty(Xg,"__esModule",{value:!0});Xg.isContentEditable=x$;function x$(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=Xg;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(Yg);Object.defineProperty(Gg,"__esModule",{value:!0});Gg.canSetCaret=S$;var k$=ai,_$=Yg;function S$(t){var e=!0;if((0,k$.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,_$.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=Gg;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(ES);var Ld={},Jg={};function E$(t,e,n){const r=n.value!==void 0?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}function CS(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function Zg(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function C$(t){return!Zg(t)}const T$=()=>typeof window<"u"&&window.navigator!==null&&Zg(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function N$(t){const e=CS();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function R$(t){return t[0].toUpperCase()+t.slice(1)}function I$(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),r=document.createRange();if(r.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function L$(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=void 0,n!==!0&&t.apply(i,o)},a=n===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(s,e),a&&t.apply(i,o)}}function mo(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function A$(t){return mo(t)==="boolean"}function TS(t){return mo(t)==="function"||mo(t)==="asyncfunction"}function O$(t){return TS(t)&&/^\s*class\s+/.test(t.toString())}function P$(t){return mo(t)==="number"}function Rc(t){return mo(t)==="object"}function B$(t){return Promise.resolve(t)===t}function M$(t){return mo(t)==="string"}function j$(t){return mo(t)==="undefined"}function Lp(t,...e){if(!e.length)return t;const n=e.shift();if(Rc(t)&&Rc(n))for(const r in n)Rc(n[r])?(t[r]===void 0&&Object.assign(t,{[r]:{}}),Lp(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Lp(t,...e)}function D$(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&console.warn(r)}function $$(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function U$(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const F$={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},z$={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class H${constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}function V$(t,e,n=void 0){let r,o,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s===null&&(r=o=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const d=e-(c-a);return r=this,o=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),a=c,i=t.apply(r,o),s===null&&(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,d)),i}}const W$=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:H$,beautifyShortcut:N$,cacheable:E$,capitalize:R$,copyTextToClipboard:I$,debounce:L$,deepMerge:Lp,deprecationAssert:D$,getUserOS:CS,getValidUrl:$$,isBoolean:A$,isClass:O$,isEmpty:C$,isFunction:TS,isIosDevice:T$,isNumber:P$,isObject:Rc,isPrintableKey:U$,isPromise:B$,isString:M$,isUndefined:j$,keyCodes:F$,mouseButtons:z$,notEmpty:Zg,throttle:V$,typeOf:mo},Symbol.toStringTag,{value:"Module"})),Qg=m$(W$);Object.defineProperty(Jg,"__esModule",{value:!0});Jg.containsOnlyInlineElements=G$;var q$=Qg,K$=Wg;function G$(t){var e;(0,q$.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(r){return!(0,K$.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=Jg;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(Ld);var NS={},ev={},Ad={},tv={};Object.defineProperty(tv,"__esModule",{value:!0});tv.make=Y$;function Y$(t,e,n){var r;e===void 0&&(e=null),n===void 0&&(n={});var o=document.createElement(t);if(Array.isArray(e)){var i=e.filter(function(a){return a!==void 0});(r=o.classList).add.apply(r,i)}else e!==null&&o.classList.add(e);for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s]);return o}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=tv;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(Ad);Object.defineProperty(ev,"__esModule",{value:!0});ev.fragmentToString=J$;var X$=Ad;function J$(t){var e=(0,X$.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=ev;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(NS);var RS={},nv={};Object.defineProperty(nv,"__esModule",{value:!0});nv.getContentLength=Q$;var Z$=ai;function Q$(t){var e,n;return(0,Z$.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=nv;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(RS);var rv={},ov={},Ly=Au&&Au.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(ov,"__esModule",{value:!0});ov.getDeepestBlockElements=IS;var eU=Ld;function IS(t){return(0,eU.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return Ly(Ly([],e,!0),IS(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=ov;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(rv);var LS={},iv={},Od={},sv={};Object.defineProperty(sv,"__esModule",{value:!0});sv.isLineBreakTag=tU;function tU(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=sv;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(Od);var Pd={},av={};Object.defineProperty(av,"__esModule",{value:!0});av.isSingleTag=nU;function nU(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=av;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(Pd);Object.defineProperty(iv,"__esModule",{value:!0});iv.getDeepestNode=AS;var rU=ai,oU=Od,iU=Pd;function AS(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var o=t[n];if((0,iU.isSingleTag)(o)&&!(0,rU.isNativeInput)(o)&&!(0,oU.isLineBreakTag)(o))if(o[r])o=o[r];else if(o.parentNode!==null&&o.parentNode[r])o=o.parentNode[r];else return o.parentNode;return AS(o,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=iv;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(LS);var OS={},lv={},Zl=Au&&Au.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(lv,"__esModule",{value:!0});lv.findAllInputs=uU;var sU=Ld,aU=rv,lU=Fg,cU=ai;function uU(t){return Array.from(t.querySelectorAll((0,lU.allInputsSelector)())).reduce(function(e,n){return(0,cU.isNativeInput)(n)||(0,sU.containsOnlyInlineElements)(n)?Zl(Zl([],e,!0),[n],!1):Zl(Zl([],e,!0),(0,aU.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=lv;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(OS);var PS={},cv={};Object.defineProperty(cv,"__esModule",{value:!0});cv.isCollapsedWhitespaces=dU;function dU(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=cv;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(PS);var uv={},dv={};Object.defineProperty(dv,"__esModule",{value:!0});dv.isElement=fU;var hU=Qg;function fU(t){return(0,hU.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=dv;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(uv);var BS={},hv={},fv={},pv={};Object.defineProperty(pv,"__esModule",{value:!0});pv.isLeaf=pU;function pU(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=pv;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(fv);var mv={},gv={};Object.defineProperty(gv,"__esModule",{value:!0});gv.isNodeEmpty=bU;var mU=Od,gU=uv,vU=ai,yU=Pd;function bU(t,e){var n="";return(0,yU.isSingleTag)(t)&&!(0,mU.isLineBreakTag)(t)?!1:((0,gU.isElement)(t)&&(0,vU.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=gv;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(mv);Object.defineProperty(hv,"__esModule",{value:!0});hv.isEmpty=kU;var wU=fv,xU=mv;function kU(t,e){t.normalize();for(var n=[t];n.length>0;){var r=n.shift();if(r){if(t=r,(0,wU.isLeaf)(t)&&!(0,xU.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=hv;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(BS);var MS={},vv={};Object.defineProperty(vv,"__esModule",{value:!0});vv.isFragment=SU;var _U=Qg;function SU(t){return(0,_U.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=vv;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(MS);var jS={},yv={};Object.defineProperty(yv,"__esModule",{value:!0});yv.isHTMLString=CU;var EU=Ad;function CU(t){var e=(0,EU.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=yv;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(jS);var DS={},bv={};Object.defineProperty(bv,"__esModule",{value:!0});bv.offset=TU;function TU(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,o=e.top+r,i=e.left+n;return{top:o,left:i,bottom:o+e.height,right:i+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=bv;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(DS);var $S={},wv={};Object.defineProperty(wv,"__esModule",{value:!0});wv.prepend=NU;function NU(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=wv;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})($S);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=Fg;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=ai;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=_S;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return r.append}});var o=Wg;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return o.blockElements}});var i=SS;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return i.calculateBaseline}});var s=ES;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var a=Ld;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return a.containsOnlyInlineElements}});var l=NS;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var c=RS;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return c.getContentLength}});var d=rv;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return d.getDeepestBlockElements}});var u=LS;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return u.getDeepestNode}});var p=OS;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return p.findAllInputs}});var w=PS;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return w.isCollapsedWhitespaces}});var f=Yg;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return f.isContentEditable}});var b=uv;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return b.isElement}});var y=BS;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return y.isEmpty}});var v=MS;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return v.isFragment}});var g=jS;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return g.isHTMLString}});var m=fv;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return m.isLeaf}});var x=mv;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return x.isNodeEmpty}});var k=Od;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return k.isLineBreakTag}});var _=Pd;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return _.isSingleTag}});var E=Ad;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return E.make}});var S=DS;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return S.offset}});var T=$S;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return T.prepend}})})(Nc);var US=(t=>(t.Left="left",t.Center="center",t))(US||{});class wa{constructor({data:e,config:n,api:r,readOnly:o,block:i}){const{DEFAULT_ALIGNMENT:s}=wa;this.api=r,this.readOnly=o,this._quotePlaceholder=n.quotePlaceholder||wa.DEFAULT_QUOTE_PLACEHOLDER,this._captionPlaceholder=n.captionPlaceholder||wa.DEFAULT_CAPTION_PLACEHOLDER,this._data={text:e.text||"",caption:e.caption||"",alignment:Object.values(US).includes(e.alignment)&&e.alignment||n.defaultAlignment||s},this._CSS={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"},this._block=i}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:p$,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get DEFAULT_ALIGNMENT(){return"left"}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text}  ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:f$},{name:"center",icon:h$}]}render(){const e=Nc.make("blockquote",[this._CSS.baseClass,this._CSS.wrapper]),n=Nc.make("div",[this._CSS.input,this._CSS.text],{contentEditable:!this.readOnly,innerHTML:this._data.text}),r=Nc.make("div",[this._CSS.input,this._CSS.caption],{contentEditable:!this.readOnly,innerHTML:this._data.caption});return n.dataset.placeholder=this._quotePlaceholder,r.dataset.placeholder=this._captionPlaceholder,e.appendChild(n),e.appendChild(r),e}save(e){const n=e.querySelector(`.${this._CSS.text}`),r=e.querySelector(`.${this._CSS.caption}`);return Object.assign(this._data,{text:(n==null?void 0:n.innerHTML)??"",caption:(r==null?void 0:r.innerHTML)??""})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const e=n=>n&&n[0].toUpperCase()+n.slice(1);return this.settings.map(n=>({icon:n.icon,label:this.api.i18n.t(`Align ${e(n.name)}`),onActivate:()=>this._toggleTune(n.name),isActive:this._data.alignment===n.name,closeOnActivate:!0}))}_toggleTune(e){this._data.alignment=e,this._block.dispatchChange()}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Ay='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',RU='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';let IU=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:Ay,title:"List"}}constructor({data:e,config:n,api:r,readOnly:o}){this._elements={wrapper:null},this.api=r,this.readOnly=o,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:Ay,default:n.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:RU,default:n.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(i=>i.default===!0).name,items:[]},this.data=e}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",e=>{const[n,r]=[13,8];switch(e.keyCode){case n:this.getOutofList(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(e=>({...e,isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)}))}onPaste(e){const n=e.detail.data;this.data=this.pasteHandler(n)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){const n=e==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,r=e==="ordered"?"ol":"ul";return this._make(r,[this.CSS.baseBlock,this.CSS.wrapper,n],{contentEditable:!this.readOnly})}toggleTune(e){const n=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)n.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(n),this._elements.wrapper=n,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find(r=>r.default===!0).name,this._data.items=e.items||[];const n=this._elements.wrapper;n&&n.parentNode.replaceChild(this.render(),n)}get data(){this._data.items=[];const e=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let n=0;n<e.length;n++)e[n].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[n].innerHTML);return this._data}_make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)o[i]=r[i];return o}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}getOutofList(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(n.length<2)return;const r=n[n.length-1],o=this.currentItem;o===r&&!r.textContent.trim().length&&(o.parentElement.removeChild(o),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item),r=n[0];r&&n.length<2&&!r.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();const n=window.getSelection(),r=n.anchorNode.parentNode,o=r.closest("."+this.CSS.item),i=new Range;i.selectNodeContents(o),n.removeAllRanges(),n.addRange(i)}pasteHandler(e){const{tagName:n}=e;let r;switch(n){case"OL":r="ordered";break;case"UL":case"LI":r="unordered"}const o={style:r,items:[]};if(n==="LI")o.items=[e.innerHTML];else{const i=Array.from(e.querySelectorAll("LI"));o.items=i.map(s=>s.innerHTML).filter(s=>!!s.trim())}return o}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-code__textarea{min-height:200px;font-family:Menlo,Monaco,Consolas,Courier New,monospace;color:#41314e;line-height:1.6em;font-size:12px;background:#f8f7fa;border:1px solid #f1f1f4;box-shadow:none;white-space:pre;word-wrap:normal;overflow-x:auto;resize:vertical}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();function LU(t,e){let n="";for(;n!==`
`&&e>0;)e=e-1,n=t.substr(e,1);return n===`
`&&(e+=1),e}const AU='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';/**
 * CodeTool for Editor.js
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */class xv{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this.placeholder=this.api.i18n.t(n.placeholder||xv.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:e.code||""},this.nodes.holder=this.drawView()}drawView(){const e=document.createElement("div"),n=document.createElement("textarea");return e.classList.add(this.CSS.baseClass,this.CSS.wrapper),n.classList.add(this.CSS.textarea,this.CSS.input),n.textContent=this.data.code,n.placeholder=this.placeholder,this.readOnly&&(n.disabled=!0),e.appendChild(n),n.addEventListener("keydown",r=>{switch(r.code){case"Tab":this.tabHandler(r);break}}),this.nodes.textarea=n,e}render(){return this.nodes.holder}save(e){return{code:e.querySelector("textarea").value}}onPaste(e){const n=e.detail.data;this.data={code:n.textContent}}get data(){return this._data}set data(e){this._data=e,this.nodes.textarea&&(this.nodes.textarea.textContent=e.code)}static get toolbox(){return{icon:AU,title:"Code"}}static get DEFAULT_PLACEHOLDER(){return"Enter a code"}static get pasteConfig(){return{tags:["pre"]}}static get sanitize(){return{code:!0}}tabHandler(e){e.stopPropagation(),e.preventDefault();const n=e.target,r=e.shiftKey,o=n.selectionStart,i=n.value,s="  ";let a;if(!r)a=o+s.length,n.value=i.substring(0,o)+s+i.substring(o);else{const l=LU(i,o);if(i.substr(l,s.length)!==s)return;n.value=i.substring(0,l)+i.substring(l+s.length),a=o-s.length}n.setSelectionRange(a,a)}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(`.link-tool{position:relative}.link-tool__input{padding-left:38px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:10px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.link-tool__input-holder{position:relative}.link-tool__input-holder--error .link-tool__input{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-color:#fff3f6;border-color:#f3e0e0;color:#a95a5a;box-shadow:inset 0 1px 3px #923e3e0d}.link-tool__input[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.link-tool__input[contentEditable=true][data-placeholder]:empty:before{opacity:1}.link-tool__input[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.link-tool__progress{position:absolute;box-shadow:inset 0 1px 3px #66556b0a;height:100%;width:0;background-color:#f4f5f7;z-index:-1}.link-tool__progress--loading{-webkit-animation:progress .5s ease-in;-webkit-animation-fill-mode:forwards}.link-tool__progress--loaded{width:100%}.link-tool__content{display:block;padding:25px;border-radius:2px;box-shadow:0 0 0 2px #fff;color:initial!important;text-decoration:none!important}.link-tool__content:after{content:"";clear:both;display:table}.link-tool__content--rendered{background:#fff;border:1px solid rgba(201,201,204,.48);box-shadow:0 1px 3px #0000001a;border-radius:6px;will-change:filter;animation:link-in .45s 1 cubic-bezier(.215,.61,.355,1)}.link-tool__content--rendered:hover{box-shadow:0 0 3px #00000029}.link-tool__image{background-position:center center;background-repeat:no-repeat;background-size:cover;margin:0 0 0 30px;width:65px;height:65px;border-radius:3px;float:right}.link-tool__title{font-size:17px;font-weight:600;line-height:1.5em;margin:0 0 10px}.link-tool__title+.link-tool__anchor{margin-top:25px}.link-tool__description{margin:0 0 20px;font-size:15px;line-height:1.55em;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.link-tool__anchor{display:block;font-size:15px;line-height:1em;color:#888!important;border:0!important;padding:0!important}@keyframes link-in{0%{filter:blur(5px)}to{filter:none}}.codex-editor--narrow .link-tool__image{display:none}@-webkit-keyframes progress{0%{width:0}to{width:85%}}`)),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var Wi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function OU(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(function(t){var e=function(){try{return!!Symbol.iterator}catch{return!1}},n=e(),r=function(c){var d={next:function(){var u=c.shift();return{done:u===void 0,value:u}}};return n&&(d[Symbol.iterator]=function(){return d}),d},o=function(c){return encodeURIComponent(c).replace(/%20/g,"+")},i=function(c){return decodeURIComponent(String(c).replace(/\+/g," "))},s=function(){var c=function(u){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var p=typeof u;if(p!=="undefined")if(p==="string")u!==""&&this._fromString(u);else if(u instanceof c){var w=this;u.forEach(function(v,g){w.append(g,v)})}else if(u!==null&&p==="object")if(Object.prototype.toString.call(u)==="[object Array]")for(var f=0;f<u.length;f++){var b=u[f];if(Object.prototype.toString.call(b)==="[object Array]"||b.length!==2)this.append(b[0],b[1]);else throw new TypeError("Expected [string, any] as entry at index "+f+" of URLSearchParams's input")}else for(var y in u)u.hasOwnProperty(y)&&this.append(y,u[y]);else throw new TypeError("Unsupported input's type for URLSearchParams")},d=c.prototype;d.append=function(u,p){u in this._entries?this._entries[u].push(String(p)):this._entries[u]=[String(p)]},d.delete=function(u){delete this._entries[u]},d.get=function(u){return u in this._entries?this._entries[u][0]:null},d.getAll=function(u){return u in this._entries?this._entries[u].slice(0):[]},d.has=function(u){return u in this._entries},d.set=function(u,p){this._entries[u]=[String(p)]},d.forEach=function(u,p){var w;for(var f in this._entries)if(this._entries.hasOwnProperty(f)){w=this._entries[f];for(var b=0;b<w.length;b++)u.call(p,w[b],f,this)}},d.keys=function(){var u=[];return this.forEach(function(p,w){u.push(w)}),r(u)},d.values=function(){var u=[];return this.forEach(function(p){u.push(p)}),r(u)},d.entries=function(){var u=[];return this.forEach(function(p,w){u.push([w,p])}),r(u)},n&&(d[Symbol.iterator]=d.entries),d.toString=function(){var u=[];return this.forEach(function(p,w){u.push(o(w)+"="+o(p))}),u.join("&")},t.URLSearchParams=c},a=function(){try{var c=t.URLSearchParams;return new c("?a=1").toString()==="a=1"&&typeof c.prototype.set=="function"}catch{return!1}};a()||s();var l=t.URLSearchParams.prototype;typeof l.sort!="function"&&(l.sort=function(){var c=this,d=[];this.forEach(function(p,w){d.push([w,p]),c._entries||c.delete(w)}),d.sort(function(p,w){return p[0]<w[0]?-1:p[0]>w[0]?1:0}),c._entries&&(c._entries={});for(var u=0;u<d.length;u++)this.append(d[u][0],d[u][1])}),typeof l._fromString!="function"&&Object.defineProperty(l,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(c){if(this._entries)this._entries={};else{var d=[];this.forEach(function(f,b){d.push(b)});for(var u=0;u<d.length;u++)this.delete(d[u])}c=c.replace(/^\?/,"");for(var p=c.split("&"),w,u=0;u<p.length;u++)w=p[u].split("="),this.append(i(w[0]),w.length>1?i(w[1]):"")}})})(typeof Wi<"u"?Wi:typeof window<"u"?window:typeof self<"u"?self:Wi);(function(t){var e=function(){try{var o=new t.URL("b","http://a");return o.pathname="c d",o.href==="http://a/c%20d"&&o.searchParams}catch{return!1}},n=function(){var o=t.URL,i=function(l,c){typeof l!="string"&&(l=String(l));var d=document,u;if(c&&(t.location===void 0||c!==t.location.href)){d=document.implementation.createHTMLDocument(""),u=d.createElement("base"),u.href=c,d.head.appendChild(u);try{if(u.href.indexOf(c)!==0)throw new Error(u.href)}catch(m){throw new Error("URL unable to set base "+c+" due to "+m)}}var p=d.createElement("a");p.href=l,u&&(d.body.appendChild(p),p.href=p.href);var w=d.createElement("input");if(w.type="url",w.value=l,p.protocol===":"||!/:/.test(p.href)||!w.checkValidity()&&!c)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:p});var f=new t.URLSearchParams(this.search),b=!0,y=!0,v=this;["append","delete","set"].forEach(function(m){var x=f[m];f[m]=function(){x.apply(f,arguments),b&&(y=!1,v.search=f.toString(),y=!0)}}),Object.defineProperty(this,"searchParams",{value:f,enumerable:!0});var g=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==g&&(g=this.search,y&&(b=!1,this.searchParams._fromString(this.search),b=!0))}})},s=i.prototype,a=function(l){Object.defineProperty(s,l,{get:function(){return this._anchorElement[l]},set:function(c){this._anchorElement[l]=c},enumerable:!0})};["hash","host","hostname","port","protocol"].forEach(function(l){a(l)}),Object.defineProperty(s,"search",{get:function(){return this._anchorElement.search},set:function(l){this._anchorElement.search=l,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(s,{toString:{get:function(){var l=this;return function(){return l.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(l){this._anchorElement.href=l,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(l){this._anchorElement.pathname=l},enumerable:!0},origin:{get:function(){var l={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],c=this._anchorElement.port!=l&&this._anchorElement.port!=="";return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(c?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(l){},enumerable:!0},username:{get:function(){return""},set:function(l){},enumerable:!0}}),i.createObjectURL=function(l){return o.createObjectURL.apply(o,arguments)},i.revokeObjectURL=function(l){return o.revokeObjectURL.apply(o,arguments)},t.URL=i};if(e()||n(),t.location!==void 0&&!("origin"in t.location)){var r=function(){return t.location.protocol+"//"+t.location.hostname+(t.location.port?":"+t.location.port:"")};try{Object.defineProperty(t.location,"origin",{get:r,enumerable:!0})}catch{setInterval(function(){t.location.origin=r()},100)}}})(typeof Wi<"u"?Wi:typeof window<"u"?window:typeof self<"u"?self:Wi);var FS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=3)}([function(n,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}n.exports=o},function(n,r,o){(function(i){var s=o(2),a=setTimeout;function l(){}function c(y){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if(typeof y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],b(y,this)}function d(y,v){for(;y._state===3;)y=y._value;y._state!==0?(y._handled=!0,c._immediateFn(function(){var g=y._state===1?v.onFulfilled:v.onRejected;if(g!==null){var m;try{m=g(y._value)}catch(x){return void p(v.promise,x)}u(v.promise,m)}else(y._state===1?u:p)(v.promise,y._value)})):y._deferreds.push(v)}function u(y,v){try{if(v===y)throw new TypeError("A promise cannot be resolved with itself.");if(v&&(typeof v=="object"||typeof v=="function")){var g=v.then;if(v instanceof c)return y._state=3,y._value=v,void w(y);if(typeof g=="function")return void b((m=g,x=v,function(){m.apply(x,arguments)}),y)}y._state=1,y._value=v,w(y)}catch(k){p(y,k)}var m,x}function p(y,v){y._state=2,y._value=v,w(y)}function w(y){y._state===2&&y._deferreds.length===0&&c._immediateFn(function(){y._handled||c._unhandledRejectionFn(y._value)});for(var v=0,g=y._deferreds.length;v<g;v++)d(y,y._deferreds[v]);y._deferreds=null}function f(y,v,g){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof v=="function"?v:null,this.promise=g}function b(y,v){var g=!1;try{y(function(m){g||(g=!0,u(v,m))},function(m){g||(g=!0,p(v,m))})}catch(m){if(g)return;g=!0,p(v,m)}}c.prototype.catch=function(y){return this.then(null,y)},c.prototype.then=function(y,v){var g=new this.constructor(l);return d(this,new f(y,v,g)),g},c.prototype.finally=s.a,c.all=function(y){return new c(function(v,g){if(!y||y.length===void 0)throw new TypeError("Promise.all accepts an array");var m=Array.prototype.slice.call(y);if(m.length===0)return v([]);var x=m.length;function k(E,S){try{if(S&&(typeof S=="object"||typeof S=="function")){var T=S.then;if(typeof T=="function")return void T.call(S,function(N){k(E,N)},g)}m[E]=S,--x==0&&v(m)}catch(N){g(N)}}for(var _=0;_<m.length;_++)k(_,m[_])})},c.resolve=function(y){return y&&typeof y=="object"&&y.constructor===c?y:new c(function(v){v(y)})},c.reject=function(y){return new c(function(v,g){g(y)})},c.race=function(y){return new c(function(v,g){for(var m=0,x=y.length;m<x;m++)y[m].then(v,g)})},c._immediateFn=typeof i=="function"&&function(y){i(y)}||function(y){a(y,0)},c._unhandledRejectionFn=function(y){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",y)},r.a=c}).call(this,o(5).setImmediate)},function(n,r,o){r.a=function(i){var s=this.constructor;return this.then(function(a){return s.resolve(i()).then(function(){return a})},function(a){return s.resolve(i()).then(function(){return s.reject(a)})})}},function(n,r,o){function i(f){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}o(4);var s,a,l,c,d,u,p=o(8),w=(a=function(f){return new Promise(function(b,y){f=c(f),f=d(f);var v=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");v.open(f.method,f.url),v.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(f.headers).forEach(function(m){var x=f.headers[m];v.setRequestHeader(m,x)});var g=f.ratio;v.upload.addEventListener("progress",function(m){var x=Math.round(m.loaded/m.total*100),k=Math.ceil(x*g/100);f.progress(k)},!1),v.addEventListener("progress",function(m){var x=Math.round(m.loaded/m.total*100),k=Math.ceil(x*(100-g)/100)+g;f.progress(k)},!1),v.onreadystatechange=function(){if(v.readyState===4){var m=v.response;try{m=JSON.parse(m)}catch{}var x=p.parseHeaders(v.getAllResponseHeaders()),k={body:m,code:v.status,headers:x};v.status===200?b(k):y(k)}},v.send(f.data)})},l=function(f){return f.method="POST",a(f)},c=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(f.url&&typeof f.url!="string")throw new Error("Url must be a string");if(f.url=f.url||"",f.method&&typeof f.method!="string")throw new Error("`method` must be a string or null");if(f.method=f.method?f.method.toUpperCase():"GET",f.headers&&i(f.headers)!=="object")throw new Error("`headers` must be an object or null");if(f.headers=f.headers||{},f.type&&(typeof f.type!="string"||!Object.values(s).includes(f.type)))throw new Error("`type` must be taken from module's contentType library");if(f.progress&&typeof f.progress!="function")throw new Error("`progress` must be a function or null");if(f.progress=f.progress||function(b){},f.beforeSend=f.beforeSend||function(b){},f.ratio&&typeof f.ratio!="number")throw new Error("`ratio` must be a number");if(f.ratio<0||f.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(f.ratio=f.ratio||90,f.accept&&typeof f.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(f.accept=f.accept||"*/*",f.multiple&&typeof f.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(f.multiple=f.multiple||!1,f.fieldName&&typeof f.fieldName!="string")throw new Error("`fieldName` must be a string");return f.fieldName=f.fieldName||"files",f},d=function(f){switch(f.method){case"GET":var b=u(f.data,s.URLENCODED);delete f.data,f.url=/\?/.test(f.url)?f.url+"&"+b:f.url+"?"+b;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var y=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||s.JSON}(f);(p.isFormData(f.data)||p.isFormElement(f.data))&&(y=s.FORM),f.data=u(f.data,y),y!==w.contentType.FORM&&(f.headers["content-type"]=y)}return f},u=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case s.URLENCODED:return p.urlEncode(f);case s.JSON:return p.jsonEncode(f);case s.FORM:return p.formEncode(f);default:return f}},{contentType:s={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:a,get:function(f){return f.method="GET",a(f)},post:l,transport:function(f){return f=c(f),p.selectFiles(f).then(function(b){for(var y=new FormData,v=0;v<b.length;v++)y.append(f.fieldName,b[v],b[v].name);return p.isObject(f.data)&&Object.keys(f.data).forEach(function(g){var m=f.data[g];y.append(g,m)}),f.beforeSend&&f.beforeSend(b),f.data=y,l(f)})},selectFiles:function(f){return delete(f=c(f)).beforeSend,p.selectFiles(f)}});n.exports=w},function(n,r,o){o.r(r);var i=o(1);window.Promise=window.Promise||i.a},function(n,r,o){(function(i){var s=i!==void 0&&i||typeof self<"u"&&self||window,a=Function.prototype.apply;function l(c,d){this._id=c,this._clearFn=d}r.setTimeout=function(){return new l(a.call(setTimeout,s,arguments),clearTimeout)},r.setInterval=function(){return new l(a.call(setInterval,s,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(c){c&&c.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(s,this._id)},r.enroll=function(c,d){clearTimeout(c._idleTimeoutId),c._idleTimeout=d},r.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},r._unrefActive=r.active=function(c){clearTimeout(c._idleTimeoutId);var d=c._idleTimeout;d>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},d))},o(6),r.setImmediate=typeof self<"u"&&self.setImmediate||i!==void 0&&i.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||i!==void 0&&i.clearImmediate||this&&this.clearImmediate}).call(this,o(0))},function(n,r,o){(function(i,s){(function(a,l){if(!a.setImmediate){var c,d,u,p,w,f=1,b={},y=!1,v=a.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(a);g=g&&g.setTimeout?g:a,{}.toString.call(a.process)==="[object process]"?c=function(k){s.nextTick(function(){x(k)})}:function(){if(a.postMessage&&!a.importScripts){var k=!0,_=a.onmessage;return a.onmessage=function(){k=!1},a.postMessage("","*"),a.onmessage=_,k}}()?(p="setImmediate$"+Math.random()+"$",w=function(k){k.source===a&&typeof k.data=="string"&&k.data.indexOf(p)===0&&x(+k.data.slice(p.length))},a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),c=function(k){a.postMessage(p+k,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(k){x(k.data)},c=function(k){u.port2.postMessage(k)}):v&&"onreadystatechange"in v.createElement("script")?(d=v.documentElement,c=function(k){var _=v.createElement("script");_.onreadystatechange=function(){x(k),_.onreadystatechange=null,d.removeChild(_),_=null},d.appendChild(_)}):c=function(k){setTimeout(x,0,k)},g.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var _=new Array(arguments.length-1),E=0;E<_.length;E++)_[E]=arguments[E+1];var S={callback:k,args:_};return b[f]=S,c(f),f++},g.clearImmediate=m}function m(k){delete b[k]}function x(k){if(y)setTimeout(x,0,k);else{var _=b[k];if(_){y=!0;try{(function(E){var S=E.callback,T=E.args;switch(T.length){case 0:S();break;case 1:S(T[0]);break;case 2:S(T[0],T[1]);break;case 3:S(T[0],T[1],T[2]);break;default:S.apply(l,T)}})(_)}finally{m(k),y=!1}}}}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,o(0),o(7))},function(n,r){var o,i,s=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(g){if(o===setTimeout)return setTimeout(g,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(g,0);try{return o(g,0)}catch{try{return o.call(null,g,0)}catch{return o.call(this,g,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:a}catch{o=a}try{i=typeof clearTimeout=="function"?clearTimeout:l}catch{i=l}})();var d,u=[],p=!1,w=-1;function f(){p&&d&&(p=!1,d.length?u=d.concat(u):w=-1,u.length&&b())}function b(){if(!p){var g=c(f);p=!0;for(var m=u.length;m;){for(d=u,u=[];++w<m;)d&&d[w].run();w=-1,m=u.length}d=null,p=!1,function(x){if(i===clearTimeout)return clearTimeout(x);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(x);try{i(x)}catch{try{return i.call(null,x)}catch{return i.call(this,x)}}}(g)}}function y(g,m){this.fun=g,this.array=m}function v(){}s.nextTick=function(g){var m=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)m[x-1]=arguments[x];u.push(new y(g,m)),u.length!==1||p||c(b)},y.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(g){return[]},s.binding=function(g){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(g){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,r,o){function i(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var s=o(9);n.exports=function(){function a(){(function(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")})(this,a)}var l,c,d;return l=a,d=[{key:"urlEncode",value:function(u){return s(u)}},{key:"jsonEncode",value:function(u){return JSON.stringify(u)}},{key:"formEncode",value:function(u){if(this.isFormData(u))return u;if(this.isFormElement(u))return new FormData(u);if(this.isObject(u)){var p=new FormData;return Object.keys(u).forEach(function(w){var f=u[w];p.append(w,f)}),p}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(u){return Object.prototype.toString.call(u)==="[object Object]"}},{key:"isFormData",value:function(u){return u instanceof FormData}},{key:"isFormElement",value:function(u){return u instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(p,w){var f=document.createElement("INPUT");f.type="file",u.multiple&&f.setAttribute("multiple","multiple"),u.accept&&f.setAttribute("accept",u.accept),f.style.display="none",document.body.appendChild(f),f.addEventListener("change",function(b){var y=b.target.files;p(y),document.body.removeChild(f)},!1),f.click()})}},{key:"parseHeaders",value:function(u){var p=u.trim().split(/[\r\n]+/),w={};return p.forEach(function(f){var b=f.split(": "),y=b.shift(),v=b.join(": ");y&&(w[y]=v)}),w}}],(c=null)&&i(l.prototype,c),d&&i(l,d),a}()},function(n,r){var o=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},i=function(s,a,l,c){return a=a||null,l=l||"&",c=c||null,s?function(d){for(var u=new Array,p=0;p<d.length;p++)d[p]&&u.push(d[p]);return u}(Object.keys(s).map(function(d){var u,p,w=d;if(c&&(w=c+"["+w+"]"),typeof s[d]=="object"&&s[d]!==null)u=i(s[d],null,l,w);else{a&&(p=w,w=!isNaN(parseFloat(p))&&isFinite(p)?a+Number(w):w);var f=s[d];f=(f=(f=(f=f===!0?"1":f)===!1?"0":f)===0?"0":f)||"",u=o(w)+"="+o(f)}return u})).join(l).replace(/[!'()*]/g,""):""};n.exports=i}])})})(FS);var PU=FS.exports;const BU=OU(PU),MU='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72"/></svg>';class jU{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:MU,title:"Link"}}static get enableLineBreaks(){return!0}constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this.config={endpoint:n.endpoint||"",headers:n.headers||{}},this.nodes={wrapper:null,container:null,progress:null,input:null,inputHolder:null,linkContent:null,linkImage:null,linkTitle:null,linkDescription:null,linkText:null},this._data={link:"",meta:{}},this.data=e}render(){return this.nodes.wrapper=this.make("div",this.CSS.baseClass),this.nodes.container=this.make("div",this.CSS.container),this.nodes.inputHolder=this.makeInputHolder(),this.nodes.linkContent=this.prepareLinkPreview(),Object.keys(this.data.meta).length?(this.nodes.container.appendChild(this.nodes.linkContent),this.showLinkPreview(this.data.meta)):this.nodes.container.appendChild(this.nodes.inputHolder),this.nodes.wrapper.appendChild(this.nodes.container),this.nodes.wrapper}save(){return this.data}validate(){return this.data.link.trim()!==""}set data(e){this._data=Object.assign({},{link:e.link||this._data.link,meta:e.meta||this._data.meta})}get data(){return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"link-tool",inputEl:"link-tool__input",inputHolder:"link-tool__input-holder",inputError:"link-tool__input-holder--error",linkContent:"link-tool__content",linkContentRendered:"link-tool__content--rendered",linkImage:"link-tool__image",linkTitle:"link-tool__title",linkDescription:"link-tool__description",linkText:"link-tool__anchor",progress:"link-tool__progress",progressLoading:"link-tool__progress--loading",progressLoaded:"link-tool__progress--loaded"}}makeInputHolder(){const e=this.make("div",this.CSS.inputHolder);return this.nodes.progress=this.make("label",this.CSS.progress),this.nodes.input=this.make("div",[this.CSS.input,this.CSS.inputEl],{contentEditable:!this.readOnly}),this.nodes.input.dataset.placeholder=this.api.i18n.t("Link"),this.readOnly||(this.nodes.input.addEventListener("paste",n=>{this.startFetching(n)}),this.nodes.input.addEventListener("keydown",n=>{const[r,o]=[13,65],i=n.ctrlKey||n.metaKey;switch(n.keyCode){case r:n.preventDefault(),n.stopPropagation(),this.startFetching(n);break;case o:i&&this.selectLinkUrl(n);break}})),e.appendChild(this.nodes.progress),e.appendChild(this.nodes.input),e}startFetching(e){let n=this.nodes.input.textContent;e.type==="paste"&&(n=(e.clipboardData||window.clipboardData).getData("text")),this.removeErrorStyle(),this.fetchLinkData(n)}removeErrorStyle(){this.nodes.inputHolder.classList.remove(this.CSS.inputError),this.nodes.inputHolder.insertBefore(this.nodes.progress,this.nodes.input)}selectLinkUrl(e){e.preventDefault(),e.stopPropagation();const n=window.getSelection(),r=new Range,o=n.anchorNode.parentNode.closest(`.${this.CSS.inputHolder}`).querySelector(`.${this.CSS.inputEl}`);r.selectNodeContents(o),n.removeAllRanges(),n.addRange(r)}prepareLinkPreview(){const e=this.make("a",this.CSS.linkContent,{target:"_blank",rel:"nofollow noindex noreferrer"});return this.nodes.linkImage=this.make("div",this.CSS.linkImage),this.nodes.linkTitle=this.make("div",this.CSS.linkTitle),this.nodes.linkDescription=this.make("p",this.CSS.linkDescription),this.nodes.linkText=this.make("span",this.CSS.linkText),e}showLinkPreview({image:e,title:n,description:r}){this.nodes.container.appendChild(this.nodes.linkContent),e&&e.url&&(this.nodes.linkImage.style.backgroundImage="url("+e.url+")",this.nodes.linkContent.appendChild(this.nodes.linkImage)),n&&(this.nodes.linkTitle.textContent=n,this.nodes.linkContent.appendChild(this.nodes.linkTitle)),r&&(this.nodes.linkDescription.textContent=r,this.nodes.linkContent.appendChild(this.nodes.linkDescription)),this.nodes.linkContent.classList.add(this.CSS.linkContentRendered),this.nodes.linkContent.setAttribute("href",this.data.link),this.nodes.linkContent.appendChild(this.nodes.linkText);try{this.nodes.linkText.textContent=new URL(this.data.link).hostname}catch{this.nodes.linkText.textContent=this.data.link}}showProgress(){this.nodes.progress.classList.add(this.CSS.progressLoading)}hideProgress(){return new Promise(e=>{this.nodes.progress.classList.remove(this.CSS.progressLoading),this.nodes.progress.classList.add(this.CSS.progressLoaded),setTimeout(e,500)})}applyErrorStyle(){this.nodes.inputHolder.classList.add(this.CSS.inputError),this.nodes.progress.remove()}async fetchLinkData(e){this.showProgress(),this.data={link:e};try{const{body:n}=await BU.get({url:this.config.endpoint,headers:this.config.headers,data:{url:e}});this.onFetch(n)}catch{this.fetchingFailed(this.api.i18n.t("Couldn't fetch the link data"))}}onFetch(e){if(!e||!e.success){this.fetchingFailed(this.api.i18n.t("Couldn't get this link data, try the other one"));return}const n=e.meta,r=e.link||this.data.link;if(this.data={meta:n,link:r},!n){this.fetchingFailed(this.api.i18n.t("Wrong response format from the server"));return}this.hideProgress().then(()=>{this.nodes.inputHolder.remove(),this.showLinkPreview(n)})}fetchingFailed(e){this.api.notifier.show({message:e,style:"error"}),this.applyErrorStyle()}make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)o[i]=r[i];return o}}var zS={exports:{}};/*! For license information please see link-autocomplete.js.LICENSE.txt */(function(t,e){(function(n,r){t.exports=r()})(self,function(){return(()=>{var n={580:s=>{s.exports=function(a){var l={};function c(d){if(l[d])return l[d].exports;var u=l[d]={i:d,l:!1,exports:{}};return a[d].call(u.exports,u,u.exports,c),u.l=!0,u.exports}return c.m=a,c.c=l,c.d=function(d,u,p){c.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:p})},c.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},c.t=function(d,u){if(1&u&&(d=c(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var p=Object.create(null);if(c.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var w in d)c.d(p,w,(function(f){return d[f]}).bind(null,w));return p},c.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return c.d(u,"a",u),u},c.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},c.p="/",c(c.s=0)}([function(a,l,c){c(1),a.exports=function(){var d=c(6),u=null;return{show:function(p){if(p.message){(function(){if(u)return!0;u=d.getWrapper(),document.body.appendChild(u)})();var w=null,f=p.time||8e3;switch(p.type){case"confirm":w=d.confirm(p);break;case"prompt":w=d.prompt(p);break;default:w=d.alert(p),window.setTimeout(function(){w.remove()},f)}u.appendChild(w),w.classList.add("cdx-notify--bounce-in")}}}}()},function(a,l,c){var d=c(2);typeof d=="string"&&(d=[[a.i,d,""]]),c(4)(d,{hmr:!0,transform:void 0,insertInto:void 0}),d.locals&&(a.exports=d.locals)},function(a,l,c){(a.exports=c(3)(!1)).push([a.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(a,l){a.exports=function(c){var d=[];return d.toString=function(){return this.map(function(u){var p=function(w,f){var b,y=w[1]||"",v=w[3];if(!v)return y;if(f&&typeof btoa=="function"){var g=(b=v,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(b))))+" */"),m=v.sources.map(function(x){return"/*# sourceURL="+v.sourceRoot+x+" */"});return[y].concat(m).concat([g]).join(`
`)}return[y].join(`
`)}(u,c);return u[2]?"@media "+u[2]+"{"+p+"}":p}).join("")},d.i=function(u,p){typeof u=="string"&&(u=[[null,u,""]]);for(var w={},f=0;f<this.length;f++){var b=this[f][0];typeof b=="number"&&(w[b]=!0)}for(f=0;f<u.length;f++){var y=u[f];typeof y[0]=="number"&&w[y[0]]||(p&&!y[2]?y[2]=p:p&&(y[2]="("+y[2]+") and ("+p+")"),d.push(y))}},d}},function(a,l,c){var d,u,p={},w=(d=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=d.apply(this,arguments)),u}),f=function(A){var j={};return function(H){if(typeof H=="function")return H();if(j[H]===void 0){var X=(function(ue){return document.querySelector(ue)}).call(this,H);if(window.HTMLIFrameElement&&X instanceof window.HTMLIFrameElement)try{X=X.contentDocument.head}catch{X=null}j[H]=X}return j[H]}}(),b=null,y=0,v=[],g=c(5);function m(A,j){for(var H=0;H<A.length;H++){var X=A[H],ue=p[X.id];if(ue){ue.refs++;for(var $=0;$<ue.parts.length;$++)ue.parts[$](X.parts[$]);for(;$<X.parts.length;$++)ue.parts.push(T(X.parts[$],j))}else{var Q=[];for($=0;$<X.parts.length;$++)Q.push(T(X.parts[$],j));p[X.id]={id:X.id,refs:1,parts:Q}}}}function x(A,j){for(var H=[],X={},ue=0;ue<A.length;ue++){var $=A[ue],Q=j.base?$[0]+j.base:$[0],U={css:$[1],media:$[2],sourceMap:$[3]};X[Q]?X[Q].parts.push(U):H.push(X[Q]={id:Q,parts:[U]})}return H}function k(A,j){var H=f(A.insertInto);if(!H)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var X=v[v.length-1];if(A.insertAt==="top")X?X.nextSibling?H.insertBefore(j,X.nextSibling):H.appendChild(j):H.insertBefore(j,H.firstChild),v.push(j);else if(A.insertAt==="bottom")H.appendChild(j);else{if(typeof A.insertAt!="object"||!A.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var ue=f(A.insertInto+" "+A.insertAt.before);H.insertBefore(j,ue)}}function _(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A);var j=v.indexOf(A);j>=0&&v.splice(j,1)}function E(A){var j=document.createElement("style");return A.attrs.type===void 0&&(A.attrs.type="text/css"),S(j,A.attrs),k(A,j),j}function S(A,j){Object.keys(j).forEach(function(H){A.setAttribute(H,j[H])})}function T(A,j){var H,X,ue,$;if(j.transform&&A.css){if(!($=j.transform(A.css)))return function(){};A.css=$}if(j.singleton){var Q=y++;H=b||(b=E(j)),X=D.bind(null,H,Q,!1),ue=D.bind(null,H,Q,!0)}else A.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(H=function(U){var ee=document.createElement("link");return U.attrs.type===void 0&&(U.attrs.type="text/css"),U.attrs.rel="stylesheet",S(ee,U.attrs),k(U,ee),ee}(j),X=(function(U,ee,I){var V=I.css,K=I.sourceMap,oe=ee.convertToAbsoluteUrls===void 0&&K;(ee.convertToAbsoluteUrls||oe)&&(V=g(V)),K&&(V+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(K))))+" */");var G=new Blob([V],{type:"text/css"}),he=U.href;U.href=URL.createObjectURL(G),he&&URL.revokeObjectURL(he)}).bind(null,H,j),ue=function(){_(H),H.href&&URL.revokeObjectURL(H.href)}):(H=E(j),X=(function(U,ee){var I=ee.css,V=ee.media;if(V&&U.setAttribute("media",V),U.styleSheet)U.styleSheet.cssText=I;else{for(;U.firstChild;)U.removeChild(U.firstChild);U.appendChild(document.createTextNode(I))}}).bind(null,H),ue=function(){_(H)});return X(A),function(U){if(U){if(U.css===A.css&&U.media===A.media&&U.sourceMap===A.sourceMap)return;X(A=U)}else ue()}}a.exports=function(A,j){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(j=j||{}).attrs=typeof j.attrs=="object"?j.attrs:{},j.singleton||typeof j.singleton=="boolean"||(j.singleton=w()),j.insertInto||(j.insertInto="head"),j.insertAt||(j.insertAt="bottom");var H=x(A,j);return m(H,j),function(X){for(var ue=[],$=0;$<H.length;$++){var Q=H[$];(U=p[Q.id]).refs--,ue.push(U)}for(X&&m(x(X,j),j),$=0;$<ue.length;$++){var U;if((U=ue[$]).refs===0){for(var ee=0;ee<U.parts.length;ee++)U.parts[ee]();delete p[U.id]}}}};var N,z=(N=[],function(A,j){return N[A]=j,N.filter(Boolean).join(`
`)});function D(A,j,H,X){var ue=H?"":X.css;if(A.styleSheet)A.styleSheet.cssText=z(j,ue);else{var $=document.createTextNode(ue),Q=A.childNodes;Q[j]&&A.removeChild(Q[j]),Q.length?A.insertBefore($,Q[j]):A.appendChild($)}}},function(a,l){a.exports=function(c){var d=typeof window<"u"&&window.location;if(!d)throw new Error("fixUrls requires window.location");if(!c||typeof c!="string")return c;var u=d.protocol+"//"+d.host,p=u+d.pathname.replace(/\/[^\/]*$/,"/");return c.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(w,f){var b,y=f.trim().replace(/^"(.*)"$/,function(v,g){return g}).replace(/^'(.*)'$/,function(v,g){return g});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?w:(b=y.indexOf("//")===0?y:y.indexOf("/")===0?u+y:p+y.replace(/^\.\//,""),"url("+JSON.stringify(b)+")")})}},function(a,l,c){var d,u,p,w,f,b;a.exports=(d="cdx-notify",u="cdx-notify__cross",p="cdx-notify__button--confirm",w="cdx-notify__button",f="cdx-notify__btns-wrapper",{alert:b=function(y){var v=document.createElement("DIV"),g=document.createElement("DIV"),m=y.message,x=y.style;return v.classList.add(d),x&&v.classList.add(d+"--"+x),v.innerHTML=m,g.classList.add(u),g.addEventListener("click",v.remove.bind(v)),v.appendChild(g),v},confirm:function(y){var v=b(y),g=document.createElement("div"),m=document.createElement("button"),x=document.createElement("button"),k=v.querySelector("."+u),_=y.cancelHandler,E=y.okHandler;return g.classList.add(f),m.innerHTML=y.okText||"Confirm",x.innerHTML=y.cancelText||"Cancel",m.classList.add(w),x.classList.add(w),m.classList.add(p),x.classList.add("cdx-notify__button--cancel"),_&&typeof _=="function"&&(x.addEventListener("click",_),k.addEventListener("click",_)),E&&typeof E=="function"&&m.addEventListener("click",E),m.addEventListener("click",v.remove.bind(v)),x.addEventListener("click",v.remove.bind(v)),g.appendChild(m),g.appendChild(x),v.appendChild(g),v},prompt:function(y){var v=b(y),g=document.createElement("div"),m=document.createElement("button"),x=document.createElement("input"),k=v.querySelector("."+u),_=y.cancelHandler,E=y.okHandler;return g.classList.add(f),m.innerHTML=y.okText||"Ok",m.classList.add(w),m.classList.add(p),x.classList.add("cdx-notify__input"),y.placeholder&&x.setAttribute("placeholder",y.placeholder),y.default&&(x.value=y.default),y.inputType&&(x.type=y.inputType),_&&typeof _=="function"&&k.addEventListener("click",_),E&&typeof E=="function"&&m.addEventListener("click",function(){E(x.value)}),m.addEventListener("click",v.remove.bind(v)),g.appendChild(x),g.appendChild(m),v.appendChild(g),v},getWrapper:function(){var y=document.createElement("DIV");return y.classList.add("cdx-notifies"),y}})}])},384:(s,a,l)=>{l.d(a,{Z:()=>u});var c=l(645),d=l.n(c)()(function(p){return p[1]});d.push([s.id,`.ce-link-autocomplete__icon-wrapper svg {
        display: block;
    }
    .ce-link-autocomplete__actions-wrapper {
        border-top: 1px solid #E8E8EB;
        width: 200px;
    }
    .ce-link-autocomplete__field {
        position: relative;
    }
    .ce-link-autocomplete__field-input {
            width: calc(100% - 12px);
            margin: 6px;
            padding: 7px 10px;
            border-radius: 5px;
            border: solid 1px #E8E8EB;
            background-color: rgba(232, 232, 235, 0.49);
            outline: none;
            -webkit-appearance: none;
            box-sizing: border-box;
            font-size: 14px;
            font-weight: 500;
            letter-spacing: -0.15px;
            font-family: inherit;
        }
    .ce-link-autocomplete__field-input::placeholder {
                color: #7B7E89;
            }
    /**
         * Loader created in DOM but hidden bu default
         */
    .ce-link-autocomplete__field::after {

            content: '';
            position: absolute;
            right: 16px;
            top: 50%;
            margin-top: calc(14px / 2 * -1);

            width: 14px;
            height: 14px;
            border: 2px solid rgba(29, 32, 43, 0.3);
            border-top: 2px solid transparent;
            border-radius: 50%;
            opacity: 0;
            will-change: transform, opacity;
            box-sizing: border-box;
        }
    .ce-link-autocomplete__field--loading::after {
            animation: ce-link-autocomplete__spin 1s linear infinite;
            opacity: 1;
        }
    .ce-link-autocomplete__items {
        margin: 0 6px;
    }
    .ce-link-autocomplete__search-item {
        outline: none;
        border: 0;
        border-radius: 5px;
        font-size: 14px;
        padding: 7px 10px;
        margin-bottom: 6px;
        box-sizing: border-box;
        cursor: pointer;
    }
    .ce-link-autocomplete__search-item:not(:last-of-type) {
        }
    .ce-link-autocomplete__search-item:hover, .ce-link-autocomplete__search-item--selected {
            background-color: rgba(232, 232, 235, 0.49);
        }
    .ce-link-autocomplete__search-item-name {
            font-size: 14px;
            line-height: 16px;

            overflow:hidden;
            white-space:nowrap;
            text-overflow: ellipsis;
        }
    .ce-link-autocomplete__search-item-description {
            color: #7b7e89;

            font-size: 12px;
            line-height: 16px;
            margin-top: 1px;

            overflow:hidden;
            white-space:nowrap;
            text-overflow: ellipsis;
        }
    .ce-link-autocomplete__hidden {
        display: none;
    }
    .ce-link-autocomplete__link-data-wrapper {
            width: 200px;
            outline: none;
            border: 0;
            border-radius: 4px;
            font-size: 13px;
            padding: 10px;
            box-sizing: border-box;
        }
    .ce-link-autocomplete__link-data-title-wrapper {
            margin-bottom: 10px;
        }
    .ce-link-autocomplete__link-data-name {
            font-size: 14px;
            line-height: 16px;

            overflow:hidden;
            white-space:nowrap;
            text-overflow: ellipsis;
        }
    .ce-link-autocomplete__link-data-description {
            color: #7b7e89;

            font-size: 12px;
            line-height: 16px;
            margin-top: 1px;

            overflow:hidden;
            white-space:nowrap;
            text-overflow: ellipsis;
        }
    .ce-link-autocomplete__link-data-url {
            display: block;

            overflow:hidden;
            white-space:nowrap;
            text-overflow: ellipsis;
        }

@keyframes ce-link-autocomplete__spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
`,""]);const u=d},645:s=>{s.exports=function(a){var l=[];return l.toString=function(){return this.map(function(c){var d=a(c);return c[2]?"@media ".concat(c[2]," {").concat(d,"}"):d}).join("")},l.i=function(c,d,u){typeof c=="string"&&(c=[[null,c,""]]);var p={};if(u)for(var w=0;w<this.length;w++){var f=this[w][0];f!=null&&(p[f]=!0)}for(var b=0;b<c.length;b++){var y=[].concat(c[b]);u&&p[y[0]]||(d&&(y[2]?y[2]="".concat(d," and ").concat(y[2]):y[2]=d),l.push(y))}},l}},379:(s,a,l)=>{var c,d=function(){var _={};return function(E){if(_[E]===void 0){var S=document.querySelector(E);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}_[E]=S}return _[E]}}(),u=[];function p(_){for(var E=-1,S=0;S<u.length;S++)if(u[S].identifier===_){E=S;break}return E}function w(_,E){for(var S={},T=[],N=0;N<_.length;N++){var z=_[N],D=E.base?z[0]+E.base:z[0],A=S[D]||0,j="".concat(D," ").concat(A);S[D]=A+1;var H=p(j),X={css:z[1],media:z[2],sourceMap:z[3]};H!==-1?(u[H].references++,u[H].updater(X)):u.push({identifier:j,updater:k(X,E),references:1}),T.push(j)}return T}function f(_){var E=document.createElement("style"),S=_.attributes||{};if(S.nonce===void 0){var T=l.nc;T&&(S.nonce=T)}if(Object.keys(S).forEach(function(z){E.setAttribute(z,S[z])}),typeof _.insert=="function")_.insert(E);else{var N=d(_.insert||"head");if(!N)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");N.appendChild(E)}return E}var b,y=(b=[],function(_,E){return b[_]=E,b.filter(Boolean).join(`
`)});function v(_,E,S,T){var N=S?"":T.media?"@media ".concat(T.media," {").concat(T.css,"}"):T.css;if(_.styleSheet)_.styleSheet.cssText=y(E,N);else{var z=document.createTextNode(N),D=_.childNodes;D[E]&&_.removeChild(D[E]),D.length?_.insertBefore(z,D[E]):_.appendChild(z)}}function g(_,E,S){var T=S.css,N=S.media,z=S.sourceMap;if(N?_.setAttribute("media",N):_.removeAttribute("media"),z&&typeof btoa<"u"&&(T+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(z))))," */")),_.styleSheet)_.styleSheet.cssText=T;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(T))}}var m=null,x=0;function k(_,E){var S,T,N;if(E.singleton){var z=x++;S=m||(m=f(E)),T=v.bind(null,S,z,!1),N=v.bind(null,S,z,!0)}else S=f(E),T=g.bind(null,S,E),N=function(){(function(D){if(D.parentNode===null)return!1;D.parentNode.removeChild(D)})(S)};return T(_),function(D){if(D){if(D.css===_.css&&D.media===_.media&&D.sourceMap===_.sourceMap)return;T(_=D)}else N()}}s.exports=function(_,E){(E=E||{}).singleton||typeof E.singleton=="boolean"||(E.singleton=(c===void 0&&(c=!!(window&&document&&document.all&&!window.atob)),c));var S=w(_=_||[],E);return function(T){if(T=T||[],Object.prototype.toString.call(T)==="[object Array]"){for(var N=0;N<S.length;N++){var z=p(S[N]);u[z].references--}for(var D=w(T,E),A=0;A<S.length;A++){var j=p(S[A]);u[j].references===0&&(u[j].updater(),u.splice(j,1))}S=D}}}}},r={};function o(s){if(r[s])return r[s].exports;var a=r[s]={id:s,exports:{}};return n[s](a,a.exports,o),a.exports}o.n=s=>{var a=s&&s.__esModule?()=>s.default:()=>s;return o.d(a,{a}),a},o.d=(s,a)=>{for(var l in a)o.o(a,l)&&!o.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:a[l]})},o.o=(s,a)=>Object.prototype.hasOwnProperty.call(s,a);var i={};return(()=>{o.d(i,{default:()=>v});var s=o(379),a=o.n(s),l=o(384);a()(l.Z,{insert:"head",singleton:!1}),l.Z.locals;var c=o(580),d=o.n(c);class u{static isNumber(m){return typeof m=="number"}static isArray(m){return Array.isArray(m)}static isUrl(m){return/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/.test(m)}}function p(g,m=null,x={}){const k=document.createElement(g);Array.isArray(m)?k.classList.add(...m):m&&k.classList.add(m);for(const _ in x)Object.prototype.hasOwnProperty.call(x,_)&&(k[_]=x[_]);return k}function w(g){return!(!g||!g.tagName)&&["INPUT","TEXTAREA"].includes(g.tagName)}class f{constructor(){this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get anchorNode(){const m=window.getSelection();return m?m.anchorNode:null}static get anchorElement(){const m=window.getSelection();if(!m)return null;const x=m.anchorNode;return x?(k=x,!u.isNumber(k)&&k&&k.nodeType&&k.nodeType===Node.ELEMENT_NODE?x:x.parentElement):null;var k}static get anchorOffset(){const m=window.getSelection();return m?m.anchorOffset:null}static get isCollapsed(){const m=window.getSelection();return m?m.isCollapsed:null}static get isSelectionExists(){return!!f.get().anchorNode}static get range(){const m=window.getSelection();return m&&m.rangeCount?m.getRangeAt(0):null}static get rect(){let m,x=document.selection,k={x:0,y:0,width:0,height:0};if(x&&x.type!=="Control")return m=x.createRange(),k.x=m.boundingLeft,k.y=m.boundingTop,k.width=m.boundingWidth,k.height=m.boundingHeight,k;if(!window.getSelection)return console.warn("Method window.getSelection is not supported"),k;if(x=window.getSelection(),x.rangeCount===null||isNaN(x.rangeCount))return console.warn("Method SelectionUtils.rangeCount is not supported"),k;if(x.rangeCount===0)return k;if(m=x.getRangeAt(0).cloneRange(),m.getBoundingClientRect&&(k=m.getBoundingClientRect()),k.x===0&&k.y===0){const _=document.createElement("span");if(_.getBoundingClientRect){_.appendChild(document.createTextNode("")),m.insertNode(_),k=_.getBoundingClientRect();const E=_.parentNode;E.removeChild(_),E.normalize()}}return k}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(m,x=0){const k=document.createRange(),_=window.getSelection();return w(m)?function(E){let S=!0;if(w(E))switch(E.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":S=!1}else S=E.contentEditable==="true";return S}(m)?(m.focus(),m.selectionStart=m.selectionEnd=x,m.getBoundingClientRect()):void 0:(k.setStart(m,x),k.setEnd(m,x),_.removeAllRanges(),_.addRange(k),k.getBoundingClientRect())}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=f.range}restore(){if(!this.savedSelectionRange)return;const m=window.getSelection();m.removeAllRanges(),m.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const m=window.getSelection(),x=document.createRange();x.selectNodeContents(m.focusNode),x.collapse(!1),m.removeAllRanges(),m.addRange(x)}findParentTag(m,x,k=10){const _=window.getSelection();let E=null;return _&&_.anchorNode&&_.focusNode?([_.anchorNode,_.focusNode].forEach(S=>{let T=k;for(;T>0&&S.parentNode&&(S.tagName!==m||(E=S,x&&S.classList&&!S.classList.contains(x)&&(E=null),!E));)S=S.parentNode,T--}),E):null}expandToTag(m){const x=window.getSelection();x.removeAllRanges();const k=document.createRange();k.selectNodeContents(m),x.addRange(k)}}const b="Cannot process search request because of",y="Next";class v{static get isInline(){return!0}static get sanitize(){return{a:!0}}static get title(){return"Link Autocomplete"}get shortcut(){return"CMD+K"}static get CSS(){return{iconWrapper:"ce-link-autocomplete__icon-wrapper",hidden:"ce-link-autocomplete__hidden",actionsWrapper:"ce-link-autocomplete__actions-wrapper",field:"ce-link-autocomplete__field",fieldLoading:"ce-link-autocomplete__field--loading",fieldInput:"ce-link-autocomplete__field-input",foundItems:"ce-link-autocomplete__items",searchItem:"ce-link-autocomplete__search-item",searchItemSelected:"ce-link-autocomplete__search-item--selected",searchItemName:"ce-link-autocomplete__search-item-name",searchItemDescription:"ce-link-autocomplete__search-item-description",linkDataWrapper:"ce-link-autocomplete__link-data-wrapper",linkDataTitleWrapper:"ce-link-autocomplete__link-data-title-wrapper",linkDataName:"ce-link-autocomplete__link-data-name",linkDataDescription:"ce-link-autocomplete__link-data-description",linkDataURL:"ce-link-autocomplete__link-data-url"}}constructor({config:m,api:x}){this.api=x,this.config=m||{},this.selection=new f,this.searchEndpointUrl=this.config.endpoint,this.searchQueryParam=this.config.queryParam,this.nodes={toolButtons:null,toolButtonLink:null,toolButtonUnlink:null,actionsWrapper:null,inputWrapper:null,inputField:null,searchResults:null,linkDataWrapper:null,linkDataTitleWrapper:null,linkDataName:null,linkDataDescription:null,linkDataURL:null},this.tagName="A",this.KEYS={ENTER:13,UP:38,DOWN:40},this.typingTimer=null}render(){return this.nodes.toolButtons=p("button",this.api.styles.inlineToolButton),this.nodes.toolButtonLink=p("span",v.CSS.iconWrapper,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72"/></svg>'}),this.nodes.toolButtons.appendChild(this.nodes.toolButtonLink),this.nodes.toolButtonUnlink=p("span",v.CSS.iconWrapper,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.47 8.2475 16.578 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8795 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24516 12.3883C8.24516 12.3883 7.9717 12.6922 7.47503 13.2161C6.5805 14.1598 6.55465 15.6408 7.44665 16.5869V16.5869C8.37652 17.5731 9.93743 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39063 9.03238L7.58431 9.06668C8.17549 9.08366 8.65218 8.58665 8.61055 7.99669L8.52708 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'}),this.nodes.toolButtons.appendChild(this.nodes.toolButtonUnlink),this.toggleVisibility(this.nodes.toolButtonUnlink,!1),this.nodes.toolButtons}renderActions(){return this.nodes.actionsWrapper=p("div",[v.CSS.actionsWrapper]),this.toggleVisibility(this.nodes.actionsWrapper,!1),this.nodes.inputWrapper=p("div",v.CSS.field),this.nodes.inputField=p("input",v.CSS.fieldInput,{placeholder:this.api.i18n.t(this.isServerEnabled?"Paste or search":"Paste a link")}),this.nodes.inputWrapper.appendChild(this.nodes.inputField),this.toggleVisibility(this.nodes.inputWrapper,!1),this.nodes.searchResults=p("div",v.CSS.foundItems),this.nodes.searchResults.addEventListener("mouseenter",()=>{this.getSearchItems().forEach(m=>{m.classList.remove(v.CSS.searchItemSelected)})}),this.nodes.searchResults.addEventListener("click",m=>{const x=m.target.closest(`.${v.CSS.searchItem}`);x&&(m.preventDefault(),m.stopPropagation(),this.searchItemPressed(x))}),this.nodes.inputField.addEventListener("keydown",this.fieldKeydownHandler.bind(this)),this.nodes.inputField.addEventListener("input",this.fieldInputHandler.bind(this)),this.nodes.linkDataWrapper=p("div",v.CSS.linkDataWrapper),this.toggleVisibility(this.nodes.linkDataWrapper,!1),this.nodes.linkDataTitleWrapper=p("div",v.CSS.linkDataTitleWrapper),this.nodes.linkDataWrapper.appendChild(this.nodes.linkDataTitleWrapper),this.toggleVisibility(this.nodes.linkDataTitleWrapper,!1),this.nodes.linkDataName=p("div",v.CSS.linkDataName),this.nodes.linkDataTitleWrapper.appendChild(this.nodes.linkDataName),this.nodes.linkDataDescription=p("div",v.CSS.linkDataDescription),this.nodes.linkDataTitleWrapper.appendChild(this.nodes.linkDataDescription),this.nodes.linkDataURL=p("A",v.CSS.linkDataURL),this.nodes.linkDataWrapper.appendChild(this.nodes.linkDataURL),this.nodes.actionsWrapper.appendChild(this.nodes.inputWrapper),this.nodes.actionsWrapper.appendChild(this.nodes.searchResults),this.nodes.actionsWrapper.appendChild(this.nodes.linkDataWrapper),this.nodes.actionsWrapper}fieldKeydownHandler(m){const x=[this.KEYS.UP,this.KEYS.DOWN].includes(m.keyCode),k=this.KEYS.ENTER===m.keyCode;if(x||k)switch(m.preventDefault(),m.stopPropagation(),!0){case x:{const _=m.keyCode===this.KEYS.DOWN?y:"Previous";this.navigate(_);break}case k:this.processEnterKeyPressed()}}fieldInputHandler(m){clearTimeout(this.typingTimer);const x=m.target.value;x&&x.trim()?u.isUrl(x)?this.generateSearchList([{href:x}]):this.isServerEnabled&&(this.typingTimer=setTimeout(async()=>{this.toggleLoadingState(!0);try{const k=await this.searchRequest(x);this.generateSearchList(k)}catch(k){d().show({message:`${b} "${k.message}"`,style:"error"})}this.toggleLoadingState(!1)},250)):this.clearSearchList()}toggleLoadingState(m){this.nodes.inputWrapper.classList.toggle(v.CSS.fieldLoading,m)}navigate(m){const x=this.getSearchItems(),k=this.getSelectedItem();if(!x.length)return;const _=m===y?1:-1;let E=(k?x.indexOf(k):-1)+_;E>x.length-1?E=0:E<0&&(E=x.length-1),k&&k.classList.remove(v.CSS.searchItemSelected),x[E].classList.add(v.CSS.searchItemSelected)}processEnterKeyPressed(){const m=this.getSelectedItem();if(m)return void this.searchItemPressed(m);const x=this.nodes.inputField.value;if(!x||!x.trim())return;if(!u.isUrl(x))return void d().show({message:"Link URL is invalid",style:"error"});const k=this.getSearchItems()[0];this.searchItemPressed(k)}getSearchItems(){const m=this.nodes.searchResults.querySelectorAll(`.${v.CSS.searchItem}`);return Array.from(m)}getSelectedItem(){return this.nodes.searchResults.querySelector(`.${v.CSS.searchItemSelected}`)}clearSearchList(){this.nodes.searchResults.innerHTML=""}generateSearchList(m=[]){this.clearSearchList(),u.isArray(m)?m.length!==0&&m.forEach(x=>{const k=p("div",[v.CSS.searchItem]),_=p("div",[v.CSS.searchItemName],{innerText:x.name||x.href});if(k.appendChild(_),x.description){const E=p("div",[v.CSS.searchItemDescription],{innerText:x.description});k.appendChild(E)}Object.keys(x).forEach(E=>{k.dataset[E]=x[E]}),this.nodes.searchResults.appendChild(k)}):d().show({message:"Server responded with invalid data",style:"error"})}searchItemPressed(m){if(!m.dataset||!m.dataset.href)return;const x=m.dataset.href;this.selection.restore(),this.selection.removeFakeBackground(),document.execCommand("createLink",!1,x);const k=this.selection.findParentTag(this.tagName);Object.keys(m.dataset).forEach(_=>{_!=="href"&&(k.dataset[_]=m.dataset[_])}),this.selection.collapseToEnd(),this.api.inlineToolbar.close()}surround(m){if(!m)return;this.toggleVisibility(this.nodes.actionsWrapper,!0);const x=this.nodes.toolButtonUnlink.classList.contains(this.api.styles.inlineToolButtonActive);if(this.selection.setFakeBackground(),this.selection.save(),x){const k=this.selection.findParentTag("A");this.selection.expandToTag(k),document.execCommand("unlink"),this.selection.removeFakeBackground(),this.api.inlineToolbar.close()}else this.toggleVisibility(this.nodes.inputWrapper,!0),this.nodes.inputField.focus()}checkState(m){if(!m.anchorNode)return;const x=this.selection.findParentTag(this.tagName);x&&(this.toggleVisibility(this.nodes.actionsWrapper,!0),this.nodes.linkDataName.innerText=x.dataset.name||"",this.nodes.linkDataDescription.innerText=x.dataset.description||"",this.nodes.linkDataURL.innerText=x.href||"",this.nodes.linkDataURL.href=x.href||"",this.nodes.linkDataURL.target="_blank",(x.dataset.name||x.dataset.description)&&this.toggleVisibility(this.nodes.linkDataTitleWrapper,!0),this.toggleVisibility(this.nodes.linkDataWrapper,!0),this.toggleVisibility(this.nodes.toolButtonLink,!1),this.toggleVisibility(this.nodes.toolButtonUnlink,!0),this.nodes.toolButtonUnlink.classList.add(this.api.styles.inlineToolButtonActive))}toggleVisibility(m,x=!0){m.classList.toggle(v.CSS.hidden,!x)}async searchRequest(m){const x=new URLSearchParams({[this.searchQueryParam]:m}).toString();try{const k=await fetch(`${this.searchEndpointUrl}?${x}`),_=await k.json();if(_&&_.success)return _.items;console.warn('Link Autocomplete: invalid response format: "success: true" expected, but got %o. Response: %o',_.success,_)}catch(k){d().show({message:`${b} "${k.message}"`,style:"error"})}return[]}isServerEnabled(){return!!this.searchEndpointUrl}clear(){if(this.selection.isFakeBackgroundEnabled){const m=new f;m.save(),this.selection.restore(),this.selection.removeFakeBackground(),this.selection.clearSaved(),m.restore()}}}})(),i.default})()})})(zS);var DU=zS.exports;const $U=Ou(DU);(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const UU='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function FU(t){const e=document.createElement("div");e.innerHTML=t.trim();const n=document.createDocumentFragment();return n.append(...Array.from(e.childNodes)),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class kv{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:kv.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=n.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const n=FU(e.text);this._element.appendChild(n),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this._data=n,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:UU,title:"Text"}}}var HS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=4)}([function(n,r,o){var i=o(1),s=o(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};i(s,a),n.exports=s.locals||{}},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var m={};return function(x){if(m[x]===void 0){var k=document.querySelector(x);if(window.HTMLIFrameElement&&k instanceof window.HTMLIFrameElement)try{k=k.contentDocument.head}catch{k=null}m[x]=k}return m[x]}}(),l=[];function c(m){for(var x=-1,k=0;k<l.length;k++)if(l[k].identifier===m){x=k;break}return x}function d(m,x){for(var k={},_=[],E=0;E<m.length;E++){var S=m[E],T=x.base?S[0]+x.base:S[0],N=k[T]||0,z="".concat(T," ").concat(N);k[T]=N+1;var D=c(z),A={css:S[1],media:S[2],sourceMap:S[3]};D!==-1?(l[D].references++,l[D].updater(A)):l.push({identifier:z,updater:g(A,x),references:1}),_.push(z)}return _}function u(m){var x=document.createElement("style"),k=m.attributes||{};if(k.nonce===void 0){var _=o.nc;_&&(k.nonce=_)}if(Object.keys(k).forEach(function(S){x.setAttribute(S,k[S])}),typeof m.insert=="function")m.insert(x);else{var E=a(m.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(x)}return x}var p,w=(p=[],function(m,x){return p[m]=x,p.filter(Boolean).join(`
`)});function f(m,x,k,_){var E=k?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(m.styleSheet)m.styleSheet.cssText=w(x,E);else{var S=document.createTextNode(E),T=m.childNodes;T[x]&&m.removeChild(T[x]),T.length?m.insertBefore(S,T[x]):m.appendChild(S)}}function b(m,x,k){var _=k.css,E=k.media,S=k.sourceMap;if(E?m.setAttribute("media",E):m.removeAttribute("media"),S&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(S))))," */")),m.styleSheet)m.styleSheet.cssText=_;else{for(;m.firstChild;)m.removeChild(m.firstChild);m.appendChild(document.createTextNode(_))}}var y=null,v=0;function g(m,x){var k,_,E;if(x.singleton){var S=v++;k=y||(y=u(x)),_=f.bind(null,k,S,!1),E=f.bind(null,k,S,!0)}else k=u(x),_=b.bind(null,k,x),E=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(k)};return _(m),function(T){if(T){if(T.css===m.css&&T.media===m.media&&T.sourceMap===m.sourceMap)return;_(m=T)}else E()}}n.exports=function(m,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=s());var k=d(m=m||[],x);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var E=0;E<k.length;E++){var S=c(k[E]);l[S].references--}for(var T=d(_,x),N=0;N<k.length;N++){var z=c(k[N]);l[z].references===0&&(l[z].updater(),l.splice(z,1))}k=T}}}},function(n,r,o){(r=o(3)(!1)).push([n.i,`.cdx-underline {
    text-decoration: underline;
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,d){var u=c[1]||"",p=c[3];if(!p)return u;if(d&&typeof btoa=="function"){var w=(b=p,y=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),v="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(y),"/*# ".concat(v," */")),f=p.sources.map(function(g){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(g," */")});return[u].concat(f).concat([w]).join(`
`)}var b,y,v;return[u].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var d={};if(c)for(var u=0;u<this.length;u++){var p=this[u][0];p!=null&&(d[p]=!0)}for(var w=0;w<a.length;w++){var f=[].concat(a[w]);c&&d[f[0]]||(l&&(f[2]?f[2]="".concat(l," and ").concat(f[2]):f[2]=l),s.push(f))}},s}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function s(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,(p=u.key,w=void 0,w=function(f,b){if(i(f)!=="object"||f===null)return f;var y=f[Symbol.toPrimitive];if(y!==void 0){var v=y.call(f,b||"default");if(i(v)!=="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(f)}(p,"string"),i(w)==="symbol"?w:String(w)),u)}var p,w}var a=function(){function l(p){var w=p.api;(function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=w,this.button=null,this.tag="U",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}var c,d,u;return c=l,u=[{key:"CSS",get:function(){return"cdx-underline"}},{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{u:{class:l.CSS}}}}],(d=[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(p){if(p){var w=this.api.selection.findParentTag(this.tag,l.CSS);w?this.unwrap(w):this.wrap(p)}}},{key:"wrap",value:function(p){var w=document.createElement(this.tag);w.classList.add(l.CSS),w.appendChild(p.extractContents()),p.insertNode(w),this.api.selection.expandToTag(w)}},{key:"unwrap",value:function(p){this.api.selection.expandToTag(p);var w=window.getSelection(),f=w.getRangeAt(0),b=f.extractContents();p.parentNode.removeChild(p),f.insertNode(b),w.removeAllRanges(),w.addRange(f)}},{key:"checkState",value:function(){var p=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!p)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>'}}])&&s(c.prototype,d),u&&s(c,u),Object.defineProperty(c,"prototype",{writable:!1}),l}()}]).default})})(HS);var zU=HS.exports;const HU=Ou(zU),VU=async t=>(console.log("Uploading image by URL:",t),{success:1,file:{url:t}}),WU=t=>new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{e({success:1,file:{url:r.result}})},r.onerror=o=>{n({success:0,message:o.message})},r.readAsDataURL(t)}),qU={header:{class:QD,inlineToolbar:!0,config:{placeholder:"Enter a header"}},paragraph:{class:kv,inlineToolbar:!0,config:{placeholder:"Enter a paragraph"}},marker:{class:t$,shortcut:"CMD+SHIFT+M"},inlineCode:{class:r$,shortcut:"CMD+SHIFT+C"},image:{class:d$,config:{uploader:{uploadByFile:WU,uploadByUrl:VU}}},quote:{class:wa,inlineToolbar:!0,config:{quotePlaceholder:"Enter a quote",captionPlaceholder:"Quote's author"}},list:{class:IU,inlineToolbar:!0},embed:{class:WD,inlineToolbar:!0,config:{services:{youtube:!0,coub:!0}}},code:{class:xv},link:{class:jU,config:{endpoint:"http://localhost:3000/",queryParam:"search"}},linkAutocomplete:{class:$U,config:{queryParam:"search"}},underline:{class:HU,shortcut:"CMD+U"}};let Oi=null;function KU(){const[t,e]=J(Lk),[n]=J(Le),[r,o]=J(il),i=R.useRef(null),{blog_id:s}=Ir(),[a,l]=R.useState(!0),c=d=>({holder:d,data:Array.isArray(r.content)?r.content[0]:r.content,tools:qU,onReady:()=>{console.log("Editor.js is ready to work!")},onChange:(u,p)=>{console.log("Now I know that Editor's content changed!",p)},autofocus:!0,placeholder:"Lets write an awesome story!"});return R.useEffect(()=>{const d=new Iy(c(i.current));return d.isReady.then(()=>{e(!0),l(!1),Oi=d}).catch(u=>{console.error("ERROR editor initialization",u),e(!1),l(!1)}),()=>{d.isReady.then(()=>{d.destroy(),e(!1)}).catch(u=>console.error("ERROR editor cleanup",u))}},[e]),R.useEffect(()=>{s==="create-new-blog"&&t&&(Oi?Oi.clear():Oi=new Iy(c(i.current)))},[s]),h.jsx("div",{children:a?h.jsx("div",{children:"Loading editor..."}):h.jsx("div",{id:"editorjs",className:`ml-2 ${n?"selection:bg-white selection:text-black":"selection:text-white selection:bg-black"}`,ref:i})})}const Oy=async()=>{if(Oi)try{return await Oi.save()}catch(t){throw console.error("ERROR saving data",t),t}},GU="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let VS=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=GU[n[t]&63];return e};const YU=()=>{const[t,e]=J(il),[n,r]=R.useState(0),[o,i]=R.useState(!1),[s,a]=J(Km),[l]=J(Le),[c]=J(Lk),[d]=J(pt);let{blog_id:u}=Ir();const p=_n();R.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),a("Editor")},[a,u]);const w=g=>{const m=g.target.files[0];m&&f(m)},f=g=>{const m=`${VS()}-${g.name}`,x=Cg(Tg,`banners/${m}`),k=Sg(x,g),_=ce.loading("Uploading banner image...");k.on("state_changed",E=>{const S=E.bytesTransferred/E.totalBytes*100;r(S)},E=>{console.error("Error uploading file:",E),ce.error("Failed to upload the banner image. Please try again.",{id:_})},()=>{Eg(k.snapshot.ref).then(E=>{r(0),e(S=>({...S,banner:E})),i(!0),ce.success("Banner image uploaded successfully!",{id:_})})})},b=g=>{const m=g.target;m.style.height="auto",m.style.height=`${m.scrollHeight}px`,e(x=>({...x,title:m.value}))},y=async()=>{if(!t.banner&&!o)return ce.error("Please upload a banner image before publishing.");if(!t.title)return ce.error("Please enter a blog title before publishing.");if(c)try{const g=await Oy();g.blocks.length?(e(m=>({...m,content:g})),a("Publish")):ce.error("Please write something in your blog before publishing.")}catch(g){console.error("Error saving editor data:",g),ce.error("Failed to save editor data. Please try again.")}},v=async g=>{var x,k;if(g.target.className.includes("disable"))return;if(!t.title)return ce.error("Please provide a title before saving the draft.");const m=ce.loading("Saving draft...");g.target.classList.add("disable");try{let _=t.content;if(c){const S=await Oy();if(S.blocks.length)_=S;else{ce.error("Editor content is empty."),g.target.classList.remove("disable"),ce.dismiss(m);return}}const E={title:t.title,banner:t.banner,des:t.des,content:_,tags:t.tags,draft:!0};await ve.post("https://blognotes-server.onrender.com/api/blog/create_blog",{...E,id:t.blog_id},{headers:{Authorization:`Bearer ${d.access_token}`}}),setTimeout(()=>{ce.dismiss(loadingToast)},500),setTimeout(()=>{ce.success("Draft saved successfully!")},600),setTimeout(()=>{p("/")},700),e({title:"",banner:"",content:[],tags:[],des:"",author:{personal_info:{}}})}catch(_){g.target.classList.remove("disable"),ce.dismiss(loadingToast),ce.error(((k=(x=_.response)==null?void 0:x.data)==null?void 0:k.error)||"An error occurred while saving the draft."),console.error(_)}};return h.jsxs("div",{className:"h-fit w-full p-2",children:[h.jsx("div",{className:"blogeditor overflow-y-auto flex justify-center p-2 rounded-xl",children:h.jsxs("div",{className:`h-fit w-full md:max-w-3xl rounded-xl shadow-xl ${l?"bg-[#282828]":"bg-white"}`,children:[h.jsxs("div",{className:"flex items-center gap-2 p-2 justify-between w-full ",children:[h.jsx("button",{onClick:y,className:`px-4 py-2 w-fit rounded-full transition-colors duration-300 cursor-pointer ${Re(l)}`,children:"Publish"}),h.jsx("button",{onClick:v,className:`px-4 py-2 w-fit rounded-full transition-colors duration-300 cursor-pointer ${Re(l)}`,children:"Save Draft"})]}),h.jsx("div",{className:"p-2 Banner aspect-video",children:h.jsxs("label",{htmlFor:"uploadbanner",children:[h.jsx("img",{className:"w-full h-auto aspect-video object-cover rounded-lg",src:t.banner||I_,alt:"Banner"}),h.jsx("input",{id:"uploadbanner",type:"file",accept:".png, .jpg, .jpeg",hidden:!0,onChange:w})]})}),h.jsx("div",{className:"titletextArea mt-5 p-2",children:h.jsx("textarea",{value:t.title,onChange:b,className:"w-full resize-none h-fit outline-none rounded-lg px-2 text-3xl leading-tight bg-transparent",placeholder:"Blog Title"})}),h.jsx("div",{className:"w-full p-2 rounded-lg",children:h.jsx("div",{id:"editorjs",className:"p-2 w-full selection:bg-purple-500",children:h.jsx(KU,{})})})]})}),h.jsx(Or,{position:"top-center"})]})};function WS(t){return Se({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(t)}function XU({tag:t,tagKey:e}){const[n,r]=J(il),[o]=J(Le),i=()=>{const s=n.tags.filter((a,l)=>l!==e);r(a=>({...a,tags:s}))};return h.jsxs("div",{className:`${Re(o)} flex gap-2 items-center overflow-hidden`,children:[h.jsx("div",{className:"flex-grow truncate whitespace-nowrap overflow-ellipsis",children:h.jsx("h1",{children:t})}),h.jsx(WS,{onClick:i,className:"cursor-pointer flex-shrink-0",size:20})]})}function JU(){const[t,e]=J(Km),[n,r]=J(il),[o,i]=R.useState(n.des.length),[s]=J(pt),[a,l]=J(Le);R.useEffect(()=>{e("Publish"),window.scrollTo({top:0,behavior:"smooth"})},[e]);const c=_n();let{blog_id:d}=Ir();const u=b=>{r(y=>({...y,title:b.target.value}))},p=b=>{r(y=>({...y,des:b.target.value})),i(b.target.value.length)},w=b=>{if(b.key==="Enter"||b.key===","){b.preventDefault();const y=b.target.value.trim();n.tags.length<10&&y?(r(v=>({...v,tags:[...v.tags,y]})),b.target.value=""):n.tags.length>=10&&Un.error("Reached max tag limit of 10")}},f=async b=>{if(!n.title.length)return Un.error("Please provide a title");if(!n.des.length||n.des.length>500)return Un.error("Please provide a description under 200 characters");if(!n.tags.length)return Un.error("Please provide tags");const y=Un.loading("Publishing...");b.target.disabled=!0;const v={title:n.title,banner:n.banner,des:n.des,content:n.content,tags:n.tags,draft:!1};d==="create-new-blog"&&(d=void 0),await ve.post("https://blognotes-server.onrender.com/api/blog/create_blog",{...v,id:d},{headers:{Authorization:`Bearer ${s.access_token}`}}).then(()=>{b.target.disabled=!1,setTimeout(()=>{Un.dismiss(y)},500),setTimeout(()=>{Un.success("Blog Published")},600),setTimeout(()=>{c("/"),e("Editor"),r({title:"",banner:"",content:[],tags:[],des:"",author:{personal_info:{}}})},1e3)}).catch(({response:g})=>{b.target.disabled=!1,Un.dismiss(y),Un.error(g.data.error)})};return h.jsxs("div",{className:"flex items-center justify-center py-10 px-2 sm:px-6 lg:px-8",children:[h.jsx("div",{className:`max-w-3xl w-full shadow-lg rounded-lg p-8 space-y-6 ${a?"bg-[#282828]":"bg-white"}`,children:h.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-6",children:[h.jsxs("div",{className:"md:w-1/2 space-y-4",children:[h.jsx("div",{className:"w-full aspect-w-16 aspect-h-9 rounded-lg overflow-hidden border-2 border-gray-200",children:h.jsx("img",{src:n.banner||I_,alt:"Banner",className:"w-full h-full object-cover"})}),h.jsx("input",{value:n.title,onChange:u,className:"w-full p-4 text-lg font-bold bg-transparent border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 overflow-hidden text-ellipsis",placeholder:"Enter your blog title"}),h.jsx("textarea",{value:n.des,maxLength:250,onChange:p,className:"w-full p-4 text-base border bg-transparent rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Write a brief description (max 250 characters)"}),h.jsxs("div",{className:"text-right",children:[250-o," characters remaining"]})]}),h.jsxs("div",{className:"md:w-1/2 space-y-4",children:[h.jsx("input",{className:"w-full p-4 text-base border bg-transparent rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter tags and press Enter",onKeyDown:w}),h.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map((b,y)=>h.jsx(XU,{tag:b,tagKey:y},y))}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{onClick:f,className:`px-4 py-2 w-fit rounded-full transition-colors duration-300 cursor-pointer ${Re(a)}`,children:"Publish Blog"}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("button",{onClick:()=>e("Editor"),className:`flex px-4 py-2 w-fit rounded-full transition-colors duration-300 cursor-pointer ${Re(a)}`,children:["Return",h.jsx(q8,{className:"ml-2",size:20})]})})]})]})]})}),h.jsx(Or,{})]})}function ZU(){const[t,e]=R.useState(!0),[n,r]=J(il),{blog_id:o}=Ir(),[i,s]=J(Sn),[a]=J(pt),[l,c]=J(Km),d=()=>{ve.post("https://blognotes-server.onrender.com/api/blog/get_blog",{blog_id:o,draft:!0,mode:"edit"}).then(({data:u})=>{r(u.blog),e(!1)}).catch(u=>{console.error(u),r(null),e(!1)})};return R.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),e(!0),o==="create-new-blog"?(r({title:"",banner:"",content:[],tags:[],des:"",author:{personal_info:{}}}),e(!1)):d()},[o]),h.jsx("div",{style:{minHeight:`calc(100vh - ${i}px)`},children:a!=null&&a.access_token?t?h.jsx(Ar,{des:"Fetching Blog data..."}):l==="Publish"?h.jsx(JU,{}):h.jsx(YU,{}):h.jsx(ux,{to:"/login"})})}function QU(t){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"},child:[]}]})(t)}function Py(t){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M257 120.471c7.083 0 23.911 4.479 23.911 4.479 45.589 10.447 77.678 52.439 77.678 99.85V352.412l9.321 9.364 7.788 7.823H136.302l7.788-7.823 9.321-9.364V224.8c0-47.41 32.089-89.403 77.678-99.85 0 0 18.043-4.479 23.911-4.479M256 48c-17.602 0-31.059 13.518-31.059 31.2v14.559c-59.015 13.523-103.53 67.601-103.53 131.041v114.4L80 380.8v20.8h352v-20.8l-41.411-41.6V224.8c0-63.44-44.516-117.518-103.53-131.041V79.2c0-17.682-13.457-31.2-31.059-31.2zm41.411 374.4h-82.823c0 22.881 18.633 41.6 41.412 41.6s41.411-18.719 41.411-41.6z"},child:[]}]})(t)}function eF(t){return Se({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M8.516 0c-4.687 0-8.5 3.813-8.5 8.5s3.813 8.5 8.5 8.5 8.5-3.813 8.5-8.5-3.814-8.5-8.5-8.5zM1.041 9h2.937c0.044 1.024 0.211 2.031 0.513 3h-2.603c-0.481-0.906-0.776-1.923-0.847-3zM3.978 8h-2.937c0.071-1.077 0.366-2.094 0.847-3h2.6c-0.301 0.969-0.467 1.976-0.51 3zM5.547 5h5.896c0.33 0.965 0.522 1.972 0.569 3h-7.034c0.046-1.028 0.239-2.035 0.569-3zM4.978 9h7.035c-0.049 1.028-0.241 2.035-0.572 3h-5.891c-0.331-0.965-0.524-1.972-0.572-3zM13.013 9h2.978c-0.071 1.077-0.366 2.094-0.847 3h-2.644c0.302-0.969 0.469-1.976 0.513-3zM13.013 8c-0.043-1.024-0.209-2.031-0.51-3h2.641c0.48 0.906 0.775 1.923 0.847 3h-2.978zM14.502 4h-2.354c-0.392-0.955-0.916-1.858-1.55-2.7 1.578 0.457 2.938 1.42 3.904 2.7zM9.074 1.028c0.824 0.897 1.484 1.9 1.972 2.972h-5.102c0.487-1.071 1.146-2.073 1.97-2.97 0.199-0.015 0.398-0.030 0.602-0.030 0.188 0 0.373 0.015 0.558 0.028zM6.383 1.313c-0.629 0.838-1.151 1.737-1.54 2.687h-2.314c0.955-1.267 2.297-2.224 3.854-2.687zM2.529 13h2.317c0.391 0.951 0.915 1.851 1.547 2.689-1.561-0.461-2.907-1.419-3.864-2.689zM7.926 15.97c-0.826-0.897-1.488-1.899-1.978-2.97h5.094c-0.49 1.072-1.152 2.075-1.979 2.972-0.181 0.013-0.363 0.028-0.547 0.028-0.2 0-0.395-0.015-0.59-0.030zM10.587 15.703c0.636-0.842 1.164-1.747 1.557-2.703h2.358c-0.968 1.283-2.332 2.247-3.915 2.703z"},child:[]}]})(t)}const tF=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ss=t=>{const e=new Date(t),n=e.getDate(),r=tF[e.getMonth()];return`${n} ${r}`},nF=t=>{const e=new Date(t),n={year:"numeric",month:"long",day:"numeric"};return e.toLocaleDateString("en-US",n)},By={personal_info:{fullname:"",email:"",username:"",profile_img:"",bio:""},social_links:{facebook:"",github:"",instagram:"",twitter:"",linkedin:"",website:"",youtube:""},account_info:{total_posts:0,total_reads:0},joinedAt:"",github_auth:null};function rF(){const{id:t}=Ir(),[e,n]=R.useState(By),[r]=J(Le),[o,i]=R.useState(!0),[s]=J(pt);_n();const[a]=J(Sn),l=async()=>{try{i(!0);const c=await ve.post("https://blognotes-server.onrender.com/api/user/get_profile",{username:t});console.log(c.data),n(c.data),i(!1)}catch(c){i(!1),console.log(c)}};return R.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),n(By),l()},[t]),h.jsx("div",{className:"w-full break-words",style:{minHeight:`calc(100vh - ${a}px)`},children:o?h.jsx(Ar,{des:"Fetching User Details"}):e&&e.personal_info.username?h.jsxs("div",{className:`flex flex-col items-center px-2 break-words shadow-lg rounded-lg max-w-2xl mx-auto ${r?"bg-[#282828]":"bg-white"}`,children:[h.jsx("div",{className:"mt-2",children:h.jsx("img",{src:e.personal_info.profile_img||"/default-profile.png",alt:e.personal_info.fullname,className:"w-auto h-64 rounded-lg object-cover mb-4"})}),h.jsxs("div",{className:"flex flex-col items-center text-center break-words w-full",children:[h.jsx("div",{className:"flex items-center gap-2 w-full",children:h.jsx("h1",{className:"text-3xl font-bold mb-1 w-full break-words",children:e.personal_info.fullname})}),h.jsxs("p",{className:"text-xl mb-3 w-full break-words",children:["@",e.personal_info.username]}),h.jsx("div",{className:"text-center w-full break-words mb-4",children:s.username===e.personal_info.username&&h.jsx(Xe,{to:"/settings/Edit-Profile",className:`${Re(r)} !py-2`,children:"Edit Profile"})}),h.jsx("p",{className:"mb-6 px-4 text-center w-full break-words",children:e.personal_info.bio||"This user hasn't added a bio yet."}),h.jsxs("div",{className:"flex space-x-6 mb-6 w-full items-center justify-center",children:[e.social_links.facebook&&h.jsx("a",{href:e.social_links.facebook,target:"_blank",rel:"noopener noreferrer",children:h.jsx(H6,{size:"2em",className:`hover:text-blue-700 transition duration-300 ${r?"text-blue-500":"text-blue-600"}`})}),e.social_links.twitter&&h.jsx("a",{href:e.social_links.twitter,target:"_blank",rel:"noopener noreferrer",children:h.jsx(W6,{size:"2em",className:"hover:text-blue-500 transition duration-300 text-blue-400"})}),e.social_links.instagram&&h.jsx("a",{href:e.social_links.instagram,target:"_blank",rel:"noopener noreferrer",children:h.jsx(Bk,{size:"2em",className:`hover:text-pink-600 transition duration-300 ${r?"text-pink-400":"text-pink-500"}`})}),e.social_links.linkedin&&h.jsx("a",{href:e.social_links.linkedin,target:"_blank",rel:"noopener noreferrer",children:h.jsx(V6,{size:"2em",className:`hover:text-blue-800 transition duration-300 ${r?"text-blue-600":"text-blue-700"}`})}),e.social_links.youtube&&h.jsx("a",{href:e.social_links.youtube,target:"_blank",rel:"noopener noreferrer",children:h.jsx(QU,{size:"2em",className:`hover:text-red-700 transition duration-300 ${r?"text-red-500":"text-red-600"}`})}),e.social_links.github&&h.jsx("a",{href:e.social_links.github,target:"_blank",rel:"noopener noreferrer",className:"transition duration-300",children:h.jsx(Ym,{size:"2em",className:`transition-colors duration-300 ${r?"text-gray-300 hover:text-white":"text-gray-800 hover:text-gray-600"}`})}),e.social_links.website&&h.jsx("a",{href:e.social_links.website,target:"_blank",rel:"noopener noreferrer",className:"transition duration-300",children:h.jsx(eF,{size:"2em",className:`transition-colors duration-300 ${r?"text-teal-400 hover:text-teal-200":"text-indigo-600 hover:text-indigo-400"}`})})]})]}),h.jsxs("div",{className:"mb-4 p-2 text-center rounded-lg shadow-lg w-1/2",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Account Info"}),h.jsxs("p",{children:["Total Posts:"," ",h.jsx("span",{className:"font-semibold",children:e.account_info.total_posts})]}),h.jsxs("p",{children:["Total Reads:"," ",h.jsx("span",{className:"font-semibold",children:e.account_info.total_reads})]}),h.jsxs("p",{children:["Joined:"," ",h.jsx("span",{className:"font-semibold",children:nF(e.joinedAt)})]})]})]}):h.jsx(Zn,{des:"The user you are looking for was not found.",error:"User not found",errorType:"UserNotFound"})})}function oF(){const{register:t,handleSubmit:e,formState:{errors:n},reset:r}=_d(),[o,i]=R.useState(!1),s=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/,[a,l]=J(pt),[c,d]=J(Le),[u,p]=J(Gm),w=()=>{i(!o)},f=(b,y)=>{const{currentPassword:v,newPassword:g}=b;if(!v.length||!g.length)return ce.error("Fill the password fields");if(!s.test(v)||!s.test(g))return ce.error("Password must be 6 to 20 characters long, and include at least one numeric digit, one uppercase letter, and one lowercase letter.");y.target.setAttribute("disabled",!0);const m=ce.loading("Updating Password....");ve.post("https://blognotes-server.onrender.com/api/auth/change_password",b,{headers:{Authorization:`Bearer ${a.access_token}`}}).then(()=>{ce.dismiss(m),y.target.removeAttribute("disabled"),r(),ce.success("Password Changed")}).catch(({response:x})=>{ce.dismiss(m),y.target.removeAttribute("disabled"),r(),ce.error(x.data.error||"An error occurred")})};return h.jsxs("div",{className:" w-full h-fit px-2 items-center justify-center ",children:[h.jsx("div",{className:"mb-4 hidden sm:flex",children:h.jsx("h1",{className:"text-2xl font-semibold",children:"Change Password"})}),h.jsxs("div",{className:`mt-10 py-10 rounded-lg w-full flex flex-col shadow-lg flex items-center justify-center ${c?"bg-[#282828]":"bg-white"}`,children:[h.jsxs("form",{className:`flex flex-col gap-4 max-w-xs ${u.github_auth?"disabled":""}`,onSubmit:e(f),children:[h.jsx("div",{className:"flex items-center justify-between px-4 rounded-full border border-gray-300 shadow-sm",children:h.jsxs("div",{className:"w-full flex items-center",children:[h.jsx(Fa,{size:25,className:"text-gray-500"}),h.jsx("input",{type:o?"text":"password",placeholder:"Current Password",className:`p-2 w-full outline-none bg-transparent ${c?"bg-black text-white":"bg-white text-black"}`,...t("currentPassword",{required:"Current password is required"}),disabled:u.github_auth}),h.jsx("div",{className:"inset-y-0 right-0 flex items-center p-2 cursor-pointer",onClick:w,children:o?h.jsx(sp,{size:20,className:"text-gray-500"}):h.jsx(ap,{size:20,className:"text-gray-500"})})]})}),h.jsx("div",{className:"flex items-center justify-between px-4 rounded-full border border-gray-300 shadow-sm",children:h.jsxs("div",{className:"w-full flex items-center",children:[h.jsx(Fa,{size:25,className:"text-gray-500"}),h.jsx("input",{type:o?"text":"password",placeholder:"New Password",className:`p-2 w-full rounded-lg outline-none bg-transparent ${c?"bg-black text-white":"bg-white text-black"}`,...t("newPassword",{required:"New password is required"}),disabled:u.github_auth}),h.jsx("div",{className:"inset-y-0 right-0 flex items-center p-2 cursor-pointer",onClick:w,children:o?h.jsx(sp,{size:20,className:"text-gray-500"}):h.jsx(ap,{size:20,className:"text-gray-500"})})]})}),h.jsx("input",{type:"submit",className:`${Re(c)} !py-2 !px-6 w-fit mx-auto cursor-pointer`,disabled:u.github_auth})]}),u&&u.github_auth?h.jsx("p",{className:"text-2xl text-red-500 mt-2",children:"Sorry, you cannot change the password since you are using your GitHub account."}):null]}),h.jsx(Or,{})]})}function qS(t){return Se({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(t)}function iF(){const e=hs().pathname.split("/")[2]||"",[n,r]=R.useState(!1),[o]=J(pt),[i,s]=R.useState(e.replace("-"," ")),[a]=J(Le),l=({to:c,icon:d,label:u,page:p})=>h.jsxs(Xe,{to:c,className:`${Qs(a,p,i)} flex gap-2`,onClick:()=>{s(p),r(!1)},children:[h.jsx(d,{className:"text-2xl"}),u,u==="Notifications"&&o.new_notification_available&&h.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full ml-2"})]});return h.jsxs("div",{children:[h.jsxs("div",{className:"sm:hidden flex items-center justify-between p-3",children:[h.jsx("h1",{className:`text-2xl font-semibold capitalize ${n?"opacity-0":"opacity-100"}`,children:i}),h.jsx("button",{type:"button",onClick:()=>r(!n),children:n?h.jsx(qS,{}):h.jsx(Pk,{})})]}),h.jsxs("div",{children:[n&&h.jsxs("div",{className:"sm:hidden flex p-4 flex-col gap-5",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h1",{className:"text-xl",children:"Dashboard"}),h.jsxs("div",{className:"ml-5",children:[h.jsx(l,{to:"/dashboard/blog",icon:d1,label:"Blog",page:"blog"}),h.jsx(l,{to:"/dashboard/notifications",icon:Py,label:"Notifications",page:"notifications"})]})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h1",{className:"text-xl",children:"Settings"}),h.jsxs("div",{className:"ml-5",children:[h.jsx(l,{to:"/settings/Edit-Profile",icon:Zf,label:"Edit Profile",page:"Edit Profile"}),h.jsx(l,{to:"/settings/Change-Password",icon:Fa,label:"Change Password",page:"Change Password"})]})]})]}),h.jsxs("div",{className:"hidden sm:flex p-4 flex-col gap-5",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h1",{className:"text-xl",children:"Dashboard"}),h.jsxs("div",{className:"ml-5",children:[h.jsx(l,{to:"/dashboard/blog",icon:d1,label:"Blog",page:"blog"}),h.jsx(l,{to:"/dashboard/notifications",icon:Py,label:"Notifications",page:"notifications"})]})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h1",{className:"text-xl",children:"Settings"}),h.jsxs("div",{className:"ml-5",children:[h.jsx(l,{to:"/settings/Edit-Profile",icon:Zf,label:"Edit Profile",page:"Edit Profile"}),h.jsx(l,{to:"/settings/Change-Password",icon:Fa,label:"Change Password",page:"Change Password"})]})]})]})]})]})}function My(){const[t]=J(pt),[e,n]=R.useState(!0),[r,o]=R.useState(!1),[i,s]=J(Gm),[a,l]=R.useState(!0),[c,d]=J(Sn),u=async()=>{try{n(!0),o(!1);const p=await ve.post("https://blognotes-server.onrender.com/api/user/get_profile",{username:t.username});p.data?s(p.data):o(!0)}catch(p){o(!0),console.log(p)}finally{n(!1)}};return R.useEffect(()=>{s({personal_info:{fullname:"",email:"",username:"",profile_img:"",bio:""},social_links:{facebook:"",github:"",instagram:"",twitter:"",linkedin:"",website:"",youtube:""},account_info:{total_posts:0,total_reads:0},joinedAt:"",github_auth:null}),window.scrollTo({top:0,behavior:"smooth"}),t.username&&u(),l(!1)},[t]),h.jsxs("div",{className:"w-full flex flex-col sm:flex-row overflow-hidden",style:{minHeight:`calc(100vh - ${c}px)`},children:[h.jsx("div",{className:"w-full sm:w-2/5 md:w-2/6 lg:w-1/5",children:h.jsx(iF,{})}),h.jsx("div",{className:"flex-1 overflow-x-auto",children:h.jsx(dx,{})})]})}function sF(t){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(t)}function Bd(t){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"},child:[]}]})(t)}function KS(t){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M168.2 384.9c-15-5.4-31.7-3.1-44.6 6.4c-8.2 6-22.3 14.8-39.4 22.7c5.6-14.7 9.9-31.3 11.3-49.4c1-12.9-3.3-25.7-11.8-35.5C60.4 302.8 48 272 48 240c0-79.5 83.3-160 208-160s208 80.5 208 160s-83.3 160-208 160c-31.6 0-61.3-5.5-87.8-15.1zM26.3 423.8c-1.6 2.7-3.3 5.4-5.1 8.1l-.3 .5c-1.6 2.3-3.2 4.6-4.8 6.9c-3.5 4.7-7.3 9.3-11.3 13.5c-4.6 4.6-5.9 11.4-3.4 17.4c2.5 6 8.3 9.9 14.8 9.9c5.1 0 10.2-.3 15.3-.8l.7-.1c4.4-.5 8.8-1.1 13.2-1.9c.8-.1 1.6-.3 2.4-.5c17.8-3.5 34.9-9.5 50.1-16.1c22.9-10 42.4-21.9 54.3-30.6c31.8 11.5 67 17.9 104.1 17.9c141.4 0 256-93.1 256-208S397.4 32 256 32S0 125.1 0 240c0 45.1 17.7 86.8 47.7 120.9c-1.9 24.5-11.4 46.3-21.4 62.9zM144 272a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm144-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm80 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"},child:[]}]})(t)}function aF(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"},child:[]}]})(t)}function lF(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(t)}function cF(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function uF(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(t)}function dF(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"},child:[]},{tag:"polygon",attr:{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"},child:[]}]})(t)}function hF(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m7 17.013 4.413-.015 9.632-9.54c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.756-.756-2.075-.752-2.825-.003L7 12.583v4.43zM18.045 4.458l1.589 1.583-1.597 1.582-1.586-1.585 1.594-1.58zM9 13.417l6.03-5.973 1.586 1.586-6.029 5.971L9 15.006v-1.589z"},child:[]},{tag:"path",attr:{d:"M5 21h14c1.103 0 2-.897 2-2v-8.668l-2 2V19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2z"},child:[]}]})(t)}function fF(){var H,X,ue,$,Q,U,ee,I,V,K;const e=R.useRef(),[n,r]=J(Gm),[o,i]=J(Le),[s,a]=R.useState(500-(((X=(H=n==null?void 0:n.personal_info)==null?void 0:H.bio)==null?void 0:X.length)||0)),[l,c]=R.useState(null),[d,u]=J(pt),{register:p,handleSubmit:w,formState:{errors:f},reset:b}=_d({defaultValues:{username:((ue=n==null?void 0:n.personal_info)==null?void 0:ue.username)||"",bio:(($=n==null?void 0:n.personal_info)==null?void 0:$.bio)||"",facebook:((Q=n==null?void 0:n.social_links)==null?void 0:Q.facebook)||"",github:((U=n==null?void 0:n.social_links)==null?void 0:U.github)||"",instagram:((ee=n==null?void 0:n.social_links)==null?void 0:ee.instagram)||"",twitter:((I=n==null?void 0:n.social_links)==null?void 0:I.twitter)||"",website:((V=n==null?void 0:n.social_links)==null?void 0:V.website)||"",youtube:((K=n==null?void 0:n.social_links)==null?void 0:K.youtube)||""}});console.log(n);const{personal_info:{fullname:y,email:v,profile_img:g,bio:m},social_links:{facebook:x,github:k,instagram:_,twitter:E,website:S,youtube:T}}=n,N=oe=>{const G=oe.target.value.length;a(500-G)},z=oe=>{const G=oe.target.files[0];e.current.src=URL.createObjectURL(G),c(G)},D=oe=>{if(oe.preventDefault(),l)A(l);else return ce.error("Select New Profile Image")},A=oe=>{const G=`${n.personal_info.username}-${VS()}`,he=Cg(Tg,`UserProfile/${G}`),fe=Sg(he,oe),se=ce.loading("Uploading profile image...");fe.on("state_changed",Ce=>{const Be=Ce.bytesTransferred/Ce.totalBytes*100;console.log(`Upload progress: ${Be}%`)},Ce=>{console.error("Error uploading file:",Ce),ce.error("Failed to upload profile image. Please try again.",{id:se})},()=>{Eg(fe.snapshot.ref).then(async Ce=>{try{const{data:Be}=await ve.post("https://blognotes-server.onrender.com/api/user/update_Profile_Image",{url:Ce},{headers:{Authorization:`Bearer ${d.access_token}`}});let Te={...d,profile_img:Be.profile_img};localStorage.setItem("user",JSON.stringify(Te)),u(Te),c(null),ce.dismiss(se),ce.success("Profile image uploaded successfully!",{id:se})}catch{ce.dismiss(se),ce.error("Failed to update profile image")}})})},j=async(oe,G)=>{console.log(oe),G.target.setAttribute("disabled",!0);let{bio:he,username:fe,facebook:se,youtube:Ce,instagram:Be,website:Te,twitter:De,github:Rt}=oe;if(fe.length<3)return ce.error("Username should be at least more than 3 characters");if(he.length>500)return ce.error("Bio exceeds 500 characters");let En=ce.loading("Updating Profile");ve.post("https://blognotes-server.onrender.com/api/user/update_profile",{bio:he,username:fe,social_links:{facebook:se,youtube:Ce,instagram:Be,website:Te,twitter:De,github:Rt}},{headers:{Authorization:`Bearer ${d.access_token}`}}).then(({data:bt})=>{if(d.username!==bt.username){let _t={...d,username:bt.username};localStorage.setItem("user",JSON.stringify(_t)),u(_t)}ce.dismiss(En),G.target.removeAttribute("disabled"),ce.success("Profile Updated")}).catch(({response:bt})=>{ce.dismiss(En),G.target.removeAttribute("disabled"),ce.error(bt.data.error)})};return R.useEffect(()=>{var oe,G,he,fe,se,Ce,Be,Te;n&&b({username:((oe=n==null?void 0:n.personal_info)==null?void 0:oe.username)||"",bio:((G=n==null?void 0:n.personal_info)==null?void 0:G.bio)||"",facebook:((he=n==null?void 0:n.social_links)==null?void 0:he.facebook)||"",github:((fe=n==null?void 0:n.social_links)==null?void 0:fe.github)||"",instagram:((se=n==null?void 0:n.social_links)==null?void 0:se.instagram)||"",twitter:((Ce=n==null?void 0:n.social_links)==null?void 0:Ce.twitter)||"",website:((Be=n==null?void 0:n.social_links)==null?void 0:Be.website)||"",youtube:((Te=n==null?void 0:n.social_links)==null?void 0:Te.youtube)||""})},[n,b]),h.jsxs("div",{className:"w-full h-fit px-2 ",children:[h.jsx("div",{className:"mb-2 hidden sm:flex",children:h.jsx("h1",{className:"text-2xl font-semibold",children:"Edit Profile"})}),h.jsxs("form",{className:"w-full lg:flex gap-2 justify-center",onSubmit:oe=>w(G=>j(G,oe))(oe),children:[h.jsxs("div",{className:`w-full lg:w-1/2 rounded-lg p-6 space-y-6 shadow-lg  ${o?"bg-[#282828]":"bg-white"}`,children:[h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsxs("label",{className:"relative block overflow-hidden h-36 w-36 rounded-lg",htmlFor:"uploadingImg",children:[h.jsx("div",{className:`w-full h-full  absolute top-0 left-0 flex items-center justify-center   cursor-pointer
                 ${o?"hover:bg-white/50 opacity-0 hover:opacity-100  text-black":"bg-[#282828]/50 opacity-0 hover:opacity-100 text-white"}`,children:"Upload Image"}),h.jsx("img",{ref:e,src:g,className:"h-36 w-36 rounded-lg object-cover z-30 ",alt:"Profile"})]}),h.jsx("input",{onChange:z,type:"file",id:"uploadingImg",hidden:!0}),h.jsx("button",{onClick:D,className:`${Re(o)}`,children:"Upload"})]}),h.jsxs("div",{className:"flex flex-col gap-2 w-full ",children:[h.jsxs("div",{className:"w-full flex gap-2 flex-col",children:[h.jsxs("div",{className:"flex items-center gap-2 rounded-lg",children:[h.jsx("label",{className:"font-medium flex items-center",children:h.jsx(Zf,{className:"text-2xl"})}),h.jsx("input",{className:`px-3 py-2 w-full rounded-lg cursor-not-allowed outline-none boder-white border-2  ${o?"bg-[#282828] text-white border-gray-500":"bg-white text-black border-gray-500"}`,type:"text",value:y,disabled:!0})]}),h.jsxs("div",{className:"flex items-center gap-2 rounded-lg",children:[h.jsx("label",{className:"font-medium flex items-center",children:h.jsx(P6,{className:"text-2xl"})}),h.jsx("input",{className:`px-3 py-2 w-full rounded-lg cursor-not-allowed outline-none  boder-white border-2 ${o?"bg-[#282828] text-white border-gray-500":"bg-white text-black border-gray-500"}`,type:"text",value:v,disabled:!0})]})]}),h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"flex flex-col items-start gap-2 w-full",children:[h.jsxs("div",{className:"flex gap-2 w-full items-center",children:[h.jsx("label",{className:"font-medium flex items-center gap-2",children:h.jsx(J8,{className:"text-2xl"})}),h.jsx("input",{className:`px-3 py-2 w-full rounded-lg outline-none  boder-white border-2 ${o?"bg-[#282828] text-white border-gray-500":"bg-white text-black border-gray-500"}`,type:"text",...p("username")})]}),h.jsx("h1",{className:"text-sm mt-2 ml-5 md:mt-0",children:"Give any Professional Name"})]})})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("label",{className:"font-medium ml-9",children:["Bio -"," ",h.jsxs("span",{className:"text-sm ",children:[" ",s," Characters Left"]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(hF,{className:"text-2xl"}),h.jsx("textarea",{onInput:N,maxLength:500,rows:5,className:`px-3 py-2 w-full rounded-lg  outline-none  boder-white border-2 ${o?"bg-[#282828] text-white border-gray-500":"bg-white text-black border-gray-500"}`,placeholder:"Add Bio",...p("bio")})]})]})]}),h.jsxs("div",{className:`w-full lg:w-1/2 lg:max-w-fit rounded-lg p-6 space-y-6 shadow-lg mt-2 lg:mt-0 ${o?"bg-[#282828]":"bg-white"}`,children:[h.jsx("label",{className:"font-medium",children:"Social Handles"}),h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"w-full flex items-center gap-2",children:[h.jsx(aF,{className:"text-2xl"}),h.jsx("input",{className:`px-3 py-2 w-full  rounded-lg outline-none  boder-white border-2 ${o?"bg-[#282828] text-white border-gray-500":"bg-white text-black border-gray-500"}`,type:"text",...p("facebook"),placeholder:"Facebook Link"})]})}),h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"w-full flex items-center gap-2",children:[h.jsx(sF,{className:"text-2xl"}),h.jsx("input",{className:`px-3 py-2 w-full   rounded-lg outline-none  boder-white border-2 ${o?"bg-[#282828] text-white border-gray-500":"bg-white text-black border-gray-500"}`,type:"text",...p("twitter"),placeholder:"Twitter Link"})]})}),h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"w-full flex items-center gap-2",children:[h.jsx(K8,{className:"text-2xl"}),h.jsx("input",{className:`px-3 py-2 w-full   rounded-lg outline-none  boder-white border-2 ${o?"bg-[#282828] text-white border-gray-500":"bg-white text-black border-gray-500"}`,type:"text",...p("instagram"),placeholder:"Instagram Link"})]})}),h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"w-full flex items-center gap-2",children:[h.jsx(lF,{className:"text-2xl"}),h.jsx("input",{className:`px-3 py-2 w-full   rounded-lg outline-none  boder-white border-2 ${o?"bg-[#282828] text-white border-gray-500":"bg-white text-black border-gray-500"}`,type:"text",...p("github"),placeholder:"GitHub Link"})]})}),h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"w-full flex items-center gap-2",children:[h.jsx(dF,{className:"text-2xl"}),h.jsx("input",{className:`px-3 py-2 w-full   rounded-lg outline-none  boder-white border-2 ${o?"bg-[#282828] text-white border-gray-500":"bg-white text-black border-gray-500"}`,type:"text",...p("youtube"),placeholder:"YouTube Link"})]})}),h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"w-full flex items-center gap-2",children:[h.jsx(cF,{className:"text-2xl"}),h.jsx("input",{className:`px-3 py-2 w-full   rounded-lg outline-none  boder-white border-2 ${o?"bg-[#282828] text-white border-gray-500":"bg-white text-black border-gray-500"}`,type:"text",...p("website"),placeholder:"Personal Website Link"})]})}),h.jsx("div",{className:"w-full flex justify-center ",children:h.jsx("button",{className:`  ${Re(o)}`,type:"submit",children:"Update Profile"})})]})]}),h.jsx(Or,{})]})}const qa=async({create_new_arr:t=!1,state:e,data:n,page:r,countRoute:o,data_to_send:i={},user:s=void 0})=>{let a,l={};if(s&&(l.headers={Authorization:`Bearer ${s}`}),e!=null&&!t)a={...e,results:[...e.results,...n],page:r};else try{const{data:{totalDocs:c}}=await ve.post("https://blognotes-server.onrender.com"+o,i,l);a={results:n,page:1,totalDocs:c}}catch(c){console.error("Error fetching count:",c),a={results:n,page:1,totalDocs:0}}return a};function pF(t){return Se({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 5 6 C 3.346 6 2 7.346 2 9 L 2 21 C 2 22.654 3.346 24 5 24 L 11.183594 23.980469 C 12.173594 23.980469 13.133031 24.290844 13.957031 24.839844 L 16 26.201172 L 18.042969 24.839844 C 18.866969 24.290844 19.826406 24 20.816406 24 L 27 24 C 28.654 24 30 22.654 30 21 L 30 9 C 30 7.346 28.654 6 27 6 L 20.816406 6 C 19.430406 6 18.086594 6.4077813 16.933594 7.1757812 L 16 7.7988281 L 15.066406 7.1757812 C 13.912406 6.4067813 12.570594 6 11.183594 6 L 5 6 z M 5 8 L 11.183594 8 C 12.173594 8 13.133031 8.2908438 13.957031 8.8398438 L 16 10.201172 L 18.042969 8.8398438 C 18.866969 8.2908438 19.826406 8 20.816406 8 L 27 8 C 27.552 8 28 8.449 28 9 L 28 21 C 28 21.551 27.552 22 27 22 L 20.816406 22 C 19.430406 22 18.086594 22.407781 16.933594 23.175781 L 16 23.798828 L 15.066406 23.175781 C 13.912406 22.406781 12.570594 22 11.183594 22 L 5 22 C 4.448 22 4 21.551 4 21 L 4 9 C 4 8.449 4.448 8 5 8 z M 6 12 L 6 14 L 14 14 L 14 12 L 6 12 z M 18 12 L 18 14 L 26 14 L 26 12 L 18 12 z M 6 16 L 6 18 L 14 18 L 14 16 L 6 16 z M 18 16 L 18 18 L 26 18 L 26 16 L 18 16 z"},child:[]}]})(t)}function mF({blog:t,index:e,BlogData:n}){const[r,o]=J(pt),[i]=J(Le),{title:s,banner:a,blog_id:l,activity:{total_likes:c,total_comments:d,total_reads:u}}=t,p=(w,f,b)=>{let{blog:y,setBlog:v}=b;w.target.setAttribute("disabled",!0),ve.post("https://blognotes-server.onrender.com/api/blog/delete_blog",{blog_id:l},{headers:{Authorization:`Bearer ${r.access_token}`}}).then(({data:g})=>{console.log(g),w.target.removeAttribute("disabled"),v(m=>{let{deletedDocCount:x,totalDocs:k,results:_}=m;return _.splice(f,1),x||(x=0),!_.length&&k-1>0?null:{...m,totalDocs:k-1,deletedDocCount:x+1}})}).catch(g=>console.log(g))};return h.jsxs("div",{className:` ${i?"bg-[#282828]":"bg-white"}   flex flex-col justify-between rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 w-full md:max-w-sm mx-auto `,children:[h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"relative rounded-lg",children:[h.jsx("img",{loading:"lazy",src:a,className:"w-full h-36 object-cover rounded-t-lg",alt:"Blog banner",width:"640",height:"360"}),h.jsx("div",{className:"flex w-full items-center backdrop-blur-md bg-black/50 rounded-t-lg  absolute bottom-0 left-0 right-0 p-2 text-white",children:h.jsx("h1",{className:"text-xl mb-2 line-clamp-3 w-full break-words ",children:s})})]})}),h.jsxs("div",{className:"p-3 border-t border-gray-200 flex flex-col gap-2",children:[h.jsxs("div",{className:" flex gap-2 justify-between",children:[h.jsx(Xe,{to:`/editor/${l}`,className:`${Re(i)}`,children:"Edit"}),h.jsx("button",{onClick:w=>p(w,e,n),className:`${Re(i)}`,children:"Delete"})]}),h.jsxs("div",{className:"flex gap-4 items-center justify-between p-4 ",children:[h.jsxs("h1",{className:"flex gap-2 items-center ",children:[h.jsx(Bd,{className:"text-xl text-red-500"}),h.jsx("p",{className:"font-semibold",children:c})]}),h.jsxs("h1",{className:"flex gap-2 items-center ",children:[h.jsx(KS,{className:"text-xl text-blue-500"}),h.jsx("p",{className:"font-semibold",children:d})]}),h.jsxs("h1",{className:"flex gap-2 items-center ",children:[h.jsx(pF,{className:"text-xl text-green-500"}),h.jsx("p",{className:"font-semibold",children:u})]})]})]})]})}function gF({draft:t,value:e,DraftData:n,index:r}){const{publishedAt:o,title:i,blog_id:s}=t,[a,l]=J(pt),[c]=J(Le),d=(u,p,w)=>{let{draftBlog:f,setDraftBlog:b}=w;u.target.setAttribute("disabled",!0),ve.post("https://blognotes-server.onrender.com/api/blog/delete_blog",{blog_id:s},{headers:{Authorization:`Bearer ${a.access_token}`}}).then(({data:y})=>{console.log(y),u.target.removeAttribute("disabled"),b(v=>{let{deletedDocCount:g,totalDocs:m,results:x}=v;return x.splice(p,1),g||(g=0),!x.length&&m-1>0?null:{...v,totalDocs:m-1,deletedDocCount:g+1}})}).catch(y=>console.log(y))};return h.jsx("div",{children:h.jsxs("div",{className:` ${c?"bg-[#282828]":"bg-white"}  p-2 rounded-lg gap-2 flex flex-col min-h-44  justify-between   `,children:[h.jsxs("div",{className:"w-full h-full",children:[h.jsxs("div",{className:" flex items-center gap-2 bg-red-90",children:[h.jsx("h1",{className:" font-bold text-3xl ",children:e+1<10?"0"+(e+1):e+1}),h.jsx("p",{className:"border-l-2 pl-2",children:Ss(o)})]}),h.jsx("div",{children:h.jsx("p",{className:"w-full break-words line-clamp-3",children:i})})]}),h.jsxs("div",{className:" flex gap-2 justify-between",children:[h.jsx(Xe,{to:`/editor/${s}`,className:`${Re(c)}`,children:"Edit"}),h.jsx("button",{onClick:u=>d(u,r,n),className:`${Re(c)}`,children:"Delete"})]})]})})}function vF(){const[t,e]=R.useState(null),[n,r]=R.useState(null),[o,i]=R.useState("published"),[s,a]=R.useState(""),[l]=J(pt),[c]=J(Le),[d,u]=R.useState(!0),p=async({page:v,draft:g,deletedDocCount:m=0})=>{u(!0),v>1&&u(!1);try{const{data:x}=await ve.post("https://blognotes-server.onrender.com/api/blog/user_written_blogs",{page:v,draft:g,query:s,deletedDocCount:m},{headers:{Authorization:`Bearer ${l.access_token}`}}),k=await qa({state:v===1?null:g?n:t,data:x.blogs,page:v,countRoute:"/api/blog/user_written_blogs_count",data_to_send:{draft:g,query:s},user:l.access_token});console.log(k),g?r(k):e(k),u(!1)}catch(x){console.error(x)}};R.useEffect(()=>{!t&&o==="published"&&p({page:1,draft:!1}),!n&&o==="draft"&&p({page:1,draft:!0})},[l.access_token,t,s,n,o]);const w=v=>{v.keyCode===13&&s.length&&(e(null),r(null),p({page:1,draft:o==="draft"}))},f=v=>{const g=v.target.value;a(g),g.length||(e(null),r(null),p({page:1,draft:o==="draft"}))},b=v=>{i(v),e(null),r(null),p({page:1,draft:v==="draft"})},y=(v,g)=>{if(v&&v.totalDocs>v.results.length){const m=v.page+1;p({page:m,draft:g})}};return h.jsxs("div",{className:"w-full px-2 ",children:[h.jsxs("div",{className:`sticky top-0 z-30 ${c?"bg-[#121212]":"bg-[#f9fafb]"}`,children:[h.jsx("div",{className:"mb-4 hidden sm:flex",children:h.jsx("h1",{className:"text-2xl font-semibold",children:"Blog"})}),h.jsxs("div",{className:"flex w-fit px-3 items-center rounded-full gap-2 border-2 border-gray-500",onKeyDown:w,children:[h.jsx("input",{className:"p-2 rounded-full outline-none bg-transparent",placeholder:"Search",onChange:f}),h.jsx(Dk,{})]}),h.jsxs("div",{className:"flex gap-4 mt-4 pb-2",children:[h.jsx("button",{className:o==="published"?c?"border-b-2 border-white":"border-b-2 border-black":"",onClick:()=>b("published"),children:"Published"}),h.jsx("button",{className:o==="draft"?c?"border-b-2 border-white":"border-b-2 border-black":"",onClick:()=>b("draft"),children:"Draft"})]})]}),h.jsx("div",{className:"  p-4 rounded-lg mt-4 overflow-x-auto mb-10",children:d?h.jsx(Ar,{des:"Fetching Your Blog Data..."}):o==="published"?t&&t.results&&t.results.length?h.jsxs("div",{children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.results.map((v,g)=>h.jsx(mF,{blog:v,index:g,BlogData:{blog:t,setBlog:e}},g))}),t&&t.totalDocs>t.results.length&&h.jsx("button",{className:`${Re(c)} mt-2`,onClick:()=>y(t,!1),children:"Load More"})]}):h.jsx(Zn,{des:"It looks like you don't have any published blogs yet. Start writing your first blog to share your thoughts with the world!",error:"No published blogs found",errorType:"BlogNotFound"}):n&&n.results&&n.results.length?h.jsxs("div",{className:"flex flex-col ",children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 h-fit",style:{gridAutoFlow:"dense"},children:n.results.map((v,g)=>h.jsx(gF,{draft:v,value:g,DraftData:{draftBlog:n,setDraftBlog:r},index:g},g))}),n&&n.totalDocs>n.results.length&&h.jsx("button",{onClick:()=>y(n,!0),className:`${Re(c)}`,children:"Load More"})]}):h.jsx(Zn,{des:"It looks like you don't have any saved draft blogs yet. Start writing your first blog to share your thoughts with the world!",error:"No saved drafts blogs found",errorType:"DraftNotFound"})})]})}function yF({_id:t,blog_author:e,index:n=void 0,replying_to:r=void 0,setIsReplying:o,notificationData:i,notification_id:s}){const[a,l]=R.useState(""),[c]=J(pt),[d]=J(Le),u=e,{fetchedNotification:p,fetchedNotification:{results:w},setFetchedNotification:f}=i,b=()=>{if(!a.length)return ce.error("Write some comment before submitting");ve.post("https://blognotes-server.onrender.com/api/comment_Like/add_comment",{_id:t,blog_author:u,comment:a,replying_to:r,notification_id:s},{headers:{Authorization:`Bearer ${c.access_token}`}}).then(({data:y})=>{w[n].reply={comment:a,_id:y._id},f({...p,results:w}),o(!1)}).catch(y=>{console.log(y)})};return h.jsxs("div",{className:"w-full p-2",children:[h.jsx("textarea",{autoFocus:!0,className:"w-full min-h-24 rounded bg-transparent border p-1 resize-none outline-none",value:a,placeholder:"Write a Comment",onChange:y=>l(y.target.value)}),h.jsx("div",{className:"flex gap-2",children:h.jsx("button",{className:`${Re(d)}`,onClick:b,children:"Reply"})}),h.jsx(Or,{})]})}function bF(){const[t,e]=R.useState("all"),[n,r]=J(pt),[o,i]=R.useState(null),[s,a]=J(Le),l=["all","like","comment","reply"],c=({page:u,deletedDocCount:p=0})=>{ve.post("https://blognotes-server.onrender.com/api/notification/notifications",{page:u,filter:t,deletedDocCount:p},{headers:{Authorization:`Bearer ${n.access_token}`}}).then(async({data:{notification:w}})=>{n.new_notification_available&&r({...n,new_notification_available:!1});const f=await qa({state:u===1?null:o,data:w,page:u,countRoute:"/api/notification/all_notifications_count",data_to_send:{filter:t},user:n.access_token});i(f)}).catch(w=>console.error(w))},d=u=>{e(u),i(null)};return R.useEffect(()=>{n.access_token&&c({page:1})},[t,n.access_token]),h.jsxs("div",{children:[h.jsx("div",{className:`flex gap-3 py-5 sticky top-0 ${s?"bg-[#121212]":"bg-[#f9fafb]"}`,children:l.map((u,p)=>h.jsx("button",{onClick:()=>d(u),className:`${j6(s,t,u)} !w-fit capitalize`,children:u},p))}),o===null?h.jsx(Ar,{des:"Fetching Notification Data"}):h.jsx(h.Fragment,{children:o.results.length?h.jsx(yF,{notificationstate:{fetchedNotification:o,setFetchedNotification:i},fetchedNotification:o,fetchNotification:c}):h.jsx(Zn,{des:"It looks like you don't have any notifications yet. Check back later for updates or new messages!",error:"No notifications found",errorType:"NotificationNotFound"})})]})}const wF="/BlogNotes/assets/HomeBg-B1gw1isK.png";function xF(){const[t,e]=R.useState(null),[n,r]=R.useState(!0),[o,i]=J(Le),s=async()=>{try{const{data:a}=await ve.get("https://blognotes-server.onrender.com/api/blog/trending_blog");console.log(a),r(!1),e(a)}catch(a){console.error("Error fetching blogs by category:",a)}};return R.useEffect(()=>{s()},[]),h.jsx("div",{className:"flex justify-center",children:n?h.jsx(Ar,{des:"Fetching Trending blogs ... Please wait."}):t&&t.blog.length?h.jsx("div",{className:"flex flex-col gap-6 w-full p-4 md:max-w-4xl",children:t.blog.map((a,l)=>h.jsx(Xe,{to:`/blog/${a.blog_id}`,className:`flex flex-col md:flex-row gap-6 p-4  rounded-lg shadow-lg ${o?"bg-[#3f3f3f]":"bg-white"}`,children:h.jsxs("div",{className:"flex flex-col justify-between w-full",children:[h.jsxs("div",{className:"flex gap-3 items-center mb-4",children:[h.jsx("img",{src:a.author.personal_info.profile_img,className:"h-10 w-10 rounded-full",alt:a.author.personal_info.fullname}),h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsx("p",{className:"text-md font-semibold  w-[80%] truncate",children:a.author.personal_info.fullname}),h.jsxs("p",{className:"text-xs  w-[80%] truncate",children:["@",a.author.personal_info.username]}),h.jsx("p",{className:"text-xs ",children:Ss(a.publishedAt)})]})]}),h.jsxs("div",{className:"flex flex-col gap-2 mb-4 w-full",children:[h.jsx("p",{className:"font-bold text-lg underline w-full  break-words",children:a.title}),h.jsx("p",{className:"text-sm w-full break-words",children:a.des})]}),h.jsxs("div",{className:"flex justify-between items-center gap-4",children:[h.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map((c,d)=>h.jsxs("p",{className:"text-sm capitalize  px-2 py-1 truncate max-w-[100px] rounded-full",children:["#",c]},d))}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Bd,{className:"text-red-600 text-lg"}),h.jsx("p",{className:"text-sm",children:a.activity.total_likes})]})]})]})},l))}):h.jsx(Zn,{des:"Currently, there are no blogs available in the Trending blogs",error:"No blogs found for the Trending blogs",errorType:"BlogNotFound"})})}function kF(){const[t]=J(Le),[e,n]=J(Sn);let r=_n();return R.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),h.jsxs("div",{className:` ${t?"bg-[#121212]":"bg-[#f9fafb]"} text-${t?"white":"black"}`,children:[h.jsxs("div",{className:"w-full relative",style:{height:`calc(100vh - ${e}px)`},children:[h.jsx("img",{src:wF,className:`w-full h-full object-cover  ${t?"opacity-10":" opacity-30"}`,alt:"Home Background"}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center backdrop-blur-sm",children:h.jsxs("div",{className:"bg-opacity-80 p-8 rounded-lg  ",children:[h.jsx("img",{src:t?gs:ms,alt:"Logo",className:"max-h-16 mb-4 mx-auto"}),h.jsxs("div",{className:"text-center ",children:[h.jsx("h1",{className:"text-4xl font-bold",children:"Welcome to BlogNotes"}),h.jsx("p",{className:"mt-2 text-lg font-semibold",children:'"Notes from the Mind, Ideas for the Blog."'}),h.jsx("p",{className:"mt-4 max-w-lg mx-auto text-base",children:"Your go-to space for insightful articles and ideas that inspire."}),h.jsxs("div",{className:"flex gap-2 justify-center mt-3",children:[h.jsx("button",{onClick:()=>r("/editor/create-new-blog"),className:`${Re(t)}`,children:"Write Blog"}),h.jsx("button",{onClick:()=>r("/category/selectedcategory/All Blogs"),className:`${Re(t)}`,children:"Explore Blog"})]})]})]})})]}),h.jsxs("div",{className:"w-full bg-transparent p-5",style:{minHeight:`calc(100vh - ${e}px)`},children:[h.jsx("h1",{className:"flex justify-center text-3xl font-bold",children:"Trending Blogs"}),h.jsx(xF,{})]}),h.jsx("div",{className:"w-full bg-transparent p-5 flex flex-col items-center",style:{minHeight:`calc(100vh - ${e}px)`},children:h.jsxs("div",{className:"max-w-3xl p-3 mx-auto",children:[h.jsx("h1",{className:"text-center text-3xl font-bold mb-6",children:"Small Intro About BlogNotes"}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-2xl",children:"Welcome to BlogNotes"}),h.jsx("em",{className:"text-xl",children:"Notes from the Mind, Ideas for the Blog"})]}),h.jsx("p",{className:"mt-6 text-center text-md",children:"BlogNotes is a place where ideas evolve. Whether its a passing thought, a deep insight, or a creative spark, BlogNotes gives these ideas a home. The purpose is simple: to transform abstract concepts into discussions that inspire, inform, and challenge our way of thinking."}),h.jsx("h2",{className:"text-2xl font-semibold mt-8 text-center",children:"Why BlogNotes?"}),h.jsx("p",{className:"mt-4 text-center",children:"BlogNotes curates meaningful content, serving as both a personal knowledge base and a platform for sharing lessons, experiences, and curiosities. Topics range from lifestyle hacks and tech insights to broader discussions on philosophy and culture."}),h.jsx("h2",{className:"text-2xl font-semibold mt-8 text-center",children:"Join the Conversation"}),h.jsx("p",{className:"mt-4 text-center",children:"BlogNotes thrives on community engagement. Your thoughts, ideas, and feedback enrich the blog and foster collaborative growth. Thank you for visiting, and I hope BlogNotes inspires you as much as it inspires me to write."})]})})]})}function GS({blog:t}){const[e]=J(Le),{publishedAt:n,tags:r,des:o,title:i,banner:s,blog_id:a,activity:{total_likes:l},author:{personal_info:{fullname:c,profile_img:d,username:u}}}=t;return h.jsxs(Xe,{to:`/blog/${a}`,className:`flex flex-col justify-between gap-4 p-4 rounded-lg shadow-lg ${e?"bg-[#282828]":"bg-white"}`,children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("img",{src:s,className:"h-48 w-full object-cover rounded-lg hover:scale-105 transition-all",alt:"Banner"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("img",{src:d,className:"h-10 w-10 rounded-full",alt:"Profile"}),h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsx("p",{className:"text-md font-bold w-[80%] line-clamp-3 overflow-hidden break-words",children:c}),h.jsxs("p",{className:"text-xs text-gray-500 line-clamp-3 w-[80%] break-words",children:["@",u]}),h.jsx("p",{className:"text-xs text-gray-400",children:Ss(n)})]})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h1",{className:"font-bold underline break-words line-clamp-5",children:i}),h.jsx("p",{className:"break-words line-clamp-3",children:o})]})]}),h.jsxs("div",{className:"flex justify-between items-center break-words gap-2",children:[h.jsx("div",{className:"flex flex-wrap gap-2 w-[70%]",children:r.map((p,w)=>h.jsxs("p",{className:"text-sm capitalize w-full break-words line-clamp-1",children:["#",p]},w))}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Bd,{className:"text-red-600 text-lg"}),h.jsx("p",{className:"text-sm",children:l})]})]})]})}function _F(){const{categoryfromsearchbar:t}=Ir(),e=(t==null?void 0:t.toLowerCase())||"",[n]=J(Le),[r,o]=R.useState(null),[i,s]=R.useState(1),[a,l]=R.useState(!1),[c,d]=R.useState(!0),u=async f=>{f>1&&d(!1);try{const{data:b}=await ve.post("https://blognotes-server.onrender.com/api/blog/search_blogs",{tag:e,page:f}),y=await qa({state:f===1?null:r,data:b.blog,page:f,countRoute:"/api/blog/search_blogs_count",data_to_send:{tag:e}});d(!1),o(y),l(y.results.length>=y.totalDocs)}catch(b){console.error("Error fetching blogs by category:",b)}},p=async f=>{f>1&&d(!1);try{const{data:b}=await ve.post("https://blognotes-server.onrender.com/api/blog/latest_blog",{page:f}),y=await qa({state:f===1?null:r,data:b.blog,page:f,countRoute:"/api/blog/all_latest_blogs_count"});d(!1),o(y),l(y.results.length>=y.totalDocs)}catch(b){console.error("Error fetching latest blogs:",b)}},w=()=>{const f=i+1;s(f),t==="All Blogs"?p(f):u(f)};return R.useEffect(()=>{e&&(d(!0),s(1),t==="All Blogs"?p(1):u(1))},[e]),h.jsx("div",{className:"mb-4",children:c?h.jsx(Ar,{des:`Fetching blogs in the "${t}" category... Please wait.`}):h.jsx("div",{children:!c&&r&&r.results.length?h.jsxs("div",{children:[h.jsx("div",{className:`mb-2 z-30 hidden sm:flex sticky top-0 ${n?"bg-[#121212]":"bg-[#f9fafb]"}`,children:h.jsxs("h1",{className:"text-2xl font-semibold capitalize",children:["Latest Blog - ",e]})}),h.jsx("div",{className:"z-20 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2",children:r.results.map((f,b)=>h.jsx(GS,{blog:f},b))}),!a&&h.jsx("div",{children:h.jsx("button",{className:`${Re(n)} mt-3 mb-3`,onClick:w,children:"Load More"})})]}):h.jsx(Zn,{des:`Currently, there are no blogs available in the ${t} category.`,error:`No blogs found for the ${t} category.`,errorType:"CategoryBlogNotFound"})})})}function YS({action:t,index:e=void 0,replying_to:n=void 0,setReplying:r}){const[o,i]=R.useState(""),[s,a]=J(pt);let{blog:l,blog:{_id:c,author:{_id:d},comments:u,comments:{results:p},activity:w,activity:{total_comments:f,total_parent_comments:b}},setBlog:y,setTotalParentcommentsLoaded:v,totalParentcommentsLoaded:g}=R.useContext(wl);const[m,x]=J(Le),k=()=>{if(!s.access_token)return ce.error("Please Login to leave the comment");if(!o.length)return ce.error("Write Some comment befor submitting");ve.post("https://blognotes-server.onrender.com/api/comment_Like/add_comment",{_id:c,blog_author:d,comment:o,replying_to:n},{headers:{Authorization:`Bearer ${s.access_token}`}}).then(({data:_})=>{i(""),_.commented_by={personal_info:{username:s.username,fullname:s.fullname,profile_img:s.profile_img}};let E;n?(p[e].children.push(_._id),_.childrenLevel=p[e].childrenLevel+1,_.parentIndex=e,p[e].isReplyLoaded=!0,p.splice(e+1,0,_),E=p,r(!1)):(_.childrenLevel=0,E=[_,...p]);let S=n?0:1;y({...l,comments:{...u,results:E},activity:{...w,total_comments:f+1,total_parent_comments:b+S}}),v(T=>T+S)}).catch(_=>{console.log(_)})};return h.jsxs("div",{className:"w-full p-2  ",children:[h.jsx("textarea",{autoFocus:!0,className:"w-full min-h-24 rounded bg-transparent border p-1 resize-none outline-none ",value:o,placeholder:"Write a Comment",onChange:_=>i(_.target.value)}),h.jsx("div",{className:"flex gap-2",children:h.jsx("button",{className:` ${Re(m)}`,onClick:k,children:t})}),h.jsx(Or,{})]})}function SF({index:t,commentData:e}){const[n,r]=J(pt),{blog:o,blog:{comments:i,comments:{results:s}},setBlog:a,setTotalParentcommentsLoaded:l}=R.useContext(wl),[c,d]=R.useState(!1),[u,p]=J(Le),{commented_by:{personal_info:{username:w,profile_img:f}},commentedAt:b,comment:y,_id:v,children:g}=e,m=()=>{if(!n.access_token)return Un.error("Login before replying to a comment");d(N=>!N)},x=()=>{let N=t-1;try{for(;s[N].childrenLevel>=e.childrenLevel;)N--}catch{N=void 0}return N},k=(N,z=!1)=>{if(s[N])for(;s[N].childrenLevel>e.childrenLevel&&(s.splice(N,1),!!s[N]););if(z){let D=x();D!==void 0&&(s[D].children=s[D].children.filter(A=>A!==v),s[D].children.length||(s[D].isReplyLoaded=!1)),s.splice(t,1)}e.childrenLevel===0&&z&&l(D=>D-1),a({...o,comments:{results:s},activity:{...o.activity,total_parent_comments:o.activity.total_parent_comments-(e.childrenLevel===0&&z?1:0)}})},_=()=>{e.isReplyLoaded=!1,k(t+1)},E=({skip:N=0,currentIndex:z=t})=>{s[z].children.length?(_(),ve.post("https://blognotes-server.onrender.com/api/comment_Like/get_replies",{_id:s[z]._id,skip:N}).then(({data:{replies:D}})=>{console.log(D),s[z].isReplyLoaded=!0;for(let A=0;A<D.length;A++)D[A].childrenLevel=s[z].childrenLevel+1,s.splice(z+1+A+N,0,D[A]);a({...o,comments:{...i,results:s}})}).catch(D=>{console.log(D)})):console.log("no data")},S=N=>{N.target.setAttribute("disabled",!0),ve.post("https://blognotes-server.onrender.com/api/comment_Like/delete_comment",{_id:v},{headers:{Authorization:`Bearer ${n.access_token}`}}).then(()=>{console.log("deleted"),N.target.removeAttribute("disabled"),k(t+1,!0)}).catch(z=>{console.log(z)})},T=()=>{let N=x(),z=h.jsx("button",{className:`${Re(u)}`,onClick:()=>E({skip:t-N,currentIndex:N}),children:"Load More Replies"});if(s[t+1]){if(s[t+1].childrenLevel<s[t].childrenLevel&&t-N<s[N].children.length)return z}else if(N&&t-N<s[N].children.length)return z};return h.jsxs("div",{className:`flex flex-col gap-2 p-2  rounded-lg shadow-sm ${e.childrenLevel===0?u?"bg-[#3f3f3f]":"bg-white":""}`,children:[h.jsxs("div",{children:[h.jsx("div",{className:"flex gap-1 items-center justify-between",children:h.jsxs("div",{className:"flex gap-1 items-center",children:[h.jsx("img",{src:f,className:"h-8 w-8 rounded-full",alt:`${w}'s profile`}),h.jsxs("div",{className:"flex flex-col w-[90%]",children:[h.jsxs("h1",{className:"text-sm font-medium break-all",children:["@",w]}),h.jsx("h1",{className:"text-xs ",children:Ss(b)})]})]})}),h.jsx("div",{className:"mt-1 break-all  text-md",children:y}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex gap-1 mt-1",children:[e.isReplyLoaded?h.jsx("button",{className:`${Re(u)}`,onClick:_,children:"Hide Reply"}):g.length?h.jsx("button",{className:`${Re(u)}`,onClick:E,children:"Load Reply"}):null,h.jsx("button",{className:`${Re(u)}`,onClick:m,children:"Reply"})]}),(n.username===w||n.username===o.author.personal_info.username)&&h.jsx("button",{className:`${Re(u)}`,onClick:S,children:h.jsx(X8,{className:"text-lg"})})]}),c&&h.jsx(YS,{action:"Reply",index:t,replying_to:v,setReplying:d})]}),h.jsx(T,{})]})}const XS=async({skip:t=0,blog_id:e,setParentCommentCountFun:n,comment_array:r=null})=>{let o;return await ve.post("https://blognotes-server.onrender.com/api/comment_Like/get_blog_comments",{blog_id:e,skip:t}).then(({data:i})=>{i.map(s=>{s.childrenLevel=0}),n(s=>s+i.length),r==null?o={results:i}:o={results:[...r,...i]}}),console.log(o),o};function jy({action:t}){const{blog:e,blog:{_id:n,title:r,des:o,comments:{results:i},activity:{total_parent_comments:s}},setBlog:a,SetDisplaycomment:l,displayComment:c,totalParentcommentsLoaded:d,setTotalParentcommentsLoaded:u}=R.useContext(wl),[p,w]=J(Le),f=async()=>{let y=await XS({skip:d,blog_id:n,setParentCommentCountFun:u,comment_array:i});a({...e,comments:y})},b=()=>{l(!c)};return h.jsxs("div",{className:`h-full w-full  rounded-lg shadow-lg overflow-hidden mt-4  ${p?"bg-[#282828]":"bg-white"}`,children:[h.jsx("div",{className:"w-full  p-4 flex items-center justify-between border-b border-gray-300",children:h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsxs("span",{className:"font-bold text-lg flex gap-2 items-center",children:[h.jsx("h1",{children:"Comments"}),h.jsx("div",{className:"hover:cursor-pointer",onClick:b,children:h.jsx(WS,{className:"text-2xl text-gray-700 hover:text-red-600 transition duration-300"})})]}),h.jsx("p",{className:"text-sm h-fit w-full break-words ",children:r})]})}),h.jsx(YS,{action:t}),h.jsxs("div",{className:"w-full h-[60vh] flex flex-col gap-2 overflow-y-auto p-4",children:[i&&i.length?i.map((y,v)=>h.jsx(SF,{index:v,commentData:y},v)):h.jsx("h1",{className:"text-center text-gray-500",children:"No Comments!"}),s>d&&h.jsx("div",{className:"flex justify-center mt-4",children:h.jsx("button",{className:"p-2 bg-black rounded-lg text-white text-md hover:bg-gray-800 transition duration-300",onClick:f,children:"Load More"})})]})]})}function EF(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m12 20.703.343.667a.748.748 0 0 1-.686 0l-.003-.002-.007-.003-.025-.013a31.138 31.138 0 0 1-5.233-3.576C3.8 15.573 1 12.332 1 8.514v-.001C1 5.053 3.829 2.5 6.736 2.5 9.03 2.5 10.881 3.726 12 5.605 13.12 3.726 14.97 2.5 17.264 2.5 20.17 2.5 23 5.052 23 8.514c0 3.818-2.801 7.06-5.389 9.262a31.148 31.148 0 0 1-5.233 3.576l-.025.013-.007.003-.002.001ZM6.736 4C4.657 4 2.5 5.88 2.5 8.514c0 3.107 2.324 5.96 4.861 8.12a29.655 29.655 0 0 0 4.566 3.175l.073.041.073-.04c.271-.153.661-.38 1.13-.674.94-.588 2.19-1.441 3.436-2.502 2.537-2.16 4.861-5.013 4.861-8.12C21.5 5.88 19.343 4 17.264 4c-2.106 0-3.801 1.389-4.553 3.643a.751.751 0 0 1-1.422 0C10.537 5.389 8.841 4 6.736 4Z"},child:[]}]})(t)}function CF(t){return Se({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14 20.408c-.492.308-.903.546-1.192.709-.153.086-.308.17-.463.252h-.002a.75.75 0 0 1-.686 0 16.709 16.709 0 0 1-.465-.252 31.147 31.147 0 0 1-4.803-3.34C3.8 15.572 1 12.331 1 8.513 1 5.052 3.829 2.5 6.736 2.5 9.03 2.5 10.881 3.726 12 5.605 13.12 3.726 14.97 2.5 17.264 2.5 20.17 2.5 23 5.052 23 8.514c0 3.818-2.801 7.06-5.389 9.262A31.146 31.146 0 0 1 14 20.408Z"},child:[]}]})(t)}function TF(){const{blog:t,blog:{_id:e,blog_id:n,activity:r,activity:{total_likes:o,total_comments:i},author:{personal_info:{username:s}}},setBlog:a,isLikedByUser:l,setisLikedByUser:c,SetDisplaycomment:d,displayComment:u}=R.useContext(wl),[p]=J(pt),[w]=J(Le),f=()=>{const v=`${window.location.origin}/blog/${n}`;navigator.clipboard.writeText(v).then(()=>{ce.success("Link Copied")}).catch(g=>{ce.error("Failed to copy link"),console.error("Copy failed",g)})},b=()=>{if(p.access_token){c(g=>!g);const v=l?o-1:o+1;a({...t,activity:{...r,total_likes:v}}),ve.post("https://blognotes-server.onrender.com/api/comment_Like/like_blog",{_id:e,isLikedByUser:l},{headers:{Authorization:`Bearer ${p.access_token}`}}).then(({data:g})=>{console.log(g)}).catch(g=>{console.log(g)})}else ce.error("Please log in to like this post")},y=()=>{d(!u)};return R.useEffect(()=>{ve.post("https://blognotes-server.onrender.com/api/comment_Like/isLiked_by_user",{_id:e},{headers:{Authorization:`Bearer ${p.access_token}`}}).then(({data:{result:v}})=>{c(!!v)}).catch(v=>{console.log(v)})},[]),h.jsxs("div",{className:"w-full flex justify-between gap-2",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("div",{className:"flex items-center gap-2 hover:cursor-pointer p-2",onClick:b,children:[h.jsx("div",{className:`flex items-center gap-2 hover:cursor-pointer p-2 rounded-full ${l?"bg-red-500/50":""}`,children:l?h.jsx(CF,{className:"text-xl text-red-500"}):h.jsx(EF,{className:"text-xl"})}),h.jsx("p",{children:o})]}),h.jsxs("div",{className:"flex items-center gap-2 hover:cursor-pointer",onClick:y,children:[h.jsx(KS,{className:"text-xl"}),h.jsx("p",{children:i})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[p.username===s&&h.jsx(Xe,{to:`/editor/${n}`,className:`${Re(w)} !px-4`,children:"Edit"}),h.jsxs("div",{className:"relative group hover:cursor-pointer",onClick:f,children:[h.jsx(uF,{className:"text-xl"}),h.jsx("h1",{className:"absolute hidden group-hover:block left-10 -top-2 bg-black/50 p-2 rounded-lg w-fit whitespace-nowrap",children:"Copy Link"})]})]}),h.jsx(Or,{position:"bottom"})]})}const Ic=({href:t,children:e,rel:n,...r})=>h.jsx("a",{target:"_blank",rel:`noopener noreferrer${n?` ${n}`:""}`,href:t,...r,children:e??t}),NF=({url:t,caption:e})=>h.jsxs("div",{className:"w-full",children:[h.jsx("img",{className:"aspect-video w-full object-cover  rounded-lg",src:t,alt:e}),e.length>0&&h.jsx("p",{className:"mt-1 text-center",children:e})]}),RF=({quote:t,caption:e})=>h.jsxs("div",{className:"border-l-2 border-black p-2 pl-2",children:[h.jsx("p",{dangerouslySetInnerHTML:{__html:t}}),e.length>0&&h.jsx("p",{className:"mt-1 w-full font-bold",children:e})]}),IF=({style:t,items:e})=>h.jsx("div",{className:" pl-10",children:h.jsx("ol",{className:t==="ordered"?"list-decimal":"list-disc",children:e.map((n,r)=>h.jsx("li",{className:"my-4",dangerouslySetInnerHTML:{__html:n}},r))})});function LF({block:t}){const{type:e,data:n}=t;if(e==="paragraph")return h.jsx("p",{className:"w-full break-word",dangerouslySetInnerHTML:{__html:n.text.replace(/<a\s+href="([^"]+)"([^>]*)>([^<]+)<\/a>/gi,'<a href="$1" class="text-blue-700 underline break-word">$3</a>')}});if(e==="header"){const r=["text-4xl","text-3xl","text-2xl","text-xl","text-lg","text-base"],o=n.level-1,i=`font-bold ${r[o]}`;return h.jsx("h2",{className:i,dangerouslySetInnerHTML:{__html:n.text}})}if(e==="image")return h.jsx(NF,{url:n.file.url,caption:n.caption});if(e==="quote")return h.jsx(RF,{quote:n.text,caption:n.caption});if(e==="list")return h.jsx(IF,{style:n.style,items:n.items});if(e==="code")return h.jsx("pre",{className:"bg-black/50 rounded-lg p-2",children:n.code});if(e==="link")return h.jsx(Ic,{href:n.link,className:"underline text-blue-700 p-2",children:n.link})}function AF({content:t,author:e}){const{publishedAt:n,tags:r,title:o,blog_id:i,activity:{total_likes:s}}=t,{fullname:a,username:l,profile_img:c}=e,[d,u]=J(Le);return h.jsx(Xe,{to:`/blog/${i}`,className:`block ${d?"bg-[#3f3f3f]":"bg-white"} rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 `,children:h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex gap-2  ",children:[h.jsx("img",{src:c,className:"h-10 w-10 rounded-full",alt:"Profile"}),h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsx("p",{className:"text-md font-bold w-[80%] break-words line-clamp-3",children:a}),h.jsxs("p",{className:"text-xs text-gray-500  w-[80%] break-words line-clamp-3",children:["@",l]}),h.jsx("p",{className:"text-xs text-gray-400",children:Ss(n)})]})]}),h.jsxs("div",{className:"flex justify-between items-center gap-2",children:[h.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((p,w)=>h.jsxs("p",{className:"text-sm capitalize",children:["#",p]},w))}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Bd,{className:"text-red-600 text-lg"}),h.jsx("p",{className:"text-sm",children:s})]})]}),h.jsx("h1",{className:"text-lg font-bold  break-words mt-2",children:o})]})})}function Dy({banner:t,title:e,username:n,fullname:r,profile_img:o,publishedAt:i,content:s,similarBlog:a}){const[l]=J(Le);return R.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),h.jsx("div",{className:"h-fit w-full p-2",children:h.jsx("div",{className:"overflow-y-auto flex justify-center p-2 rounded-xl",children:h.jsxs("div",{className:`h-fit w-full md:max-w-3xl rounded-xl shadow-xl ${l?"bg-[#282828]":"bg-white"}`,children:[h.jsx("div",{className:"p-2 Banner aspect-video",children:h.jsx("img",{className:"w-full h-auto aspect-video object-cover rounded-lg",src:t,alt:"Banner"})}),h.jsxs("div",{className:"flex gap-2 p-4 w-full",children:[h.jsx("img",{src:o,className:"h-10 w-10 rounded-full",alt:"Profile"}),h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsx("p",{className:"text-md font-bold w-[80%] break-words",children:r}),h.jsxs("p",{className:"text-xs text-gray-500  w-[80%] break-words",children:["@",n]}),h.jsx("p",{className:"text-xs text-gray-400",children:Ss(i)})]})]}),h.jsx("div",{className:"p-2",children:h.jsx("h1",{className:"w-full break-words resize-none h-fit outline-none rounded-lg px-2 text-3xl leading-tight bg-transparent",children:e})}),h.jsxs("div",{className:"w-full p-2 rounded-lg",children:[h.jsx(TF,{}),h.jsxs("div",{className:"p-2 w-full",children:[h.jsx("div",{className:"p-3 h-fit w-full break-words gap-2 flex flex-col",children:s[0].blocks.map((c,d)=>h.jsx("div",{children:h.jsx(LF,{block:c})},d))}),h.jsx("hr",{className:"border-1 border-gray-500 mt-2 rounded-full"}),a&&a.length>0&&h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-2xl py-4",children:"Similar Blogs"}),h.jsx("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2",children:a.map((c,d)=>h.jsx(AF,{content:c,author:c.author.personal_info},d))})]})]})]})]})})})}let $y={title:"",content:"",tags:"",banner:"",author:{personal_info:{}},publishedAt:""};const wl=R.createContext();function OF(){let{blog_id:t}=Ir(),[e,n]=R.useState(!0),[r,o]=R.useState($y),[i,s]=R.useState(null);const[a,l]=R.useState(!1),[c,d]=J(Sn),[u,p]=R.useState(!1),[w,f]=R.useState(0);let{title:b,content:y,tags:v,banner:g,author:{personal_info:{fullname:m,username:x,profile_img:k}},publishedAt:_}=r;const E=()=>{ve.post("https://blognotes-server.onrender.com/api/blog/get_blog",{blog_id:t}).then(async({data:{blog:T}})=>{T.comments=await XS({blog_id:T._id,setParentCommentCountFun:f}),console.log(T),o(T),ve.post("https://blognotes-server.onrender.com/api/blog/search_blogs",{tag:T.tags[0],limit:6,eliminate_blog:t}).then(({data:N})=>{s(N.blog)}).catch(N=>{console.log(N)}),n(!1)}).catch(T=>{console.log(T),n(!1)})};R.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),S(),E()},[t]);const S=()=>{o($y),s(null),n(!0),l(!1),p(!1),f(0),window.scrollTo(top,0)};return h.jsx("div",{className:"w-full p-2 ",style:{minHeight:`calc(100vh - ${c}px)`},children:e?h.jsx(Ar,{des:"Fetching Blog data..."}):h.jsxs(wl.Provider,{value:{blog:r,setBlog:o,isLikedByUser:a,setisLikedByUser:l,displayComment:u,SetDisplaycomment:p,totalParentcommentsLoaded:w,setTotalParentcommentsLoaded:f},children:[h.jsx("div",{className:"mobile sm:hidden ",children:u?h.jsx("div",{className:"w-full",children:h.jsx(jy,{title:b,action:"Comment"})}):h.jsx(Dy,{banner:g,title:b,username:x,fullname:m,profile_img:k,publishedAt:_,content:y,similarBlog:i})}),h.jsxs("div",{className:"largerscreen hidden h-full w-full sm:flex items-start justify-center",children:[h.jsx("div",{className:`flex items-start justify-center ${u?"w-1/2":"w-full"}`,children:h.jsx(Dy,{banner:g,title:b,username:x,fullname:m,profile_img:k,publishedAt:_,content:y,similarBlog:i})}),u&&h.jsx("div",{className:"h-fit w-1/2 md:w-2/4 lg:w-1/4 ",children:h.jsx("div",{className:"w-full ",children:h.jsx(jy,{title:b,action:"Comment"})})})]})]})})}function PF(){const[t,e]=R.useState(!1),[n]=J(Le),{selectedCategory:r,setSelectedCategory:o}=R.useContext(JS),i=_n(),s=["Technology","Information Technology","Artificial Intelligence","Cybersecurity","Blockchain","ReactJS","Web Development","Mobile Development","Cloud Computing","Travel","Adventure Travel","Cultural Travel","Luxury Travel","Budget Travel","Travel Tips","Health","Nutrition","Mental Health","Fitness","Wellness","Healthcare Technology","Cooking","Quick Recipes","Healthy Cooking","Baking","Vegetarian Recipes","International Cuisine","Lifestyle","Minimalism","Fashion","Personal Development","Home Decor","Sustainability","Finance","Personal Finance","Investing","Cryptocurrency","Budgeting","Retirement Planning","Sustainability","Eco-Friendly Living","Renewable Energy","Sustainable Fashion","Zero Waste","Green Technology","Education","Online Learning","STEM Education","Teaching Resources","Educational Technology","Lifelong Learning","Parenting","Newborn Care","Parenting Tips","Education for Kids","Work-Life Balance","Parenting Styles"],a=l=>{e(!1),o(l),i(`/category/selectedcategory/${l}`)};return h.jsxs("div",{className:"h-full w-full p-2 rounded-lg ",children:[h.jsxs("div",{className:"sm:hidden flex items-center justify-between",children:[h.jsxs("h1",{className:`text-2xl font-semibold ${t||r==="Home"?"opacity-0":"opacity-100"}`,children:["Latest Blog - ",r]}),h.jsx("button",{type:"button",onClick:()=>e(!t),children:t?h.jsx(qS,{}):h.jsx(Pk,{})})]}),t&&h.jsxs("div",{className:"sm:hidden flex flex-col w-full gap-2 p-4",children:[h.jsx("div",{className:"w-full",children:h.jsx("h1",{className:`${Qs(n,"All Blogs",r)} cursor-pointer text-xl`,onClick:()=>a("All Blogs"),children:"All Blogs"})}),h.jsxs("div",{className:"flex flex-col items-start justify-start gap-2",children:[h.jsx("h1",{className:"text-xl font-bold px-3 py-2",children:"Category"}),s.map((l,c)=>h.jsx("button",{onClick:()=>a(l),className:`${Qs(n,l,r)}`,children:l},c))]})]}),h.jsx("div",{className:"hidden sm:flex flex-col gap-2 p-4",children:h.jsxs("div",{className:"flex flex-col items-start justify-start gap-2",children:[h.jsx("div",{className:"w-full",children:h.jsx("h1",{className:`${Qs(n,"All Blogs",r)} cursor-pointer text-xl`,onClick:()=>a("All Blogs"),children:"All Blogs"})}),h.jsx("h1",{className:"text-xl font-bold px-3 py-2 cursor-disabled",children:"Category"}),s.map((l,c)=>h.jsx("button",{onClick:()=>a(l),className:`${Qs(n,l,r)}`,children:l},c))]})})]})}const JS=R.createContext();function BF(){const{categoryfromsearchbar:t}=Ir(),[e]=J(Sn),[n,r]=R.useState(null);return R.useEffect(()=>{r(t),window.scrollTo({top:0,behavior:"smooth"})},[t]),h.jsx(JS.Provider,{value:{selectedCategory:n,setSelectedCategory:r},children:h.jsxs("div",{className:"w-full flex flex-col gap-2 sm:flex-row overflow-hidden",style:{minHeight:`calc(100vh - ${e}px)`},children:[h.jsx("div",{className:" categoryscrollbar w-full h-full  sm:w-2/5 md:w-2/6 lg:w-1/5 p-2 overflow-y-scroll ",style:{height:`calc(100vh - ${e}px)`},children:h.jsx(PF,{})}),h.jsx("div",{className:"flex-1 overflow-x-auto",children:h.jsx(dx,{})})]})})}function MF(){const[t]=J(Le);return h.jsx("footer",{className:`w-full py-10 mt-5 shadow-t-xl border-t ${t?"bg-[#1E1E1E] text-gray-300":"bg-white text-gray-700"}`,children:h.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[h.jsx("p",{className:"text-2xl font-bold",children:"BlogNotes"}),h.jsx("p",{className:"text-sm italic mt-2",children:"Notes from the Mind, Ideas for the Blog"}),h.jsxs("div",{className:"flex justify-center space-x-8 mt-8 text-sm font-medium",children:[h.jsx(Xe,{to:"/",children:" Home"}),h.jsx(Xe,{to:"/About",children:" About"}),h.jsx(Xe,{to:"/Contact",children:" Contact"})]}),h.jsxs("div",{className:"flex justify-center mt-8 space-x-6",children:[h.jsx("a",{href:"#",className:" ",children:h.jsx(z6,{className:"w-6 h-6"})}),h.jsx("a",{href:"#",className:" ",children:h.jsx(jk,{className:"w-6 h-6"})}),h.jsx("a",{href:"#",className:" ",children:h.jsx(Mk,{className:"w-6 h-6"})}),h.jsx("a",{href:"#",className:" ",children:h.jsx(Bk,{className:"w-6 h-6"})})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-8",children:" 2024 BlogNotes. All rights reserved."})]})})}class xl{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const jF=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Et={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:jF()},_v=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},DF=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=_v(t);Et.publicKey=n.publicKey,Et.blockHeadless=n.blockHeadless,Et.storageProvider=n.storageProvider,Et.blockList=n.blockList,Et.limitRate=n.limitRate,Et.origin=n.origin||e},ZS=async(t,e,n={})=>{const r=await fetch(Et.origin+t,{method:"POST",headers:n,body:e}),o=await r.text(),i=new xl(r.status,o);if(r.ok)return i;throw i},QS=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},$F=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},eE=t=>t.webdriver||!t.languages||t.languages.length===0,tE=()=>new xl(451,"Unavailable For Headless Browser"),UF=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},FF=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},zF=(t,e)=>t instanceof FormData?t.get(e):t[e],nE=(t,e)=>{if(FF(t))return!1;UF(t.list,t.watchVariable);const n=zF(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},rE=()=>new xl(403,"Forbidden"),HF=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},VF=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},oE=async(t,e,n)=>{if(!e.throttle||!n)return!1;HF(e.throttle,e.id);const r=e.id||t;return await VF(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},iE=()=>new xl(429,"Too Many Requests"),WF=async(t,e,n,r)=>{const o=_v(r),i=o.publicKey||Et.publicKey,s=o.blockHeadless||Et.blockHeadless,a=o.storageProvider||Et.storageProvider,l={...Et.blockList,...o.blockList},c={...Et.limitRate,...o.limitRate};return s&&eE(navigator)?Promise.reject(tE()):(QS(i,t,e),$F(n),n&&nE(l,n)?Promise.reject(rE()):await oE(location.pathname,c,a)?Promise.reject(iE()):ZS("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},qF=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},KF=t=>typeof t=="string"?document.querySelector(t):t,GF=async(t,e,n,r)=>{const o=_v(r),i=o.publicKey||Et.publicKey,s=o.blockHeadless||Et.blockHeadless,a=Et.storageProvider||o.storageProvider,l={...Et.blockList,...o.blockList},c={...Et.limitRate,...o.limitRate};if(s&&eE(navigator))return Promise.reject(tE());const d=KF(n);QS(i,t,e),qF(d);const u=new FormData(d);return nE(l,u)?Promise.reject(rE()):await oE(location.pathname,c,a)?Promise.reject(iE()):(u.append("lib_version","4.4.1"),u.append("service_id",t),u.append("template_id",e),u.append("user_id",i),ZS("/api/v1.0/email/send-form",u))},YF={init:DF,send:WF,sendForm:GF,EmailJSResponseStatus:xl};function XF(){const[t]=J(Le),[e,n]=J(Sn),[r,o]=R.useState(!1),i=R.useRef(),{register:s,handleSubmit:a,formState:{errors:l},reset:c}=_d(),d=async(u,p)=>{o(!0);let w="";if(u.image&&u.image[0]){const f=u.image[0],b=Cg(Tg,`/images/${u.user_email}/${f.name}`),y=Sg(b,f);w=await new Promise((v,g)=>{y.on("state_changed",m=>{const x=m.bytesTransferred/m.totalBytes*100;console.log(`Upload is ${x}% done`)},m=>{console.error("Upload error:",m),ce.error("Error uploading image."),g(m)},()=>{Eg(y.snapshot.ref).then(m=>{v(m)})})})}try{const f=await YF.send("service_xj8hxyc","template_j6xfe9f",{user_name:u.user_name,user_email:u.user_email,message:u.message,file_url:w},"9ZIOB5GrK4KOMXko2");ce.success("Message sent!"),console.log(f.text)}catch(f){ce.error("Something went wrong, please try again later."),console.error(f.text)}o(!1),p.target.reset(),c()};return R.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),h.jsxs("div",{className:"flex items-center flex-col ",style:{minHeight:`calc(100vh - ${e}px)`},children:[h.jsx("h1",{className:"text-center p-5 text-2xl font-bold",children:"Contact"}),h.jsx("div",{className:` ${t?"bg-[#1E1E1E] ":"bg-white "} shadow-lg rounded-lg max-w-2xl py-10 md:px-10 `,children:h.jsxs("div",{className:"w-full",children:[h.jsxs("div",{className:" h-full w-full justify-start items-center flex flex-col",children:[h.jsxs("div",{className:"flex flex-row gap-10",children:[h.jsx("button",{className:"contacticon",children:h.jsx(Ic,{href:"https://www.linkedin.com/in/akilrajn1153",children:h.jsx(Mk,{size:35,className:"icon"})})}),h.jsx("button",{className:"contacticon",children:h.jsx(Ic,{href:"https://github.com/Akilraj-1153",children:h.jsx(Ym,{size:35,className:"icon"})})}),h.jsx("button",{className:"contacticon",children:h.jsx(Ic,{href:"https://x.com/Akilraj1153?t=nclAtn7CQGL7vEhqIDB3pA&s=08",children:h.jsx(jk,{size:35,className:"icon"})})})]}),h.jsx("div",{className:"form  w-full p-5 m-5 rounded-xl  ",children:h.jsxs("form",{ref:i,onSubmit:a(d),className:"flex flex-col gap-2",children:[h.jsx("label",{className:"namelabel",children:"Name"}),h.jsx("input",{className:"p-2 nameip rounded-full bg-transparent border font-sans outline-none",type:"text",...s("user_name")}),h.jsx("label",{className:"emaillabel",children:"Email"}),h.jsx("input",{className:"p-2 emailip bg-transparent border rounded-full font-sans  outline-none",type:"email",...s("user_email",{required:!0})}),l.user_email&&h.jsx("span",{className:"error",children:"Email is required"}),h.jsx("label",{className:"textlabel",children:"Message"}),h.jsx("textarea",{className:"p-2 textip bg-transparent border rounded-lg font-sans h-20  outline-none resize-none",...s("message",{required:!0})}),l.message&&h.jsx("span",{className:"error",children:"Message is required"}),h.jsx("label",{className:"filelabel",children:"Attach an Image"}),h.jsx("input",{type:"file",...s("image")}),h.jsx("input",{className:`${Re(t)} cursor-pointer`,type:"submit",value:"Send",disabled:r})]})})]}),h.jsx(Or,{})]})})]})}function JF(){return R.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),h.jsxs("div",{className:"about-section px-6 py-10 md:px-16 lg:px-32 leading-relaxed",children:[h.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"About BlogNotes"}),h.jsx("h1",{className:"text-2xl font-bold mb-6 text-center ",children:h.jsx("em",{children:"Notes from the Mind, Ideas for the Blog"})}),h.jsxs("p",{className:"mb-6",children:["Welcome to ",h.jsx("strong",{children:"BlogNotes"}),", a digital space where thoughts, creativity, and innovation come to life. This blog is built on a passion for sharing ideas that inspire, inform, and ignite meaningful conversations. BlogNotes is more than just a collection of articlesits a platform for exploring diverse topics and deep reflections."]}),h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Our Vision"}),h.jsxs("p",{className:"mb-6",children:["At ",h.jsx("strong",{children:"BlogNotes"}),", we believe that knowledge is limitless, and curiosity is the spark that fuels progress. The blog is a reflection of this philosophy, aimed at sparking new ideas, connecting people with unique insights, and fostering a space where everyone can contribute to the growth of knowledge."]}),h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"What We Write About"}),h.jsx("p",{className:"mb-4",children:"Our blog covers a wide range of topics, catering to a curious and forward-thinking audience. Whether you're here for personal growth, tips on productivity, tech reviews, creative writing, or insights into culture and philosophy, BlogNotes offers something for everyone."}),h.jsxs("ul",{className:"list-disc list-inside mb-6 space-y-2",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Technology & Innovation:"})," Stay updated with the latest in the tech world, from software development tips to future trends."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Productivity & Personal Growth:"})," Get actionable advice on how to enhance your productivity and work-life balance."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Creative Writing:"})," Dive into stories, poems, and creative musings that stir the imagination."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Philosophy & Reflection:"})," Explore deep thoughts and philosophical discussions that challenge conventional thinking."]})]}),h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Why BlogNotes?"}),h.jsxs("p",{className:"mb-6",children:["The internet is filled with content, but at ",h.jsx("strong",{children:"BlogNotes"}),", we aim to stand out by offering fresh perspectives, insightful analysis, and quality over quantity. Each post is crafted to deliver meaningful value, leaving you with something to ponder long after you've finished reading. Our mission is to inspire curiosity and encourage lifelong learning."]}),h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"A Community of Thinkers"}),h.jsxs("p",{className:"mb-6",children:["At its core, ",h.jsx("strong",{children:"BlogNotes"})," is driven by the contributions and engagement of our readers. Whether youre someone who loves to consume knowledge or share it, we want to hear from you. Through thoughtful comments, guest posts, and engaging discussions, BlogNotes is as much yours as it is ours."]}),h.jsx("p",{className:"mb-6",children:"We believe in building a community of thinkers, dreamers, and doers who want to make the world a better, more informed place. Your voice is important to us, and we encourage you to join the conversation."}),h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Join the Journey"}),h.jsxs("p",{className:"mb-6",children:["We invite you to join us on this journey of discovery and exploration. Subscribe to our blog, comment on the posts, and become part of the ",h.jsx("strong",{children:"BlogNotes"})," community. Together, we can make this space a hub for creativity, innovation, and thoughtful dialogue."]}),h.jsx("p",{className:"text-lg font-medium",children:"Thank you for being here. Lets create, learn, and grow together!"}),h.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Welcome to BlogNotes!"})]})}function ZF({user:t}){const{personal_info:{fullname:e,username:n,profile_img:r},joinedAt:o}=t,[i]=J(Le);return h.jsxs(Xe,{to:`/user/${n}`,className:`flex gap-4 p-4 rounded-lg shadow-lg transition-all duration-300 ${i?"bg-[#282828] text-white hover:bg-[#1f1f1f]":"bg-white text-gray-900 hover:bg-gray-100"}`,children:[h.jsx("img",{src:r,alt:`${e}'s profile`,className:"w-12 h-12 rounded-full object-cover mr-4"}),h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsx("p",{className:"text-md font-bold w-[80%] break-words line-clamp-3",children:e}),h.jsxs("p",{className:"text-xs text-gray-500 w-[80%] break-words line-clamp-3",children:["@",n]}),h.jsx("p",{className:"text-xs text-gray-400",children:`Joined on ${new Date(o).toLocaleDateString()}`})]})]})}const Uy=({query:t,loadingLatest:e,latestBlogs:n,searchBlog:r})=>{var l;const[o,i]=J(Le),s=()=>{if(n&&n.totalDocs>n.results.length){const c=n.page+1;r({page:c})}},a=n&&n.totalDocs>n.results.length;return h.jsxs("section",{className:"p-4",children:[h.jsxs("h2",{className:"text-2xl font-bold mb-4 capitalize w-full truncate",children:["Search result for - ",t]}),e?h.jsx(Ar,{des:`Fetching blogs for ${t}`}):((l=n==null?void 0:n.results)==null?void 0:l.length)===0?h.jsx(Zn,{des:`Currently, there are no blogs available for ${t}`,error:`No blogs found for ${t}`,errorType:"BlogNotFound"}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:n.results.map((c,d)=>h.jsx(GS,{blog:c},d))}),!e&&n&&n.results.length!==0&&h.jsx("div",{className:"flex justify-between mt-4",children:h.jsx("button",{onClick:s,className:`${Re(o)} disabled:cursor-not-allowed`,disabled:!a,children:a?"Load More":"End Of Page"})})]})};function QF(){const{query:t}=Ir(),[e,n]=R.useState("Blog"),[r,o]=R.useState(null),[i,s]=R.useState(!0),[a,l]=R.useState(null),[c]=J(Le),[d]=J(Sn),u=async({page:f=1,create_new_arr:b=!1})=>{f===1&&s(!0);try{const{data:v}=await ve.post("https://blognotes-server.onrender.com/api/blog/search_blogs",{query:t,page:f}),g=await qa({state:b?[]:r,data:v.blog,page:f,countRoute:"/api/blog/search_blogs_count",data_to_send:{query:t},create_new_arr:b});o(g),s(!1)}catch{}},p=async()=>{try{const{data:{users:f}}=await ve.post("https://blognotes-server.onrender.com/api/user/search_users",{query:t});l(f)}catch{}},w=()=>h.jsxs("div",{className:"w-full p-2",children:[h.jsxs("h2",{className:"text-2xl font-bold mb-4 capitalize w-full truncate",children:["User's Matched for - ",t]}),h.jsx("div",{className:"flex flex-col gap-2",children:a?a.length>0?a.map((f,b)=>h.jsx(ZF,{user:f},b)):h.jsx(Zn,{des:"The user you are looking for was not found.",error:"User not found",errorType:"UserNotFound"}):h.jsx(Zn,{des:"The user you are looking for was not found.",error:"User not found",errorType:"UserNotFound"})})]});return R.useEffect(()=>{o(null),l(null),u({page:1,create_new_arr:!0}),p(),console.log("useEffect triggered")},[t]),h.jsxs("div",{className:"w-full flex flex-col",style:{minHeight:`calc(100vh - ${d}px)`},children:[h.jsxs("div",{className:"flex gap-2 p-2 md:hidden",children:[h.jsx("button",{className:`${Re(c)}`,onClick:()=>n("Blog"),children:"Blog"}),h.jsx("button",{className:`${Re(c)}`,onClick:()=>n("User's Matched"),children:"User's Matched"})]}),h.jsxs("div",{className:"w-full h-full",children:[h.jsx("div",{className:"w-full flex md:hidden",children:e==="Blog"?h.jsx("div",{className:"w-full h-full",children:h.jsx(Uy,{query:t,loadingLatest:i,latestBlogs:r,searchBlog:u})}):h.jsx("div",{className:"w-full h-full",children:h.jsx(w,{})})}),h.jsxs("div",{className:"w-full hidden md:flex",children:[h.jsx("div",{className:"md:w-3/5 lg:w-4/6",children:h.jsx(Uy,{query:t,loadingLatest:i,latestBlogs:r,searchBlog:u})}),h.jsx("div",{className:"md:w-2/5 lg:w-2/6",children:h.jsx(w,{})})]})]})]})}function ez(){const[t,e]=J(Le),[n,r]=J(pt),[o,i]=R.useState(!0);_n();const[s,a]=J(Sn),l=S8();return R.useEffect(()=>{const c=localStorage.getItem("user");c&&r(JSON.parse(c)),i(!1)},[r]),R.useEffect(()=>{const c=localStorage.getItem("darkTheme");c&&e(JSON.parse(c))},[e]),R.useEffect(()=>{document.body.style.backgroundColor=t?"#121212":"#f9fafb"},[t]),o?h.jsx(Ar,{des:"Intializing BlogNotes"}):h.jsx(h.Fragment,{children:l.online?h.jsxs("div",{className:`${t?"text-white":"text-black"} transition-all duration-100 font-mate w-screen`,children:[h.jsx("div",{className:`sticky top-0 z-40 ${t?"bg-[#121212]":"bg-[#f9fafb]"}`,children:h.jsx(k8,{onHeightChange:a})}),h.jsxs("div",{style:{minHeight:`calc(100vh - ${s}px)`},children:[h.jsxs(_4,{children:[h.jsx(mt,{path:"/",element:h.jsx(kF,{})}),h.jsx(mt,{path:"category",element:h.jsx(BF,{}),children:h.jsx(mt,{path:"selectedcategory/:categoryfromsearchbar",element:h.jsx(_F,{})})}),h.jsx(mt,{path:"/login",element:h.jsx(yy,{type:"signin"})}),h.jsx(mt,{path:"/register",element:h.jsx(yy,{type:"signup"})}),h.jsx(mt,{path:"/editor/:blog_id",element:h.jsx(ZU,{})}),h.jsx(mt,{path:"/search/:query",element:h.jsx(QF,{})}),h.jsx(mt,{path:"/blog/:blog_id",element:h.jsx(OF,{})}),h.jsx(mt,{path:"/Contact",element:h.jsx(XF,{})}),h.jsx(mt,{path:"/About",element:h.jsx(JF,{})}),h.jsx(mt,{path:"/user/:id",element:h.jsx(rF,{})}),h.jsxs(mt,{path:"settings",element:h.jsx(My,{}),children:[h.jsx(mt,{path:"Edit-Profile",element:h.jsx(fF,{})}),h.jsx(mt,{path:"Change-Password",element:h.jsx(oF,{})})]}),h.jsxs(mt,{path:"dashboard",element:h.jsx(My,{}),children:[h.jsx(mt,{path:"blog",element:h.jsx(vF,{})}),h.jsx(mt,{path:"notifications",element:h.jsx(bF,{})})]}),h.jsx(mt,{path:"*",element:h.jsx(Zn,{des:"The page you're looking for doesn't exist. Please check the URL or return to the homepage.",error:"404 Page Not Found",errorType:"PageNotFound"})})]}),h.jsx(MF,{})]})]}):h.jsx(E8,{})})}ex(document.getElementById("root")).render(h.jsx(I4,{basename:"/BlogNotes",children:h.jsx(S6,{children:h.jsx(ez,{})})}));
